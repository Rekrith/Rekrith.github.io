<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<title>Crusty&#39;s Carriage</title>
<style title="Twine CSS">@keyframes appear{0%{opacity:0}to{opacity:1}}@keyframes fade-in-out{0%,to{opacity:0}50%{opacity:1}}@keyframes rumble{25%{top:-0.1em}75%{top:0.1em}0%,to{top:0px}}@keyframes shudder{25%{left:0.1em}75%{left:-0.1em}0%,to{left:0px}}@keyframes buoy{25%{top:0.25em}75%{top:-0.25em}0%,to{top:0px}}@keyframes sway{25%{left:0.25em}75%{left:-0.25em}0%,to{left:0px}}@keyframes pulse{0%{transform:scale(0, 0)}20%{transform:scale(1.2, 1.2)}40%{transform:scale(0.9, 0.9)}60%{transform:scale(1.05, 1.05)}80%{transform:scale(0.925, 0.925)}to{transform:scale(1, 1)}}@keyframes zoom-in{0%{transform:scale(0, 0)}to{transform:scale(1, 1)}}@keyframes shudder-in{0%, to{transform:translateX(0em)}5%, 25%, 45%{transform:translateX(-1em)}15%, 35%, 55%{transform:translateX(1em)}65%{transform:translateX(-0.6em)}75%{transform:translateX(0.6em)}85%{transform:translateX(-0.2em)}95%{transform:translateX(0.2em)}}@keyframes rumble-in{0%, to{transform:translateY(0em)}5%, 25%, 45%{transform:translateY(-1em)}15%, 35%, 55%{transform:translateY(1em)}65%{transform:translateY(-0.6em)}75%{transform:translateY(0.6em)}85%{transform:translateY(-0.2em)}95%{transform:translateY(0.2em)}}@keyframes fidget{0%, 8.1%, 82.1%, 31.1%, 38.1%, 44.1%, 40.1%, 47.1%, 74.1%, 16.1%, 27.1%, 72.1%, 24.1%, 95.1%, 6.1%, 36.1%, 20.1%, 4.1%, 91.1%, 14.1%, 87.1%, to{left:0px;top:0px}8%, 82%, 31%, 38%, 44%{left:-1px}40%, 47%, 74%, 16%, 27%{left:1px}72%, 24%, 95%, 6%, 36%{top:-1px}20%, 4%, 91%, 14%, 87%{top:1px}}@keyframes slide-right{0%{transform:translateX(-100vw)}}@keyframes slide-left{0%{transform:translateX(100vw)}}@keyframes slide-up{0%{transform:translateY(100vh)}}@keyframes slide-down{0%{transform:translateY(-100vh)}}@keyframes fade-right{0%{opacity:0;transform:translateX(-1em)}to{opacity:1}}@keyframes fade-left{0%{opacity:0;transform:translateX(1em)}to{opacity:1}}@keyframes fade-up{0%{opacity:0;transform:translateY(1em)}to{opacity:1}}@keyframes fade-down{0%{opacity:0;transform:translateY(-1em)}to{opacity:1}}@keyframes flicker{0%,29%,31%,63%,65%,77%,79%,86%,88%,91%,93%{opacity:0}30%{opacity:0.2}64%{opacity:0.4}78%{opacity:0.6}87%{opacity:0.8}92%, to{opacity:1}}@keyframes blur{0%{filter:blur(2rem);opacity:0}25%{opacity:1}to{filter:blur(0rem);opacity:1}}.dom-debug-mode tw-story,.dom-debug-mode tw-passage,.dom-debug-mode tw-sidebar,.dom-debug-mode tw-include,.dom-debug-mode tw-hook,.dom-debug-mode tw-expression,.dom-debug-mode tw-link,.dom-debug-mode tw-dialog,.dom-debug-mode tw-columns,.dom-debug-mode tw-column,.dom-debug-mode tw-align{outline:1px solid #f5a3da;min-height:32px;display:block !important}.dom-debug-mode tw-story::before,.dom-debug-mode tw-passage::before,.dom-debug-mode tw-sidebar::before,.dom-debug-mode tw-include::before,.dom-debug-mode tw-hook::before,.dom-debug-mode tw-expression::before,.dom-debug-mode tw-link::before,.dom-debug-mode tw-dialog::before,.dom-debug-mode tw-columns::before,.dom-debug-mode tw-column::before,.dom-debug-mode tw-align::before{position:absolute;top:0;left:0;height:16px;background-color:#f5a3da;color:black;font-size:16px;font-weight:normal;font-style:normal;font-family:monospace;display:inline-block;line-height:100%;white-space:pre;z-index:999997}.dom-debug-mode tw-story:hover,.dom-debug-mode tw-passage:hover,.dom-debug-mode tw-sidebar:hover,.dom-debug-mode tw-include:hover,.dom-debug-mode tw-hook:hover,.dom-debug-mode tw-expression:hover,.dom-debug-mode tw-link:hover,.dom-debug-mode tw-dialog:hover,.dom-debug-mode tw-columns:hover,.dom-debug-mode tw-column:hover,.dom-debug-mode tw-align:hover{outline:1px solid #fc9}.dom-debug-mode tw-story:hover::before,.dom-debug-mode tw-passage:hover::before,.dom-debug-mode tw-sidebar:hover::before,.dom-debug-mode tw-include:hover::before,.dom-debug-mode tw-hook:hover::before,.dom-debug-mode tw-expression:hover::before,.dom-debug-mode tw-link:hover::before,.dom-debug-mode tw-dialog:hover::before,.dom-debug-mode tw-columns:hover::before,.dom-debug-mode tw-column:hover::before,.dom-debug-mode tw-align:hover::before{background-color:#fc9;transition:background-color 1s}.dom-debug-mode tw-passage,.dom-debug-mode tw-include,.dom-debug-mode tw-hook,.dom-debug-mode tw-expression,.dom-debug-mode tw-link,.dom-debug-mode tw-dialog,.dom-debug-mode tw-columns,.dom-debug-mode tw-column,.dom-debug-mode tw-align{padding:1em;margin:0}.dom-debug-mode tw-story::before{content:'<tw-story tags="' attr(tags) '">'}.dom-debug-mode tw-passage::before{top:-16px;content:'<tw-passage tags="' attr(tags) '">'}.dom-debug-mode tw-sidebar::before{top:-16px;content:"<tw-sidebar>"}.dom-debug-mode tw-hook::before{content:'<tw-hook name="' attr(name) '">'}.dom-debug-mode tw-expression::before{content:'<tw-expression name="' attr(name) '">'}.dom-debug-mode tw-link::before{content:'<tw-link name="' attr(name) '">'}.dom-debug-mode tw-dialog::before{content:"<tw-dialog>"}.dom-debug-mode tw-columns::before{content:"<tw-columns>"}.dom-debug-mode tw-column::before{content:"<tw-column>"}.dom-debug-mode tw-align::before{content:"<tw-align>"}.dom-debug-mode tw-include::before{content:'<tw-include type="' attr(type) '" name="' attr(name) '">'}.debug-mode tw-expression{display:inline-block !important}.debug-mode tw-expression[type=variable]::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"$" attr(name)}.debug-mode tw-expression[type=tempVariable]::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"_" attr(name)}.debug-mode tw-expression[return=boolean]{background-color:rgba(179,179,179,0.2)}.debug-mode tw-expression[return=array]{background-color:rgba(255,102,102,0.2)}.debug-mode tw-expression[return=dataset]{background-color:rgba(255,128,0,0.2)}.debug-mode tw-expression[return=number]{background-color:rgba(255,179,102,0.2)}.debug-mode tw-expression[return=datamap]{background-color:rgba(255,255,102,0.2)}.debug-mode tw-expression[return=changer]{background-color:rgba(179,255,102,0.2)}.debug-mode tw-expression[return=lambda]{background-color:rgba(102,255,102,0.2)}.debug-mode tw-expression[return=hookname]{background-color:rgba(102,255,204,0.2)}.debug-mode tw-expression[return=string]{background-color:rgba(102,255,255,0.2)}.debug-mode tw-expression[return=datatype]{background-color:rgba(102,153,255,0.2)}.debug-mode tw-expression[return=gradient],.debug-mode tw-expression[return=colour]{background-color:rgba(204,102,255,0.2)}.debug-mode tw-expression[return=instant],.debug-mode tw-expression[return=macro]{background-color:rgba(240,117,199,0.2)}.debug-mode tw-expression[return=command]{background-color:rgba(153,153,255,0.2)}.debug-mode tw-expression.false{background-color:rgba(255,0,0,0.2) !important}.debug-mode tw-expression[type=macro]::before{content:"(" attr(name) ":)";padding:0 0.5rem;font-size:1rem;vertical-align:middle;line-height:normal;background-color:inherit;border:1px solid rgba(255,255,255,0.5)}.debug-mode tw-hook{background-color:rgba(0,85,255,0.1) !important}.debug-mode tw-hook::before{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"["}.debug-mode tw-hook::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"]"}.debug-mode tw-hook[name]::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"]<" attr(name) "|"}.debug-mode tw-pseudo-hook{background-color:rgba(255,170,0,0.1) !important}.debug-mode tw-collapsed::before{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"{"}.debug-mode tw-collapsed::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"}"}.debug-mode tw-verbatim::before,.debug-mode tw-verbatim::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"`"}.debug-mode tw-align[style*="text-align: center"]{background:linear-gradient(to right, rgba(255,204,189,0) 0%, rgba(255,204,189,0.25) 50%, rgba(255,204,189,0) 100%)}.debug-mode tw-align[style*="text-align: left"]{background:linear-gradient(to right, rgba(255,204,189,0.25) 0%, rgba(255,204,189,0) 100%)}.debug-mode tw-align[style*="text-align: right"]{background:linear-gradient(to right, rgba(255,204,189,0) 0%, rgba(255,204,189,0.25) 100%)}.debug-mode tw-column{background-color:rgba(189,228,255,0.2)}.debug-mode tw-enchantment{animation:enchantment 0.5s infinite;border:1px solid}.debug-mode tw-link::after,.debug-mode tw-broken-link::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:attr(passage-name)}.debug-mode tw-include{background-color:rgba(204,128,51,0.1)}.debug-mode tw-include::before{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:attr(type) ' "' attr(name) '"'}@keyframes enchantment{0%,to{border-color:#ffb366}50%{border-color:#6fc}}tw-debugger{position:fixed;box-sizing:border-box;bottom:0;right:0;z-index:999999;min-width:10em;min-height:1em;padding:0em 0.5em 0.5em 1em;font-size:1.25em;font-family:sans-serif;color:#000;border-left:solid #000 2px;border-top:solid #000 2px;border-top-left-radius:.5em;background:#fff;opacity:1}tw-debugger select{margin-right:1em;width:12em}tw-debugger button{border-radius:3px;border:solid #999 1px;margin:auto 4px;background-color:#fff;font-size:inherit;color:#000}tw-debugger button.enabled{background-color:#eee;box-shadow:inset #ddd 3px 5px 0.5em}tw-debugger .panel{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;position:absolute;bottom:100%;left:-2px;right:0;padding:1em;max-height:40vh;overflow-y:scroll;overflow-x:hidden;z-index:999998;background:#fff;border:inherit;border-bottom:solid #999 2px;border-top-left-radius:.5em;border-bottom-left-radius:.5em;font-size:0.8em}tw-debugger .panel:empty,tw-debugger .panel[hidden]{display:none}tw-debugger .panel-source,tw-debugger .panel-row-source{font-family:monospace;overflow-x:scroll;white-space:pre;-ms-flex-preferred-size:100%;flex-basis:100%}tw-debugger .panel-row-source{margin:5px 0}tw-debugger .panel-rows{width:100%;overflow-x:scroll}tw-debugger .panel-rows>*{display:table-row}tw-debugger .panel-rows>div:nth-of-type(2n){background:#EEE}tw-debugger .panel-row-buttons{text-align:right}tw-debugger .panel-variables .panel-rows:empty::before{content:"~ No variables ~";font-style:italic;color:#888;text-align:center}tw-debugger .panel-enchantments .panel-rows:empty::before{content:"~ No enchantments ~";font-style:italic;color:#888;text-align:center}tw-debugger .panel-errors .panel-rows:empty::before{content:"~ No errors... for now. ~";font-style:italic;color:#888;text-align:center}tw-debugger .panel-rows:empty+.panel-variables-bottom{display:none}tw-debugger .panel-storylets:not(.panel-exclusive) .storylet-exclusive,tw-debugger .panel-storylets:not(.panel-urgent) .storylet-urgent{display:none}tw-debugger .panel-variables-bottom{padding-top:5px}tw-debugger .enchantment-row{min-height:1.5em}tw-debugger .variable-path{opacity:0.4}tw-debugger .temporary-variable-scope,tw-debugger .enchantment-local{font-family:sans-serif;font-weight:normal;opacity:0.8;font-size:0.75em}tw-debugger .temporary-variable-scope:not(:empty)::before,tw-debugger .enchantment-local:not(:empty)::before{content:" in "}tw-debugger .variable-name,tw-debugger .enchantment-name{font-family:monospace;font-weight:bold}tw-debugger .variable-type{color:#444;font-weight:normal;text-overflow:ellipsis;overflow:hidden;max-width:10em}tw-debugger .error-row{display:table-row;background-color:rgba(230,101,204,0.3)}tw-debugger .error-row:nth-of-type(2n){background-color:rgba(237,145,219,0.3)}tw-debugger .error-row>*{display:table-cell;padding:0.25em 0.5em}tw-debugger .error-row .error-message{cursor:help}tw-debugger .error-row .error-passage{color:#444}tw-debugger .storylet-row{background-color:rgba(201,233,222,0.3)}tw-debugger .storylet-row:nth-child(2n){background-color:rgba(128,203,178,0.3)}tw-debugger .storylet-row.storylet-closed{font-style:italic;opacity:0.4;background-color:rgba(217,217,217,0.3)}tw-debugger .storylet-row.storylet-closed:nth-child(2n){background-color:rgba(166,166,166,0.3)}.storylet-error tw-debugger .storylet-row{background-color:rgba(230,101,204,0.3)}.storylet-error tw-debugger .storylet-row:nth-child(2n){background-color:rgba(237,145,219,0.3)}tw-debugger .storylet-row .storylet-name,tw-debugger .storylet-row .storylet-value{display:inline-block;width:50%}tw-debugger .tabs{padding-bottom:0.5em}tw-debugger .tab{border-radius:0px 0px 0.5em 0.5em;border-top:none}tw-debugger .resizer{position:absolute;height:3em;border-left:2px solid #ccc;border-right:2px solid #ccc;top:10px;left:4px;width:8px;cursor:ew-resize}tw-dialog{z-index:999997;border:#fff solid 2px;padding:2em;color:#fff;background-color:#000;display:block}@media (min-width: 576px){tw-dialog{max-width:50vw}}tw-dialog input[type=text]{font-size:inherit;width:100%}tw-dialog-links{text-align:right;display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end}tw-backdrop{z-index:999996;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,0.8);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}tw-backdrop ~ tw-backdrop{display:none}tw-link,.link,tw-icon,.enchantment-clickblock{cursor:pointer}tw-link,.enchantment-link{color:#4169E1;font-weight:bold;text-decoration:none;transition:color 0.2s ease-in-out}tw-passage [style^="color"] tw-link:not(:hover),tw-passage [style*=" color"] tw-link:not(:hover),tw-passage [style^="color"][hover="true"] tw-link:hover,tw-passage [style*=" color"][hover="true"] tw-link:hover,tw-passage [style^="color"] .enchantment-link:not(:hover),tw-passage [style*=" color"] .enchantment-link:not(:hover),tw-passage [style^="color"][hover="true"] .enchantment-link:hover,tw-passage [style*=" color"][hover="true"] .enchantment-link:hover{color:inherit}tw-link:hover,.enchantment-link:hover{color:#00bfff}tw-link:active,.enchantment-link:active{color:#DD4B39}.visited{color:#6941e1}tw-passage [style^="color"] .visited:not(:hover),tw-passage [style*=" color"] .visited:not(:hover),tw-passage [style^="color"][hover="true"] .visited:hover,tw-passage [style*=" color"][hover="true"] .visited:hover{color:inherit}.visited:hover{color:#E3E}tw-broken-link{color:#993333;border-bottom:2px solid #993333;cursor:not-allowed}tw-passage [style^="color"] tw-broken-link:not(:hover),tw-passage [style*=" color"] tw-broken-link:not(:hover),tw-passage [style^="color"][hover="true"] tw-broken-link:hover,tw-passage [style*=" color"][hover="true"] tw-broken-link:hover{color:inherit}.enchantment-mouseover{border-bottom:2px dashed #999}.enchantment-mouseout{border:rgba(64,149,191,0.6) 1px solid}.enchantment-mouseout:hover{background-color:rgba(175,197,207,0.75);border:transparent 1px solid;border-radius:0.2em}.enchantment-clickblock{width:100%;height:100%;display:block}.enchantment-clickblock>:not(tw-enchantment)::after{content:"";width:100%;height:100%;top:0;left:0;display:block;box-sizing:border-box;position:absolute;pointer-events:none;color:rgba(65,105,225,0.5);transition:color 0.2s ease-in-out}.enchantment-clickblock>:not(tw-enchantment):hover::after{color:rgba(0,191,255,0.5)}.enchantment-clickblock>:not(tw-enchantment):active::after{color:rgba(222,78,59,0.5)}.enchantment-clickblock>:not(tw-enchantment)::after{box-shadow:inset 0 0 0 0.5vmax}.enchantment-clickblock>tw-passage::after,.enchantment-clickblock>tw-sidebar::after{box-shadow:0 0 0 0.5vmax}.enchantment-mouseoverblock>:not(tw-enchantment)::after{content:"";width:100%;height:100%;top:0;left:0;display:block;box-sizing:border-box;position:absolute;pointer-events:none;border:2px dashed #999}.enchantment-mouseoutblock>:not(tw-enchantment)::after{content:"";width:100%;height:100%;top:0;left:0;display:block;box-sizing:border-box;position:absolute;pointer-events:none;border:rgba(64,149,191,0.6) 2px solid}.enchantment-mouseoutblock:hover>:not(tw-enchantment)::after{content:"";width:100%;height:100%;top:0;left:0;display:block;box-sizing:border-box;position:absolute;pointer-events:none;background-color:rgba(175,197,207,0.75);border:transparent 2px solid;border-radius:0.2em}tw-link.enchantment-button,.enchantment-link.enchantment-button,.enchantment-button:not(.enchantment-link) tw-link,.enchantment-button:not(.enchantment-link) .enchantment-link{border-radius:16px;border-style:solid;border-width:2px;text-align:center;padding:0px 8px;display:block}tw-dialog-links{padding-top:1.5em}tw-dialog-links tw-link{border-radius:16px;border-style:solid;border-width:2px;text-align:center;padding:0px 8px;display:block;display:inline-block}html{margin:0;height:100%;overflow-x:hidden}*,:before,:after{position:relative;box-sizing:inherit}body{margin:0;height:100%}tw-storydata{display:none}tw-story{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;font:100% Georgia, serif;box-sizing:border-box;width:100%;min-height:100%;font-size:1.5em;line-height:1.5em;padding:5% 5%;overflow:hidden;background-color:#000;color:#fff}tw-story [style*=content-box] *{box-sizing:border-box}@media (min-width: 576px){tw-story{padding:5% 20%}}tw-story tw-consecutive-br{display:block;height:1.6ex;visibility:hidden}tw-story select{background-color:transparent;font:inherit;border-style:solid;padding:2px}tw-story select:not([disabled]){color:inherit}tw-story textarea{resize:none;background-color:transparent;font:inherit;color:inherit;border-style:none;padding:2px}tw-story input[type=checkbox]{transform:scale(1.5);margin:0 0.5em}tw-story tw-noscript{animation:appear 0.8s}tw-passage{display:block}tw-sidebar{text-align:center;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}@media (min-width: 576px){tw-sidebar{left:-5em;width:3em;position:absolute;-ms-flex-direction:column;flex-direction:column}tw-enchantment[style*="width"]>tw-sidebar{width:inherit}}tw-icon{display:inline-block;margin:0.5em 0;font-size:66px;font-family:"Verdana",sans-serif}tw-icon[alt]{opacity:0.2}tw-icon[alt]:hover{opacity:0.4}tw-icon[data-label]::after{font-weight:bold;content:attr(data-label);font-size:20px;bottom:-20px;left:-50%;white-space:nowrap}tw-meter{display:block}tw-hook:empty,tw-expression:empty{display:none}tw-error{display:inline-block;border-radius:0.2em;padding:0.2em;font-size:1rem;cursor:help;white-space:pre-wrap}tw-error.error{background-color:rgba(223,58,190,0.6);color:#fff}tw-error.warning{background-color:rgba(223,140,58,0.6);color:#fff;display:none}.debug-mode tw-error.warning{display:inline}tw-error-explanation{display:block;font-size:0.8rem;line-height:1rem}tw-open-button,tw-folddown{cursor:pointer;line-height:0em;border-radius:1px;border:1px solid black;font-size:0.8rem;margin:0 0.4rem;padding:2px;white-space:pre}tw-folddown::after{content:"\25b6"}tw-folddown.open::after{content:"\25bc"}tw-open-button::after{content:"Open"}tw-notifier{border-radius:0.2em;padding:0.2em;font-size:1rem;background-color:rgba(223,182,58,0.4);display:none}.debug-mode tw-notifier{display:inline}tw-notifier::before{content:attr(message)}tw-colour{border:1px solid black;display:inline-block;width:1em;height:1em}tw-enchantment:empty{display:none}h1{font-size:3em}h2{font-size:2.25em}h3{font-size:1.75em}h1,h2,h3,h4,h5,h6{line-height:1em;margin:0.3em 0 0.6em 0}pre{font-size:1rem;line-height:initial}small{font-size:70%}big{font-size:120%}mark{color:rgba(0,0,0,0.6);background-color:#ff9}ins{color:rgba(0,0,0,0.6);background-color:rgba(255,242,204,0.5);border-radius:0.5em;box-shadow:0em 0em 0.2em #ffe699;text-decoration:none}center{text-align:center;margin:0 auto;width:60%}blink{text-decoration:none;animation:fade-in-out 1s steps(1, end) infinite alternate}tw-align{display:block}tw-columns{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between}.transition-in{animation:appear 0ms step-start}.transition-out{animation:appear 0ms step-end}[data-t8n^=dissolve].transition-in,[data-t8n=fade].transition-in{animation:appear .8s}[data-t8n^=dissolve].transition-out,[data-t8n=fade].transition-out{animation:appear .8s reverse}[data-t8n^=shudder].transition-in{display:inline-block !important;animation:shudder-in .8s}[data-t8n^=shudder].transition-out{display:inline-block !important;animation:shudder-in .8s reverse}[data-t8n^=rumble].transition-in{display:inline-block !important;animation:rumble-in .8s}[data-t8n^=rumble].transition-out{display:inline-block !important;animation:rumble-in .8s reverse}[data-t8n^=pulse].transition-in{animation:pulse .8s;display:inline-block !important}[data-t8n^=pulse].transition-out{animation:pulse .8s reverse;display:inline-block !important}[data-t8n^=zoom].transition-in{animation:zoom-in .8s;display:inline-block !important}[data-t8n^=zoom].transition-out{animation:zoom-in .8s reverse;display:inline-block !important}[data-t8n^=blur].transition-in{animation:blur .8s;display:inline-block !important}[data-t8n^=blur].transition-out{animation:blur .8s reverse;display:inline-block !important}[data-t8n^=slideleft].transition-in{animation:slide-left .8s;display:inline-block !important}[data-t8n^=slideleft].transition-out{animation:slide-right .8s reverse;display:inline-block !important}[data-t8n^=slideright].transition-in{animation:slide-right .8s;display:inline-block !important}[data-t8n^=slideright].transition-out{animation:slide-left .8s reverse;display:inline-block !important}[data-t8n^=slideup].transition-in{animation:slide-up .8s;display:inline-block !important}[data-t8n^=slideup].transition-out{animation:slide-down .8s reverse;display:inline-block !important}[data-t8n^=slidedown].transition-in{animation:slide-down .8s;display:inline-block !important}[data-t8n^=slidedown].transition-out{animation:slide-up .8s reverse;display:inline-block !important}[data-t8n^=fadeleft].transition-in{animation:fade-left .8s;display:inline-block !important}[data-t8n^=fadeleft].transition-out{animation:fade-right .8s reverse;display:inline-block !important}[data-t8n^=faderight].transition-in{animation:fade-right .8s;display:inline-block !important}[data-t8n^=faderight].transition-out{animation:fade-left .8s reverse;display:inline-block !important}[data-t8n^=fadeup].transition-in{animation:fade-up .8s;display:inline-block !important}[data-t8n^=fadeup].transition-out{animation:fade-down .8s reverse;display:inline-block !important}[data-t8n^=fadedown].transition-in{animation:fade-down .8s;display:inline-block !important}[data-t8n^=fadedown].transition-out{animation:fade-up .8s reverse;display:inline-block !important}[data-t8n^=flicker].transition-in{animation:flicker .8s}[data-t8n^=flicker].transition-out{animation:flicker .8s reverse}
</style>
</head>
<body>
<tw-story><noscript><tw-noscript>JavaScript needs to be enabled to play Crusty&#39;s Carriage.</tw-noscript></noscript></tw-story>
<tw-storydata name="Crusty&#39;s Carriage" startnode="4" creator="Twine" creator-version="2.3.16" ifid="D3A90736-F389-4A58-B47D-40279557E081" zoom="0.6" format="Harlowe" format-version="3.2.3" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">body, tw-story
{
  font-family: Brandon Grotesque;
  font-size: 16px;
  color: #ffffff;
  background-color: #000000;
}
tw-link, .enchantment-link { 
  color: #54B78B;
}
tw-link:hover, .enchantment-link:hover { 
  color: #b4ffa1;
}
tw-link:active, .enchantment-link:active {
  color: white;
}
.visited {
  color: #196e5d;
}
.visited:hover {
  color: #54B78B;
}


html.hide-footer tw-include[title="Footer"] {
	display: none;
}
tw-hook[name="tooltip"] {
    position: absolute;
    display: inline-block;
    border-bottom: 1px dotted black;
}

tw-hook[name="tooltip"] .tooltiptext {
    visibility: hidden;
    background-color: black;
    color: white;
    text-align: center;
    border-radius: 0.5em;
      border-width: 0.1em;
      border-color: white;
      border-style: solid;
    padding: 0.25em 0.25em;
      max-width: max-content;
      width: max-content;
    
    /* Position the tooltip */
    position: absolute;
    z-index: 1;
    top: -0.25em;
    left: 105%;
}

tw-hook[name="tooltip"]:hover .tooltiptext {
    visibility: visible;
}









.frame {
	position:relative;
	top:0px;
	left:0px;
	width:600px;
	height:502px;
	overflow:hidden;
}
.bg,
.bg2 {
	height:553px;
	object-fit:cover;
	top:0px;
	left:0px;
	position:absolute;
}
.bg {
	animation: move 2.5s linear infinite;
}
.bg2 {
	animation: move2 2.5s linear infinite;
}
.carriage {
	position:absolute;
	top:0px;
	left:0px;
}
@keyframes move {
	0% {
		transform: translate(0%,-40%);
  	}
	100% {
		transform: translate(-100%, -40%);
	}
}
@keyframes move2 {
	0% {
		transform: translate(99%, -40%);
	}
	100% {
		transform: translate(-1%, -40%);
	}
}













</style><script role="script" id="twine-user-script" type="text/twine-javascript">

var audio= document.createElement('audio');
audio.src=
	'';
audio.loop = true;
audio.volume = .2;
audio.play();




















</script><tw-tag name="done" color="blue"></tw-tag>,<tw-tag name="final" color="purple"></tw-tag>,<tw-tag name="finished" color="orange"></tw-tag>,<tw-tag name="footer" color="red"></tw-tag>,<tw-tag name="inventory" color="blue"></tw-tag>,<tw-tag name="manual" color="orange"></tw-tag>,<tw-tag name="need-review" color="blue"></tw-tag>,<tw-tag name="needs-review" color="blue"></tw-tag>,<tw-tag name="startup" color="green"></tw-tag>,<tw-tag name="true-final" color="orange"></tw-tag><tw-passagedata pid="1" name="AUDIO CREDITS" tags="hide-footer" position="4786,95" size="100,100">All audio is from freesound.org:

https://freesound.org/people/Ranner/sounds/488534/
https://freesound.org/people/Plutoniumisotop/sounds/371190/

-

Will add a link on the first passage if we end up using sound. Feel free to browse.


(link-goto: &quot;&gt; Return.&quot;, (history:)&#39;s last) </tw-passagedata><tw-passagedata pid="2" name="sidewalk" tags="final" position="4595,496" size="100,100">$roomname[Council District]

&lt;img src=&quot;http://nodd-arca.net/carriage/carriage_start.jpg&quot; style=&quot;display: block; margin-left: auto; margin-right: auto; width: 100%;&quot;&gt;

You&#39;re near the center of Nodd, in the Council District. From here, you can see the Council Spire, as well as the various buildings of the Courts surrounding it. Numerous citizens, many of whom are dressed in rather official looking regalia, go about their business. Groups of individuals argue, exchange goods, joke, and, in one case, publicly fornicate. 

You have somewhere else to be, however. Thankfully, there appears to be a miggwitch carriage approaching, presently just a couple of blocks away.
(click:&quot;miggwitch carriage&quot;)[
A large vehicle trundles along behind a stilt-legged, deer-like creature. It would appear the creature is pulling the vehicle via reins attached to its nuts, though it doesn&#39;t appear to be in agonizing pain.]


[[&gt; Flag down the carriage.]]
(if: $genital1 is &quot;soft folds of your cunt&quot;)[(set: $cunt to true)(set: $cock to false)(set: $balls to false)
](else-if: $genital1 is &quot;hanging weight of your cock and balls&quot;)[(set: $cunt to false)(set: $cock to true)(set: $balls to true)
](else-if: $genital1 is &quot;hanging weight of your cock and balls, as well as your sensitive cunt&quot;)[(set: $cunt to true)(set: $cock to true)(set: $balls to true)
](else-if: $genital1 is &quot;swell of your cock - though mercifully you&#39;ve no balls to worry about -&quot;)[(set: $cunt to false)(set: $cock to true)(set: $balls to false)
](else-if: $genital1 is &quot;swell of your cock and the cleft of your cunt - though at least you don&#39;t have to worry about balls -&quot;)[(set: $cunt to true)(set: $cock to true)(set: $balls to false)
](else:)[(set: $cunt to false)(set: $cock to false)(set: $balls to false)]
(if: $genital2 is &quot;It would appear your breasts escaped unscathed as well.&quot;)[(set: $breasts to true)
](else:)[(set: $breasts to false)]</tw-passagedata><tw-passagedata pid="3" name="body options" tags="" position="4563,274" size="100,100">Having just awoken from a night at an inn somewhere towards the city&#39;s center you take a moment to assess yourself to ensure everything&#39;s still there.

You note the (cycling-link: bind $genital1, &quot;soft folds of your cunt&quot;, &quot;hanging weight of your cock and balls&quot;, &quot;hanging weight of your cock and balls, as well as your sensitive cunt&quot;, &quot;swell of your cock - though mercifully you&#39;ve no balls to worry about -&quot;, &quot;swell of your cock and the cleft of your cunt - though at least you don&#39;t have to worry about balls -&quot;, &quot;solitary bud of your anus - at least you haven&#39;t any genitals to worry about -&quot;) and conclude everything is as it should be. (cycling-link: bind $genital2, &quot;It would appear your breasts escaped unscathed as well.&quot;, &quot;You don&#39;t have any breasts - but you didn&#39;t previously, either.&quot;)

Feeling about as prepared as one can be in this city, you make your way outside...


[[&gt; Begin.-&gt;sidewalk]]</tw-passagedata><tw-passagedata pid="4" name="Untitled Passage 1" tags="" position="4611,90" size="100,100">&lt;center&gt;
&lt;img src=&quot;http://nodd-arca.net/carriage/crustys_carriage.png&quot; style=&quot;display: block; margin-left: auto; margin-right: auto; width: 100%;&quot;&gt;

[[&gt; Click to begin.-&gt;body options]]

Content: sex
Optional: feral body horror, infestation, object transformation, choking, noncon, dubcon

&lt;/center&gt;</tw-passagedata><tw-passagedata pid="5" name="Settings and Variables" tags="header" position="4434,88" size="100,100">{(set:$roomname to (text-colour:#378c70)+(text-size:1)+(text-style:&quot;bold&quot;))(set: $npc to (text-style: &quot;italic&quot;)+(color: #aaffcc))
&lt;!--Pounder--&gt;(set: $npcO to (text-style: &quot;italic&quot;)+(color: #3388ff))
&lt;!--Z&#39;geel--&gt;(set: $npcV to (text-style: &quot;italic&quot;)+(color: #91c750))
&lt;!--Quillis--&gt;(set: $npcU to (text-style: &quot;italic&quot;)+(color: #4a6c8a))
&lt;!--Sweetbeak--&gt;(set: $npcM to (text-style: &quot;italic&quot;)+(color: #9955ff))
&lt;!--Laire--&gt;(set: $npcV1 to (text-style: &quot;italic&quot;)+(color: #782a50))
&lt;!--Linivia--&gt;(set: $npcV2 to (text-style: &quot;italic&quot;)+(color: #de8ea6))
&lt;!--PsiNurk--&gt;(set: $npcP to (text-style: &quot;italic&quot;)+(color: #673575))
&lt;!--PsiNocters--&gt;(set: $npcN to (text-style: &quot;italic&quot;,&quot;smear&quot;)+(color: #C952FF))}</tw-passagedata><tw-passagedata pid="6" name="Untitled Passage" tags="" position="4291,95" size="100,100">$roomname[Test room]

|tooltip&gt;[Text.&lt;span class=&quot;tooltiptext&quot;&gt;&lt;img src=&quot;C:\Users\Losian\Desktop\Nodd\Vivirian Noddule\tailpoke.png&quot;&gt;&lt;/span&gt;]</tw-passagedata><tw-passagedata pid="7" name="&gt; Flag down the carriage." tags="final" position="4425,578" size="100,100">$roomname[Council District]

You wave in the carriage driver&#39;s general direction, hoping they&#39;ll notice you amid the crowd of beastly passers-by. You would presume the driver didn&#39;t notice you if not for their posture straightening ever so slightly as the carriage veers slightly from its path to aim more in your direction.

It takes a moment for the vehicle to slow to a stop before you, wheels creaking to a halt with a shudder of the back portion. The entire thing rocks slightly for a tick or two before settling with a soft creak that belies many turns trundling through the city.(click: &quot;vehicle&quot;)[
The carriage is large enough to transport roughly four average-sized citizens, or two larger-than-average-sized ones. On the side of the cart, there&#39;s a sign that reads &quot;CRUSTY&#39;S CARRIAGE - Free ride with miggwitch service&quot;.]


[[&gt; Get in the carriage.-&gt;wait you have to pay]]
[[&gt; Approach the driver.]]
[[&gt; Approach the miggwitch.]]
</tw-passagedata><tw-passagedata pid="8" name="&gt; Approach the driver." tags="final" position="4195,1056" size="100,100">$roomname[Council District]

The driver is a wretched lehlt, hunched and boil-ridden, grasping the reins in gnarled claws. He looks slightly bored and impatient, eager to either get the ride started, or find another passenger sooner than later.

$npc[&quot;Need a lift?&quot;] he inquires. He then gives a long, snot-sucking snort before hacking a wad of something yellow and gelatinous onto the road. $npc[&quot;Y&#39;better - notice th&#39;sign don&#39;t say &#39;Crusty&#39;s Portable Gawking Carriage And Idle Conversation Emporium&#39;,&quot;] he notes.


[[&gt; &quot;How much will this cost me?&quot;]]
[[&gt; &quot;Can I pet your miggwitch?&quot;]]
[[&gt; &quot;What are &#39;miggwitch services&#39;?&quot;]]
[[&gt; &quot;Who are you?&quot;]]</tw-passagedata><tw-passagedata pid="9" name="&gt; Approach the miggwitch." tags="final" position="4229,605" size="100,100">$roomname[Council District]

The miggwitch stands tall, looking wall-eyed and vaguely nervous. His spindly body almost seems to twitch and quiver in place as he stands there, looking every way and none at the same time.

You can see the driver watching you with a snaggle-toothed grin as you stand there.


[[&gt; Give him some pets.]]
[[&gt; Approach the driver.]]
[[&gt; Get in the carriage.-&gt;wait you have to pay]]</tw-passagedata><tw-passagedata pid="10" name="&gt; &quot;How much will this cost me?&quot;" tags="final" position="4382,1085" size="100,100">$roomname[Council District]

The lehlt peers at you appraisingly for a moment, then around to the surrounding area. It&#39;s hard to say what he&#39;s scanning for, but there could be several guesses - other carriages, such that his price might need to entice you? Or a lack thereof so that he could charge more? The city has more than its share of swindlers of all sorts and every citizen needs watch out for their own hide.

$npc[&quot;It&#39;s 800 gloam for anywhere in this tier. That, or you could provide some miggwitch services for a free ride,&quot;] the lehlt replies. The tone of his voice almost seems to hint that he might prefer the latter himself if only to spice up his day a bit.


[[&gt; &quot;What are &#39;miggwitch services&#39;?&quot;]]
[[&gt; &quot;That&#39;s okay, I have the gloam.&quot;]]
[[&gt; &quot;A free ride? What a deal!&quot;]]
[[&gt; &quot;Who are you?&quot;]]</tw-passagedata><tw-passagedata pid="11" name="&gt; &quot;Can I pet your miggwitch?&quot;" tags="final" position="4053,888" size="100,100">$roomname[Council District]

$npc[&quot;Heh, y&#39;can do more than that if yer feelin&#39; frisky.&quot;] he points a crooked finger towards a sign on the side of the carriage that advertises &quot;free ride with miggwitch service&quot;.

After a brief pause, the driver also adds a shrug, $npc[&quot;I *guess* you could also just pet it, if y&#39;really wanted t&#39;do so, but... you still gotta pay unless the pettin&#39; gets *heavy*,] the gnarled lehlt emphasizes.


[[&gt; &quot;Just... some pets would be fine.&quot;-&gt;&gt; Give him some pets.]]
[[&gt; &quot;What are &#39;miggwitch services&#39;?&quot;]]
[[&gt; &quot;That&#39;s okay, I have the gloam.&quot;]]
[[&gt; &quot;A free ride? What a deal!&quot;]]</tw-passagedata><tw-passagedata pid="12" name="&gt; &quot;Who are you?&quot;" tags="final" position="4579,1047" size="100,100">$roomname[Council District]

$npc[&quot;I&#39;m Crusty. This is my carriage. Y&#39;may&#39;ve *guessed* from the name. I drive it around, citizens ride in it. What&#39;s it to ya? Y&#39;wanna get hitched now that we&#39;re all familiar like?&quot;]

He does indeed seem a bit crusty. The lehlt offers you little else in the way of information but, then again, wretched lehlt probably don&#39;t like spreading information about themselves around - and this one seems, for better or worse, set in his lot.


[[&gt; &quot;How much will this cost me?&quot;]]
[[&gt; &quot;Can I pet your miggwitch?&quot;]]
[[&gt; &quot;What are &#39;miggwitch services&#39;?&quot;]]</tw-passagedata><tw-passagedata pid="13" name="&gt; Get in the carriage." tags="final" position="4205,2192" size="100,100">$roomname[The Carriage]

You clamber into the slightly rickety-looking carriage and find that it&#39;s relatively plain on the inside. It appears to be a non-ambulant structure, though from the rib-like supports on the inside of the seating area you suspect that it once was quite ambulant.(click: &quot;ambulant&quot;)[

Whether the miggwitch is really needed or not if the carriage was already ambulant is anybody&#39;s guess. Perhaps Crusty wanted the classic miggwitch-carriage theme? Or mayhaps the carriage &#39;passed&#39; a while back and was repurposed, so to speak?]

The door on the side snicks closed, leaving you in a more private chamber where you imagine you will be spending most of the journey. There are a couple of windows that let you peer out at the passing City, though.

After a moment, a small slot between you and the driver slides open and you see a beady eye fix on you through the gap. The lehlt looks a bit more composed, now paid for his time and acting in a more &#39;professional&#39; capacity, if just barely.

$npc[&quot;Ahm! Welcome aboard, cit&#39;zen. Where&#39;s Crusty takin&#39; ya this fine, gloamy eve?&quot;] he asks with an undue flourish for a carriage ride surely like any other. Surely.


[[&gt; &quot;The Viviria District.&quot;]]
[[&gt; &quot;The Umbrasia District.&quot;]]
[[&gt; &quot;The Vorn District.&quot;]]
[[&gt; &quot;The Psilysium District.&quot;]]
[[&gt; &quot;The Omnillian District.&quot;]]
[[&gt; &quot;The Morphoria District.&quot;]]</tw-passagedata><tw-passagedata pid="14" name="&gt; &quot;That&#39;s okay, I have the gloam.&quot;" tags="final" position="4375,1329" size="100,100">$roomname[Council District]

You inform the lehlt that you can pay for the ride the good old-fashioned way. The lehlt nods simply, having little real preference or care so long as he&#39;s paid or the packbeast is well tended. With a brief tick of concentration you put your intention forth to enact the transaction and Crusty glances off to the side, staring up into the air - undoubtedly confirming you paid, and did so for the correct amount.

$npc[&quot;Heheh, suit yerself - makes no difference t&#39;me. Now get in so we can get goin&#39; - I ain&#39;t here to sit and look pretty for ya.&quot;] He reaches between his legs and scratches his warty, lopsided nuts.  The ample, unsightly pair jostle and shift even after they cease bouncing around from his touch, settling back into place, uneven and fat.


[[&gt; Get in the carriage.]]</tw-passagedata><tw-passagedata pid="15" name="&gt; &quot;A free ride? What a deal!&quot;" tags="final" position="3490,973" size="100,100">$roomname[The Miggwitch]

&lt;img src=&quot;http://nodd-arca.net/carriage/miggwitch1.jpg&quot; style=&quot;display: block; margin-left: auto; margin-right: auto; width: 100%;&quot;&gt;

You approach the miggwitch. A free ride *is* a free ride, after all. 

The beast eyes you up nervously, its large eyes darting left and right as it tries to assess your intentions. After a few moments, though, it seems to gain a rough idea and calms ever so slightly.

Not that it has much choice, what with its enormous balls being tethered to the carriage - it isn&#39;t going anywhere regardless of either of your feelings.

You can see its heavy, plush sheath between its bony legs. The driver looks at you expectantly, as if to remind you that he doesn&#39;t have all day. The wretched lehlt&#39;s gnarled digits are also shamelessly fondling his own assets at the prospect of a show.


[[&gt; Try your mouth.-&gt;&gt; Oral.]]
[[&gt; Maybe the miggwitch would be interested in your ass.-&gt;&gt; Anal.]]$cunt[
[[&gt; Or even in rutting your other hole...-&gt;&gt; Vaginal.]]]</tw-passagedata><tw-passagedata pid="16" name="&gt; &quot;What are &#39;miggwitch services&#39;?&quot;" tags="final" position="4691,855" size="100,100">$roomname[Council District]

The lehlt snorts, then nods towards the slightly bedraggled-looking miggwitch. Then, a few ticks later, he seems to realize your question was genuine and rolls his eyes slightly before he explains.

$npc[&quot;&#39;xactly what it sounds like. Give Miggy here a little relief. I don&#39;t much care how you wanna do it, he ain&#39;t picky. He just needs a little... calming down now and then. Ride&#39;s free for anyone who helps out,&quot;] he says with a crooked grin.

You look over at the nervous-seeming miggwitch. Those balls do look *very* hefty.


[[&gt; &quot;That&#39;s okay, I have the gloam.&quot;]]
[[&gt; &quot;A free ride? What a deal!&quot;]]
[[&gt; &quot;Who are you?&quot;]]</tw-passagedata><tw-passagedata pid="17" name="&gt; Give him some pets." tags="final" position="4059,734" size="100,100">$roomname[Council District]

You pat the miggwitch&#39;s fleshy, mottled hide. It feels surprisingly soft and warm, despite the leathery texture, and the sinewy musculature beneath the beast&#39;s outer skin is easily felt. Miggwitches are wiry, lanky beasts but by no means do they lack in strength.

The beast groans and snorts, stepping from hoof to slender hoof in a manner that makes it difficult to tell at first if it seems less, or instead more, nervous as a result of your touch. You can see the beast&#39;s eyes darting all around.

After a few ticks the animal calms slightly, letting out one of the species&#39;s trademark *HRONK* noises, though less offensively loud as is usually the case. The miggwitch does seem somehow happier than a moment ago.


[[&gt; Approach the driver.]]
[[&gt; Get in the carriage.-&gt;wait you have to pay]]</tw-passagedata><tw-passagedata pid="18" name="&gt; Oral." tags="final" position="2929,1210" size="100,100">$roomname[The Miggwitch]

&lt;img src=&quot;http://nodd-arca.net/carriage/miggwitch2.jpg&quot; style=&quot;display: block; margin-left: auto; margin-right: auto; width: 100%;&quot;&gt;

The beast eyes you warily as you approach, shifting in place upon its long, stilt-like legs which clack against the street. Despite its nervous demeanor the miggwitch clearly has some idea of your intention as a glance down along its lower half quickly reveals the sagging of its stirring erection is already very much visible.
 
The creature&#39;s fleshy sheath fattens along with the rest of its shaft tucked within, the bulbous head swiftly sagging a good half foot from the sheath&#39;s opening and swaying side to side. A coating of thick fluids glistens upon the bulbous tip, occasionally beading at the very end before drooling to the ground with a distinct (text-style: &quot;smear&quot;)[splat!]

You wet your lips with a swipe of your tongue as you crowd up to the beast, easily able to tuck beneath it due to the height of the creature. It shuffles anew, letting out a low $npc[&quot;hrrnk!&quot;] as you grab at its shaft and stroke, goading it to grow fatter. The flesh is delightfully smooth and soft in your grasp, as well as utterly (colour: grey)[(text-style: &quot;blur&quot;)[slimed]] in the miggwitch&#39;s secretions. 

Within a mere moment the girth is such that you can barely hold around it with one hand - and the bulbous head would take two, at least. Despite that you guide the throbbing girth right up before your mouth, opening it welcomingly.
 
 
[[&gt; Suck off the beast.]]</tw-passagedata><tw-passagedata pid="19" name="&gt; Anal." tags="final" position="3138,1291" size="100,100">$roomname[The Miggwitch]

You approach the beast and reach out to caress its loins lightly, causing the stilt-legged creature to shift uneasily at your proximity. Despite that, its sheath bulges fatter within seconds and the opening strains around the broad, bulbous tip of the miggwitch&#39;s pale blue flesh. 

It sags to the ground, swaying in the air. You brush your digits against it and immediately feel a tingling sensation, suggesting this particular migg is treated to the creatures&#39; more natural diet.(click: &quot;natural diet&quot;)[
(color: grey)[*Miggwitches are known for eating a variety of numbing plants, resulting in* ***all*** *of their fluids being numbing as well.*]]

Deciding you&#39;d like to retain feeling in your upper half you crouch down a bit and lean forwards, hunching over beneath the beast and arching your rear end up beneath its raised belly. The miggwitch&#39;s posture forces you into an awkward stoop that leaves your rump lifted up high beneath it. Seemingly well accustomed to being serviced in exchange for rides the creature humps at the air, causing its half-hard, stiffening shaft to sway forwards and smack against your ass a time or two, leaving a light tingling sensation behind with each impact. 

You helpfully reach a hand down between your legs to grab at its length, guiding it up into place before it gets too fully stiff and swollen - though already its endowments are a bit intimidating to the average sized outsider.

The flesh is delightfully warm and soft as well as exceptionally slimy and slick from the miggwitch&#39;s secretions. The tip is prominently plump as it grinds about beneath your tail. The creature clearly recognizes the presentation of tightness against its flesh and begins to hunch forwards as its cock flexes upwards with increasing stiffness, soon applying remarkable pressure against your backside.


[[&gt; Try to relax a bit.]]</tw-passagedata><tw-passagedata pid="20" name="&gt; Vaginal." tags="final" position="3395,1351" size="100,100">$roomname[The Miggwitch]

You approach the beast and reach out to caress its loins lightly, causing the stilt-legged creature to shift uneasily at your proximity. Despite that, its sheath bulges fatter within seconds and the opening strains around the broad, bulbous tip of the miggwitch&#39;s pale blue flesh. 

It sags to the ground, swaying in the air. You brush your digits against it and immediately feel a tingling sensation, suggesting this particular migg is treated to the creatures&#39; more natural diet.(click: &quot;natural diet&quot;)[
(color: grey)[*Miggwitches are known for eating a variety of numbing plants, resulting in* ***all*** *of their fluids being numbing as well.*]]

You slip beneath the beast with an awkward hunch of your body, having to bend far forwards due to the miggwitch&#39;s natural posture, leaving your ass raised up high beneath its belly. You reach back between your legs to grope around, grasping at the miggwitch&#39;s half-hard shaft to helpfully guide it into place. The beast seems plentifully eager and on board with this whole arrangement, already humping forwards wantingly against your grasp, seeking something to stuff itself into. The broad, bulbous girth of its glans smacks against the backs of your thighs, leaving that already familiar tingling sensation behind mere seconds later. 

With a few more questing thrusts, and a bit of help from your grasp, the broad tip quickly finds its way to smear right against the soft lips of your sex. An excited grunt from above is the only preamble to a jarring thrust as the creature&#39;s shaft flexes and stiffens with a tense of its muscles, the already broad tip bulging out a bit fatter as fluids pour forth against the outer parts of your loins, soaking the area and swiftly beginning to steal sensation away. But there&#39;s still plenty to be felt in the distinct gaping stretch of the beast&#39;s tip jabbing and pushing at your cunt, seeking entry.


[[&gt; Arch your back and push into the creature&#39;s thrusts.]]</tw-passagedata><tw-passagedata pid="21" name="&gt; &quot;The Viviria District.&quot;" tags="final" position="1143,2804" size="100,100">$roomname[The Carriage]

&lt;center&gt;&lt;div class=&quot;frame&quot;&gt;
&lt;img src=&quot;https://nodd-arca.net/carriage/carriage_window.gif&quot;&gt;
&lt;/div&gt;&lt;/center&gt;

The carriage begins to creak into motion, ferrying you towards the Viviria district.

You sit and try to get comfortable as the ride starts, watching the scenery go by through the window. Before long the carriage slows to a halt to allow a second passenger on board. 
(set: $viviria to true)


[[&gt; Sit quietly.-&gt;viviria1]]</tw-passagedata><tw-passagedata pid="22" name="&gt; &quot;The Umbrasia District.&quot;" tags="final" position="2320,2764" size="100,100">$roomname[The Carriage]

&lt;center&gt;&lt;div class=&quot;frame&quot;&gt;
&lt;img src=&quot;https://nodd-arca.net/carriage/carriage_window.gif&quot;&gt;
&lt;/div&gt;&lt;/center&gt;

The carriage begins to creak into motion, ferrying you towards the Umbrasia district.

You sit and try to get comfortable as the ride starts, watching the scenery go by through the window. Before long the carriage slows to a halt to allow a second passenger on board. 
(set: $umbrasia to true)


[[&gt; ...-&gt;umbrasia1]]</tw-passagedata><tw-passagedata pid="23" name="&gt; &quot;The Vorn District.&quot;" tags="final" position="3665,2834" size="100,100">$roomname[The Carriage]

&lt;center&gt;&lt;div class=&quot;frame&quot;&gt;
&lt;img src=&quot;https://nodd-arca.net/carriage/carriage_window.gif&quot;&gt;
&lt;/div&gt;&lt;/center&gt;

The carriage begins to creak into motion, ferrying you towards the Vorn district.

You sit and try to get comfortable as the ride starts, watching the scenery go by through the window. Before long the carriage slows to a halt to allow a second passenger on board. 
(set: $vorn to true)


[[&gt; ...-&gt;vorn1]]</tw-passagedata><tw-passagedata pid="24" name="&gt; &quot;The Psilysium District.&quot;" tags="final" position="5962,2754" size="100,100">$roomname[The Carriage]

&lt;center&gt;&lt;div class=&quot;frame&quot;&gt;
&lt;img src=&quot;https://nodd-arca.net/carriage/carriage_window.gif&quot;&gt;
&lt;/div&gt;&lt;/center&gt;

The carriage begins to creak into motion, ferrying you towards the Psilysium District. 

Right as the carriage commences moving, you think you hear a singular shout echo after it.(set: $psilysium to true)


[[&gt; Sit quietly.-&gt;psilysium1]]
[[&gt; Alert the driver.-&gt;psilysiumAlt1]]</tw-passagedata><tw-passagedata pid="25" name="&gt; &quot;The Omnillian District.&quot;" tags="final" position="7404,2703" size="100,100">$roomname[The Carriage]

&lt;center&gt;&lt;div class=&quot;frame&quot;&gt;
&lt;img src=&quot;https://nodd-arca.net/carriage/carriage_window.gif&quot;&gt;
&lt;/div&gt;&lt;/center&gt;

The carriage begins to creak into motion, ferrying you towards the Omnillian district.

You sit and try to get comfortable as the ride starts, watching the scenery go by through the window. Before long the carriage slows to a halt to allow a second passenger on board. 
(set: $omnillian to true)

[[&gt; ...-&gt;omnillian1]]</tw-passagedata><tw-passagedata pid="26" name="&gt; &quot;The Morphoria District.&quot;" tags="final" position="9387,2855" size="100,100">$roomname[The Carriage]

&lt;center&gt;&lt;div class=&quot;frame&quot;&gt;
&lt;img src=&quot;https://nodd-arca.net/carriage/carriage_window.gif&quot;&gt;
&lt;/div&gt;&lt;/center&gt;

The carriage begins to creak into motion, ferrying you towards the Morphoria district.

You sit and try to get comfortable as the ride starts, watching the scenery go by through the window. Before long the carriage slows to a halt to allow a second passenger on board. 
(set: $morphoria to true)


[[&gt; ...-&gt;morphoria1]]</tw-passagedata><tw-passagedata pid="27" name="miggwitch spent" tags="final" position="3219,1929" size="100,100">$roomname[The Miggwitch]

The miggwitch seems pleased, and so does the driver - who&#39;s sporting a prominent, if a bit gnarled, erection. The street beneath, and around, the miggwitch is a bit of a mess in the aftermath, as are you. A few passers by had stopped to admire the show from a distance and resume going about their business, though with a squirm in their step or tent in their clothing (if any) as a result.

There&#39;s an unsurprising number of similarly sized and shaped wet spots staining various parts of the street, suggesting that free rides are not infrequent and that miggwitches are creatures in constant need of &#39;services.&#39;

$npc[&quot;Well, what&#39;re ya waitin&#39; for? There ain&#39;t no double discount for eyeing me up, and I sure won&#39;t be payin&#39; *you* - so get in,&quot;] he snorts.  


[[&gt; Get in the carriage.]](set: $miggwitchfucked to true)</tw-passagedata><tw-passagedata pid="28" name="viviria1" tags="final" position="1132,2968" size="100,100">$roomname[The Carriage]

$npc[&quot;Headed to Viviria?&quot;] Crusty inquires. The stranger nods, and clambers into the vehicle, seating themselves across from you.

&lt;img src=&quot;http://nodd-arca.net/carriage/char_viviria.jpg&quot; style=&quot;display: block; margin-left: auto; margin-right: auto; width: 100%;&quot;&gt;

They&#39;re an amphibious-looking chimera with yellowish-green skin, and appear to have with them an assortment of jars and vials containing various worms and other squirming creatures. (set: $chimerastate to 0)


[[&gt; &quot;Hello there.&quot;]]
[[&gt; &quot;What&#39;s in the jars?&quot;]]
[[&gt; Continue sitting quietly.-&gt;viviria2]]</tw-passagedata><tw-passagedata pid="29" name="&gt; &quot;Hello there.&quot;" tags="final" position="727,2865" size="100,100">$roomname[The Carriage - The Chimera]

You try to strike up some casual conversation with your new traveling partner. The chimera turns their gaze to you and gives a slow, horizontal, slightly-out-of-sync blink.

$npcV[&quot;Hello,&quot;] they answer, licking their clammy-looking lips. They then adjust one of several belts slung across their slimy body. It looks like a sort of holster lined with vermin-filled vials. $npcV[&quot;Viviria?&quot;]


[[&gt; &quot;Viviria.&quot;]]
[[&gt; &quot;What&#39;s in the jars?&quot;]](set: $window to false)</tw-passagedata><tw-passagedata pid="30" name="&gt; &quot;What&#39;s in the jars?&quot;" tags="final" position="1072,3152" size="100,100">$roomname[The Carriage - The Chimera]

(if: $bordleSeen is true and $spineclutch is true and $gorgerSeen is true and $amoridSeen is true and $fugueSeen is true)[The chimera gives you a curious look, their snout curling into a wry smile. Their tail thwaps moistly against the seat as they tilt their head first one way and then the other before they lean forwards where they sit.

$npcV[&quot;You are still interested, friend?&quot;] they ask. Their eyes dip down to your belly. $npcV[&quot;Even after being infested? Hahah! I like you, friend,&quot;] they say.(if: $chimerastate is 1)[ They lean back and idly wrap a hand around their shaft, giving it a singular squeeze as they seem to *think*. $npcV[&quot;Such a curiously wonderful sensation... But let me see,&quot;] they hum.](else-if: $chimerastate is 2)[ Their hand strays down to their slit, two fingers rubbing either side of it as they seem to *think*. $npcV[&quot;Mm, playing male was quite enjoyable. I really must get another one of those... But let me see,&quot;] they hum.]

$npcV[&quot;Unfortunately I have no more merchandise to show,&quot;] they tell you.(if: $amorid is true)[$npcV[ &quot;And even if I did, adding on top of the spineclutch and the amorid slugs(if: $chimerastate is 2)[ (text-style: &quot;smear&quot;)[and] my little eel] might just drive you entirely insane with need.&quot;]] Then they smile and reach out with their ego bracer arm, bringing it close to yours. $npcV[&quot;Let me share with your bracer a location, friend. My... home base, hmm? I am Z&#39;geel. I perform parasite removal services, but I collect many of the specimens I ... rescue. It is nice, no?&quot;] They smile at you again, then lean back.

Z&#39;geel forms the sign of the city with their fingers, then nods to you. $npcV[&quot;I would be delighted to introduce a fellow enthusiast to some of the wriggly things I have saved, spineclutch or not. Though if you do let it fuse all the way, friend, please do give me some of your eventual eggs! Now, let us enjoy the rest of our trip together, yes?&quot;]

With that, they lean back in their seat and smile, gazing out the window as the streets roll by.


[[&gt; Nod, and enjoy the journey.-&gt;viviria conclusion]]{

}](else:)[$npcV[&quot;Eh... which one? Got a lot of different critters.&quot;] The chimera offers you a wry smile, their expression keen as they search your face. (if: $chimerastate is 2)[You can see their eyes occasionally glance down to the little roiling motion in your stomach, as if deeply approving. You still feel a little warm.]


(unless: $bordleSeen is true)[{}[[&gt; Point to the vial of long, black worms.]]](unless: $spineclutch is true)[
[[&gt; Point to the jar of centipede-like creatures.-&gt;spineclutch]] [CW: body horror] ](unless: $gorgerSeen is true)[
[[&gt; Point to the canister containing a single large eel-like thing.]]](unless: $amoridSeen is true)[
[[&gt; Point to the jar of glowing slugs.-&gt;amorid]]](unless: $fugueSeen is true)[
[[&gt; Point to the vial of swarming flies.]]]
[[&gt; Nevermind.-&gt;viviria conclusion]](set: $window to false)]</tw-passagedata><tw-passagedata pid="31" name="viviria2" tags="final" position="1303,3145" size="100,100">$roomname[The Carriage]

You continue sitting, waiting as the carriage ride passes in conversational silence. The chimera gazes out the window a few times, then drums on one of their jars. The little slugs inside of it squirm around restlessly.

Almost as if out of absent-minded fidgeting, the amphibious chimera begins trying to work the cap off one of the jars.


[[&gt; Try to avoid conversation by gazing out the window.-&gt;viviriawindow1]]</tw-passagedata><tw-passagedata pid="32" name="umbrasia1" tags="final" position="2326,2902" size="100,100">$roomname[The Carriage]

$npc[&quot;Headed to Umbrasia?&quot;] Crusty inquires. The stranger nods, and clambers into the vehicle, seating themselves across from you.

&lt;img src=&quot;http://nodd-arca.net/carriage/char_umbrasia.jpg&quot; style=&quot;display: block; margin-left: auto; margin-right: auto; width: 100%;&quot;&gt;

You can immediately see a dusty, enveloping robe around the slender frame of a gaunt and pale chimera. Her head bears a wispy, black mane, and her eyes are bulbous and buried deep in their dark sockets. She seats herself silently, then gazes out the window. Not a word passes her snout. (set: $umbraName to &quot;the chimera&quot;)(set: $umbraTimer to 0)


[[&gt; &quot;Hello there.&quot;-&gt;umbrasiahello]]
[[&gt; Sit quietly, as well.-&gt;umbrasia2]]</tw-passagedata><tw-passagedata pid="33" name="umbrasia2" tags="final" position="2376,3039" size="100,100">$roomname[The Carriage]

You sit quietly as the carriage trundles and bounces gently up and down the roadways towards the Umbrasia district.

Outside, through the window, you can see the shadow of a balloon passing by overhead through the Canopy. Most of the citizens seem to be ignoring it, but now and then you spy someone looking up at the airborne vehicle overhead.

The route that Crusty seems to be taking isn&#39;t the most captivating, at first. Perhaps that&#39;s not a bad thing, you realize, given that &#39;interesting&#39; often equates with &#39;dangerous&#39;.


[[&gt; Try to strike up conversation.-&gt;umbrasia3]]
[[&gt; Try to avoid conversation by gazing out the window.-&gt;umbrasiawindow1]]</tw-passagedata><tw-passagedata pid="34" name="umbrasiahello" tags="final" position="2235,3038" size="100,100">$roomname[The Carriage - The Chimera]

You offer a simple &#39;hello&#39; to the passenger joining you. She gives you a curt nod in return, her head bowing and then rising as the carriage sets off on its journey towards Umbrasia once again.

Though her demeanor is reserved and quiet, there is a subtle (char-style:(text-style:&quot;fidget&quot;))[jiggle] in her leg, a slight (text-style: &quot;condense&quot;)[tightness] to her face, and a hidden **tension** in her posture that suggests that she might be willing to talk - but only with the right topic.


[[&gt; &quot;What do you do?&quot;-&gt;umbrasia3]]
[[&gt; Remain quiet.-&gt;umbrasia2]]</tw-passagedata><tw-passagedata pid="35" name="vorn1" tags="final" position="3665,2985" size="100,100">$roomname[The Carriage]

$npc[&quot;Headed to Vorn?&quot;] Crusty inquires. The stranger nods, and clambers into the vehicle, seating themselves across from you.

&lt;img src=&quot;http://nodd-arca.net/carriage/char_vorn.jpg&quot; style=&quot;display: block; margin-left: auto; margin-right: auto; width: 100%;&quot;&gt;

The creature that settles down into the seat seems to be something of a living contradiction. Dressed in a formal and full-body dress of wine and vibrant cobalt hues, the lehlt&#39;s most striking feature is unquestionably her //two heads//.

One has bright blue eyes and smiles at you, the arm on her matching side lifting to wave to you in greeting. Meanwhile the other, bearing eyes that are darker in not merely color, turns her head away from you and doesn&#39;t bother to wave - or even acknowledge you. And would obviously rather not.


[[&gt; &quot;Hello there.&quot;-&gt;vorn2]]
[[&gt; Continue sitting quietly and turn your attention to the window.-&gt;vornwindow1]]</tw-passagedata><tw-passagedata pid="36" name="vorn2" tags="final" position="3590,3135" size="100,100">$roomname[The Carriage - The Duo]

You offer a brief greeting in return to the bright-eyed lehlt that waved at you. The darker head scoffs grimly, eyes rolling as she turns away to apply makeup one-handed. The other looks delighted, eagerly smiling back at you.

$npcV2[&quot;Hello, darling! Lovely evening, isn&#39;t it?&quot;]

$npcV1[&quot;Linivia? Let&#39;s not,&quot;] the other head groans with a disgusted sneer aimed in your direction. 

Linivia seems to wilt a bit, then turns her attention to her ego bracer. You notice they have two of them, one on each arm.

It&#39;s then that you notice that the grimmer of the two is applying makeup by making use of... a *microcitizen*? It looks quite strained in her grip as she holds it up to her face, and the not-even-six-inch tall creature uses a little brush to reapply dark eyeliner to their lehlt keeper. The micro appears smeared with it, their clothing stained in a variety of colors that suggests they&#39;ve been used as a test palette. 

Upon catching this out of the corner of her eyes, the friendlier Linivia turns her attention to her own bracer, focusing upon it briefly before turning her attention to the empty seat beside her. At first only a terrified-looking miniature chimera materializes after several ticks, but soon after comes a small array of equally miniature clothing and accessories. Without delay, she starts to pick up some of the clothes and starts trying to dress the trembling chimera up.


[[&gt; Watch the curious display.-&gt;vorn3]]
[[&gt; Turn to gaze out the window instead.-&gt;vornwindow1]]</tw-passagedata><tw-passagedata pid="37" name="psilysium1" tags="final" position="6001,2911" size="100,100">$roomname[The Carriage]

Ignoring the shout, you sit and try to enjoy the ride, watching the scenery go by through the window. At some point the carriage slows to a halt to allow a second passenger on board. 

$npc[&quot;Headed to Psilysium?&quot;] Crusty inquires. The stranger nods, and clambers into the vehicle, seating themselves across from you.

&lt;img src=&quot;http://nodd-arca.net/carriage/char_psilysium.jpg&quot; style=&quot;display: block; margin-left: auto; margin-right: auto; width: 100%;&quot;&gt;

The creature that sits down across from you is unmistakably a nurk, with a sleepy expression and a plump, plush sheath. He has purple fur, a black mane, and pink eyes - and appears to be falling asleep. He clutches a cup of swirling blue liquid in his claws, his twitching snout threatening to plunge into it each time he begins to nod off.

He achieves this at least once, abruptly snorting awake with liquid dribbling from his flat, noduled nose. A few drops cling to the ends of his whiskers.


[[&gt; &quot;Hello there.&quot;-&gt;psilysium2]]
[[&gt; Leave the stranger to his sleepy fate and gaze out the window.-&gt;psilysiumwindow]]</tw-passagedata><tw-passagedata pid="38" name="psilysium2" tags="final" position="5918,3076" size="100,100">$roomname[The Carriage - The Nurk]

You greet your traveling companion with a simple hello. The nurk seems startled by your friendliness. This seems to keep him alert for at least a few ticks - but before long he begins his intermittent drooping once more.

$npcP[&quot;Hi,&quot;] he finally responds, a look of suspicion waxing and subsequently waning as his big, bulbous eyes take you in. 

His grubby claws continue clutching at his small vessel of intensely deep blue fluids. As steam idly rises from the cup, the creature occasionally dips his gnarled snout down for a slurped sip.


[[&gt; &quot;What are you drinking?&quot;-&gt;drink1]]
[[&gt; Ignore him and stare out the window.-&gt;psilysiumwindow1]]</tw-passagedata><tw-passagedata pid="39" name="psilysiumwindow" tags="final" position="6497,3168" size="100,100">$roomname[The Carriage - The Window]

Not wanting to disturb the clearly drowsy creature, you decide to instead enjoy the view of the city for the duration of the ride. You settle into the comfortably cushioned seat and let your gaze fix upon the sights beyond the window. 

As you let your attention fully settle, the other passenger visibly nods off in your peripheral vision. Poor thing probably needs it anyway, by the look of him. Somehow, miraculously, his blue cup remains perched between the swell of his sheath and his belly and avoids spilling.

The carriage jostles as the beast lugging it resumes the journey to the Psilysium district. (set: $gaze to true)


[[See what there is to be seen. -&gt;psilysiumwindow1]]</tw-passagedata><tw-passagedata pid="40" name="omnillian1" tags="final" position="7404,2853" size="100,100">$roomname[The Carriage]

$npc[&quot;Headed to Omnillian?&quot;] Crusty inquires. The stranger nods, and clambers into the vehicle, seating themselves across from you.

&lt;img src=&quot;http://nodd-arca.net/carriage/char_omnillian.jpg&quot; style=&quot;display: block; margin-left: auto; margin-right: auto; width: 100%;&quot;&gt;

The first thing you notice is the petrid&#39;s enormous stature. He could easily go toe to toe with a krudge, standing head and shoulders above the average citizen. He shifts his weight about to get comfortable, his bulky size seemingly too large for the seat. His tail eventually settles off to one side, leathery and thick, while he spreads his legs to accommodate his *generous* package.

Masked and bedecked in a flowing and dark hued cape, the petrid oozes the very essence of (colour: yellow)[**hero**].


[[&gt; &quot;Hello there.&quot;-&gt;omnillianhello]]
[[&gt; Continue sitting quietly.-&gt;omnillian2]]</tw-passagedata><tw-passagedata pid="41" name="omnillianhello" tags="final" position="7329,3006" size="100,100">$roomname[The Carriage - The Petrid]

You greet the petrid, who promptly nods his head at you almost mechanically. He crosses his arms over his chest as he regards you sternly, his expression and posture as stoic as his demeanor.

$npcO[&quot;Greetings, citizen. I hope you&#39;re staying safe and sane this evening,&quot;] he offers, his voice a rumbling baritone. 
(set: $confidence to 0)(set: $omniLust to 0)


[[&gt; &quot;What&#39;s with the weird getup?&quot;]]
[[&gt; &quot;You. Look. So. Cool.&quot;]]</tw-passagedata><tw-passagedata pid="42" name="omnillian2" tags="final" position="7479,3001" size="100,100">$roomname[The Carriage]

You opt to sit quietly, not interacting with the hero across from you. He&#39;s probably kind of strange, anyway. The city has enough problems without people vying for the attention of others by playing at being overly &#39;villainous&#39; or &#39;heroic&#39;, especially when both groups seem prone to the mad quirkiness that pervades everything anyway.

There&#39;s every chance that the hero across from you would pin you down and do unspeakable things to you just for irritating him, presumably in the name of teaching you some perverse &#39;lesson&#39;. Silence might just be your safest bet.

The stranger settles in with a few creaks of his leathery attire, seeming to be of a similar mind.

But then again... Perhaps a hero might be a good connection to have. If you fell into danger, heroes *do* pride themselves on &#39;saving&#39; others - often for a price. Maybe conversing with him wouldn&#39;t be the *worst* idea, either.


[[&gt; Try to avoid conversation by gazing out the window.-&gt;omnillianwindow1]]
[[&gt; Strike up conversation by saying &#39;hello&#39; after all.-&gt;omnillianhello]]</tw-passagedata><tw-passagedata pid="43" name="morphoria1" tags="final" position="9387,3005" size="100,100">$roomname[The Carriage]

$npc[&quot;Headed to Morphoria?&quot;] Crusty inquires. The stranger nods, and clambers into the vehicle, which shifts from his added weight, the creature seating himself across from you.

&lt;img src=&quot;http://nodd-arca.net/carriage/char_morphoria.jpg&quot; style=&quot;display: block; margin-left: auto; margin-right: auto; width: 100%;&quot;&gt;

The creature facing you is a ravel - dressed in garish yellow and pink legwarmers and an outrageous pink neck ruff. His oily feathers all have a deep purple coloration mixed with bright blue plumage, and his wattle is a slick baby blue. In one set of talons he holds a swirling lollipop, and you realize that he carries a sharply *sweet* scent around him.

As you examine him, you notice that his manic, yellow eyes are transfixed on you - and seem to have been from the moment he entered the carriage. You aren&#39;t certain if that&#39;s something to be worried about. His stare is intense and unnerving.

For some reason, he seems to be trying not to laugh.(set: $morphName to &quot;the ravel&quot;)(set: $morphTitle to &quot;The Ravel&quot;)(set: $suckercrown to false)


[[&gt; &quot;What&#39;s so funny?&quot;-&gt;morphoriahello]]
[[&gt; Try to ignore him.-&gt;morphoriawindow1]]</tw-passagedata><tw-passagedata pid="44" name="morphoriahello" tags="final" position="9383,3142" size="100,100">$roomname[The Carriage - $morphTitle]

The ravel&#39;s attempt to withhold his amusement gives way to active snickering while he stares at you with wide eyes. Whatever runs through his mind overpowers what little resistance the ravel has as he then bursts out laughing, filling the carriage with raucous cackling intermingled with croaks.

You&#39;re not sure if he&#39;s laughing at you or whatever was already on his mind. He doesn&#39;t seem entirely *there*, but for better or worse whatever part of him is *here* is here with you.

He twirls the lollipop between his talons around and around, his beak parted ever so slightly in what might be a smile. Ravel expressions aren&#39;t the easiest to read, after all. He holds the sweet before the tip of his beak which turns to one side, one of his large eyes finally tearing away from you to stare straight at the treat. His pupil dilates unsteadily as his head sharply rotates to fix his other eye on it instead. Then, satisfied, he allows his fleshy, plump tongue - the same color as his wattle - to slap forth and smear across the lollipop.

His gaze has returned fully to stare intently at you again, even as his tongue positively fellates the sucker with sloppy, wild abandon.


[[&gt; Ask who the ravel is, exactly.-&gt;morphwho]] (set: $morphQ to (a:))&lt;!--COMMENT: Using an array to track questions--&gt;
[[&gt; Ask the ravel if he likes candy.-&gt;morphCandy]]
[[&gt; Ask $morphName if you can have some candy.-&gt;candy1]]
[[&gt; Ask to suck $morphName&#39;s dick.-&gt;suckravel1]]
(if: $cock is true)[[[&gt; Ask $morphName to suck your dick.-&gt;ravelsuck1]]]</tw-passagedata><tw-passagedata pid="45" name="morphoriawindow1" tags="final" position="10170,3539" size="100,100">$roomname[The Carriage - The Window]

You turn your attention away from $morphName and gaze out the window instead. It&#39;s no short distance to the Morphoria district, but the sights along the way are surely able to entertain... or at least inform.

Buildings begin to pass by your view one after another with no discernible theme or pattern to them from this far away from your destination. A pair of what look to be mages argue out front of one, the pair each drawing wands with raised voices - before they both turn to see you staring and glower. 

Continuing towards the outskirts of the Morphorian district you hear a distinct humming noise from behind the carriage that approaches swiftly and then zips past.  A citizen riding atop a scarab hurtles forwards at impressive speed, so much so that their clothes *whip-crack* in the air with startling force.

That might have been a faster option compared with the slow trundle of the carriage and your candy-striped companion.


[[&gt; Continue window-gazing.-&gt;morphoriawindow2]]</tw-passagedata><tw-passagedata pid="46" name="&gt; Point to the vial of long, black worms." tags="final" position="255,3625" size="100,100">$roomname[The Carriage - The Chimera&#39;s Jars]

&lt;img src=&quot;http://nodd-arca.net/carriage/bordleworms.jpg&quot; style=&quot;display: block; margin-left: auto; margin-right: auto; width: 100%;&quot;&gt;

You point to the vial full of long, slender worms, each one black as an orolisk. The chimera lifts the vial up to eye level, then gazes pensively at its contents.

$npcV[&quot;This one, eh?&quot;] they ask. The chimera gives a sly smile, displaying a mouth full of inwards-facing teeth. $npcV[&quot;This one has some pretty dangerous friends inside. Bordle worms.&quot;]

The chimera looks at you, almost waiting for a reaction.


(link: &#39;&gt; &quot;Bordle worms?!&quot;&#39;)[(set: $surprise to true)(go-to: &quot;bordle2&quot;)]
(link: &#39;&gt; &quot;Bordle worms?&quot;&#39;)[(set: $surprise to false)(go-to: &quot;bordle2&quot;)]</tw-passagedata><tw-passagedata pid="47" name="spineclutch" tags="final" position="511,3517" size="100,100">$roomname[The Carriage - The Chimera&#39;s Jars]

&lt;img src=&quot;http://nodd-arca.net/carriage/spineclutch.jpg&quot; style=&quot;display: block; margin-left: auto; margin-right: auto; width: 100%;&quot;&gt;

You point to the jar containing several centipede-like creatures, each one chitinous and wriggling with dozens of legs. The chimera picks up the jar from their belt, then holds it out to you.

Hesitantly, you accept the jar.

$npcV[&quot;Spineclutches,&quot;] the chimera says, looking right at them. $npcV[&quot;You want to be a bug, friend?&quot;] they ask, giving you a sly grin.(if: $chimerastate is 1)[ They slide their hand back down to their plump shaft, giving it a slow, steady stroke as they sit there.](else-if: $chimerastate is 2)[ They tilt their head, sliding their hand down to gently rub at their slit. $npcV[&quot;Spineclutches are an even *more* intimate experience than what&#39;s in your belly now,&quot;] they assure you.]

$npcV[&quot;Spineclutches, like most of my cargo today, love to crawl in everywhere. Only they don&#39;t settle for being hitchhikers, friend, no,&quot;] the chimera explains. They lean back in their seat as the carriage thumps and bumps along the road.


[[&gt; &quot;Be a bug?&quot;-&gt;spineclutch2]]</tw-passagedata><tw-passagedata pid="48" name="amorid" tags="final" position="984,3460" size="100,100">$roomname[The Carriage - The Chimera&#39;s Jars]

&lt;img src=&quot;http://nodd-arca.net/carriage/amorids.jpg&quot; style=&quot;display: block; margin-left: auto; margin-right: auto; width: 100%;&quot;&gt;

You point to the bottle at the chimera&#39;s waist with several greenish, glowing slug-like creatures. The insider glances down at them as the carriage jostles and rattles, then gives a coy smile.

$npcV[&quot;The amorid slugs? A Vivirian pervert&#39;s delight,&quot;] the chimera snickers. Watching you for a moment, they tug the bottle free of its clasp and then hold it out to you.

(if: $cock is true)[$npcV[&quot;If you feel brave, then unstopper the cork. Put that dick of yours to the tip, and let two wriggle inside. I promise no harm will come to you,&quot;] the chimera grins.

You look at the swirling bottle of slugs uncertainly. You can feel your dick stir a little where you sit, but you have a feeling that there&#39;s more to these slugs than the chimera is letting on.


[[&gt; Unstopper the bottle.-&gt;amorid2]]
[[&gt; Politely decline.-&gt;amoridNo]]

](else-if: $cunt is true)[$npcV[&quot;If you feel brave, then unstopper the cork. Put the neck of it to that pretty cunt of yours, then let two wriggle inside. I promise no harm will come to you,&quot;] the chimera grins.

You look at the swirling bottle of slugs uncertainly. You feel somehow more keenly aware of your pussy as you sit there, contemplating what might happen if you were to do just that. You have a feeling that there&#39;s more to these slugs than the chimera is letting on.


[[&gt; Unstopper the bottle.-&gt;amorid2]]
[[&gt; Politely decline.-&gt;amoridNo]]

](else:)[$npcV[&quot;I&#39;m afraid they wouldn&#39;t have much effect on you,&quot;] the chimera grins. $npcV[&quot;They work best on those with something between the legs. They might make you feel a bit... full,&quot;] the insider concedes. $npcV[&quot;But the real fun comes for those with a dick or a cunt to, mm, sway their thoughts.&quot;]


[[&gt; &quot;Sway their thoughts?&quot;-&gt;amoridNull]]]</tw-passagedata><tw-passagedata pid="49" name="&gt; Point to the vial of swarming flies." tags="final" position="1246,3410" size="100,100">$roomname[The Carriage - The Chimera&#39;s Jars]

&lt;img src=&quot;http://nodd-arca.net/carriage/fugue_gnats.jpg&quot; style=&quot;display: block; margin-left: auto; margin-right: auto; width: 100%;&quot;&gt;

You point to the vial with a veritable swarm of small, black and red fly-like insects. The insider lifts the jar up to you, keeping one thumb pressed on the stopper at the top for safety.

$npcV[&quot;Mm, good eye,&quot;] they delight. $npcV[&quot;Terrible ones, these, yes?&quot;] The amphibious insider pauses as the carriage rattles, mulling over their words.

$npcV[&quot;Fugue gnats. Feasters do not like these little creatures, mm, no. I&#39;ve seen some feasters eat them. Can you imagine? A feaster, eating a living thing! For these love to bite,&quot;] they murmur, watching as the many-legged flies scurry and crawl around the inside of the glass. $npcV[&quot;One bite and you&#39;ll stop making memories for several bells. Hazy, groggy, half-asleep you&#39;ll be, and bells later will feel like you are suddenly waking up again - no memory at all.&quot;]

The chimera licks their lips, wetting them, then tucks the vial back on their belt.


[[&gt; &quot;Do they only bite?&quot;-&gt;fugue2]]</tw-passagedata><tw-passagedata pid="50" name="&gt; &quot;What&#39;s with the weird getup?&quot;" tags="final" position="7310,3182" size="100,100">$roomname[The Carriage - The Hero](set: $confidence to it - 1)

You ask the petrid what&#39;s with his weird outfit. He frowns at you and rolls his eyes beneath his mask. You see him adjust himself in his seat, before he rolls his neck. It cracks, loudly.

$npcO[&quot;Mock me if you like, citizen, but The Pounder never cracks.&quot;] He crosses his arms, then looks at you firmly. 


[[&gt; &quot;Wait, &#39;The Pounder&#39;? That sounds awesome! Because you&#39;re made of rock?&quot;-&gt;&gt; &quot;That sounds awesome! Because you&#39;re made of rock?&quot;]]
[[&gt; &quot;You&#39;re called &#39;The Pounder&#39;? Because of your dick, right?-&gt;&gt; &quot;Because of that huge dick you&#39;re packing, right?&quot;]]</tw-passagedata><tw-passagedata pid="51" name="omnillianwindow1" tags="final" position="7539,3255" size="100,100">$roomname[The Carriage - The Window]

You turn your attention towards the window. Peering out into the streets you can see the usual shapes and colors of Nodd and its architecture. Most buildings seem to be unassuming abodes or businesses of various sorts, though one thing in particular is quite eye-catching as the carriage rolls shakily past.

A green-hued slyne wearing a black head covering waves about a long staff, the end of which has two prongs which are joined by zig-zagging jolts of greenish energy at the tips. Though too far to clearly hear their words the slyne is clearly speaking, gesturing at those passing by and then to the cart it stands by, which holds several individuals who seem to be physically bound in place. A few spots on the cart are vacant, suggesting perhaps that the slyne has had recent fortune in parting with some of its &quot;wares&quot;, and begs one to think of where new ones come from.

A particularly plump krudge trundles up to the cart with an appraising gaze just as the carriage rolls far enough away for you to lose sight.


[[&gt; Continue gazing out the window.-&gt;omnillianwindow2]]</tw-passagedata><tw-passagedata pid="52" name="omnillianwindow2" tags="final" position="7526,3407" size="100,100">$roomname[The Carriage - The Window]

The buildings slowly start to look a hint more orderly, though such could be said to be a relatively low bar among the streets of Nodd. As the carriage jostles its way around a corner there&#39;s a visible commotion up ahead that you can see, along the side of the street.

A small crowd of individuals gather around a chimera with large eyes and a long, whiskered snout wearing official-looking attire. They have another citizen, a petrid hybrid of some sorts you&#39;d guess at a glance, held at the end of their provoker right alongside a large, hulking beast with six legs and jutting horns. Its body seems to be almost half mechanical, with one of its limbs having been replaced by something metallic and numerous plates of polished metal covering its flesh.

It pants, staring out into the distance with one bright, greenish orb and one mechanical lens-like replacement as a dizzyingly large and spiny-looking shaft hangs beneath its body. The petrid hybrid stares in horror and fear at the beast, especially given the implication of what&#39;s about to happen.

The carriage draws close enough for you to hear the whiskered chimera reading out some kind of proclamation. They declare that the petrid hybrid has violated a Council ordinance and is to be subjected to high punishment. You catch wind that the supposed violation was... &quot;failure to be drinking soup while outdoors walking downhill&quot;. 

The petrid loudly insists they were, in fact, just having some soup. They are holding a half-full, chitinous bowl in one hand, even though some of it has spilled in the altercation, and stand not a dozen paces from a street cart that appears to be an opportunitistic vendor selling nothing but soup. Several readily apparent facts that seem to support their assertion.

The chimera answers by reminding the petrid, in a tired sounding tone of having to repeat oneself too many times, that *eating* soup does not comply with the ordinance and, as such, they will be punished accordingly. As if on cue the immense beast shifts in place, thick nostrils whuffing hot breath into the air.

Before you can see more, though, the carriage rounds a corner and the scene drops out of sight.


[[&gt; Continue watching.-&gt;omnillianwindow3]]</tw-passagedata><tw-passagedata pid="53" name="omnillianwindow3" tags="final" position="7525,3552" size="100,100">$roomname[The Carriage - The Window]

A large, attention-catching storefront comes into prominent view, and at about the same time your ego bracer steals your attention for a split second. A slightly intrusive message materializes to your awareness as you focus on it. 

&lt;center&gt;(text-style: &quot;buoy&quot;, &quot;smear&quot;)[(colour: #00ffae)[Feeling stuck at an impasse? 
Worried the Council&#39;s comin&#39; for your ass? 
Slip in to our store and fret no more! 
Alrysk&#39;s Anguish, for all your stimulist needs!]]&lt;/center&gt;

Glancing back up from your bracer you swiftly recognize it to be related to the very storefront at which you gaze. The building&#39;s entire front face is mostly made up of windows, allowing a very clear view. Several elaborate looking chairs, each of which has ample means to restrain anyone sitting in it, line the visible area behind the windows. 

One of the chairs is occupied by a nurk who looks a bit taller and more lithe than usual for their kind, perhaps a nurk-dominant hybrid? Whatever the case, they look nervous as can be as a demure looking slyne looms over them, gesturing at a tray of implements. You can&#39;t clearly make them out at a distance, but the nurk&#39;s reaction makes it clear that they don&#39;t like what they see. The slyne visibly sighs, bony shoulders slumping, its body language giving away their exasperation at the melodrama of those who wander into such a shop unprepared to endure what is sure to ensue.

The slyne straightens back up just before the carriage draws around another corner and you lose sight - the last thing you see is the slyne holding up a long, serrated blade that catches the light dangerously along its edge - and the nurk&#39;s struggles growing twofold. 

Whether the nurk will regret their decision, much less survive their appointment, you&#39;re left to wonder.


[[&gt; Continue looking.-&gt;omnillianwindow4]]</tw-passagedata><tw-passagedata pid="54" name="omnillianwindow4" tags="final" position="7525,3705" size="100,100">$roomname[The Carriage - The Window]

The buildings that line the street are still the same imposing, looming structures that are so common throughout Nodd, yet there&#39;s a growing sense of organization to them. Not the neat and tidy organization that comes from perfect planning and foresight, but the mad organization of brilliant minds teetering on the edge of insanity. In some strange way it looks like it makes (text-style: &quot;outline&quot;)[sense], yet somehow still defies explanation.

A pair of petrids stand outside one building, a squat structure squished between two larger ones. One holds an open tome, which the other gestures towards before then gesturing at the building behind them. The sigils marking the entryway designate it to be a library, a place to find and store knowledge in various forms. 

Writing is something of a form of art in the city, given the focus and effort it requires. While one can simply observe an arcanogram and focus to intuit the meaning it requires a sort of reversal of that process, generally only something that can be achieved through meditation and focus, to channel thoughts and ideas back into written sigils at a whim.

Some books are enchanted to do this magically for a user, journals and cookbooks and the like, but they tend to be more dry in tone or limited in scope of what they can effectively record. Therefore books and any sort of written word carries a certain weight and particularly capable writers are known for their ability to craft especially nuanced, evocative sigils and convey powerful meaning through them. Several displays at the front of the shop offer just such empty books for practical uses, as well as numerous shelves of carefully crafted written word with a wide variety of stories and accounts for the curious to peruse.

Just two buildings down a broad storefront with no windows comes into view. It opens right into the street, out the front of which a bulky krudge stands guard, donned in armor from head to toe. The krudge&#39;s gear appears to be metallic based on the way light glints, but the material shifts and flexes with his every movement while leaving his ample loins on full display.

On prominent display atop a long table sits a row of long, forked rods, each one subtly different in style or form but each clearly the same relative design of weapon; the infamous *provoker*, a tool frequently used by pawns to subdue and &#39;encourage&#39; citizens into compliance. A wall-mounted rack behind the table holds a series of simpler, more mundane long-hafted weapons, the end of each one adorned with various glistening blades and wicked points. 

Another table, this one closer to the store&#39;s front wall, can also be seen. It looks more like something one would find at a fishmonger&#39;s table or a pet shop, but each of the varied shapes, organic and creature-like, clearly is a weapon of some variety or another. One in particular is more recognizable than the rest, a spherical bladder attached by a tube to a a launcher simply known altogether as a *stinger.* Each one has a small bandolier of darts sitting beside it, sold as a set. The stinger is another device oft employed by various council roles - though its purpose varies widely depending on the particular venom, poison, or other substance the darts are infused with before firing.

There&#39;s little doubt the shop deals in arms and armaments, begging the question of whether the krudge is an actual guard or a glorified mannequin to draw customers in.


[[&gt; Continue looking.-&gt;omnillianwindow5]]</tw-passagedata><tw-passagedata pid="55" name="omnillianwindow5" tags="final" position="7528,3902" size="100,100">$roomname[The Carriage - The Window]

An unusual, old-looking building draws your attention. The exterior walls seem to sag, and the front awning bows in the center from age. It gives the impression that the structure itself is quite ancient, yet the fact that it still stands despite countless (link-reveal: &quot;Prunings&quot;)[(show: ?1)] suggests it must be well cared for.|1)[
(colour: grey)[*The Pruning... the time of year following the HearthHunt, where old buildings that are no longer wanted nor lived in are slain and torn down by the Council to make room for new architecture.*]]

An especially scraggly looking insider sits just inside the building, visible through the front window. They appear to be a chimera of some sort a bit shorter than many of the more recognizable insider species. They have a short, blunted round snout and broad eyes that dwarf the small spectacles that sit unevenly atop the bridge of their muzzle. A long, sparsely furred tail dangles down out of view from the stool they sit atop. They wear heavy, multi-layered robes that obscure much of their physique otherwise, but a ruffle of fur similar to that which trails their tail poofs from the sleeves of their robe. Long, spindly digits tip each clawed hand, both of which clutch at an artifact.

They trace the end of a blunted claw over the artifact&#39;s surface, drawing lines over it, and with each stroke is left a faint glow of varying opalescent hues. After a series of marks comes a slight flash of light and a burst of color that trails upwards from the artifact, dancing about before them. Whether it&#39;s a display simply to admire or something more meaningful, you couldn&#39;t say.

Laced across the glass you&#39;ve been nosily peering through are sigils advertising all manner of antique artifacts. Beneath the writing is a set of smaller sigils which emphasize their sometimes less reliable nature due to their age, as well as the finality of all sales.


[[&gt; Continue looking.-&gt;omnillianwindow6]]</tw-passagedata><tw-passagedata pid="56" name="omnillianwindow6" tags="final" position="7537,4162" size="100,100">$roomname[The Carriage - The Window]

As the carriage finally rocks its way deep into the Omnillian district you are struck by how busy it all feels. Many citizens roam about with their heads buried in books, poking at artifacts, engaged in heated conversation and debate, or muttering to themselves. Everyone is industriously working on something in a place where very little makes sense. Yet, perhaps there&#39;s a little logic in the *il*-logic of it all.

Many of the buildings have prominent modifications that are clearly visible such as extra gloam tanks, glowing piping that pumps unknown fluids about the structure, or other curiously mechanical and tinkered additions. 

Another carriage rolls up alongside the one you ride in at a quicker pace, though at first you can hardly tell it&#39;s a carriage. Scurrying forth at an impressive speed is a chitinous, arachnid-like contraption. Various tubes and canisters glowing with a familiar greenish hue adorn the creature&#39;s limbs and body, with a similarly glowing series of eyes adorning its front. As it scurries past the window you&#39;re peering out of only then do you finally see the carriage attached to the back of it. It looks similarly enhanced and improved upon with Omnillian&#39;s particular style of technology, leaving one to wonder if the driver isn&#39;t an afterthought, or if perhaps the contraption pulling it might be prone to all manner of unpredictable behaviors or failures if not minded by said driver.

And there, deep in the heart of it all lays (text-style: &quot;outline&quot;)[the citadel]: a place that ever seeks to understand that which perhaps should not be - *cannot* be understood. Yet those true to Omnillian&#39;s ideals recognize that the goal is not to understand but to *pursue* understanding. That the course of dismantling, refining, and reassembling is the true purpose of knowledge and its pursuit. 

Merely gazing at the building makes you feel as if you yourself are being studied, your every thought scrutinized, your body measured and assessed, jotted down and recorded, all for the sake of understanding how it is and how it *could be.* Your breath catches in your chest, and you find that you need to tear your eyes away lest your very being begin to come undone - dismantled and cataloged by the overwhelming sensation of near-cosmic *order* that radiates from Omnillian&#39;s hallowed sanctum.

As you stop to take a long and calming breath, you feel the carriage begin to slow. The petrid hero across from you gives an idle grunt, looking out the window. He crinkles his snout and cracks his thick neck as Crusty calls out a halt.

You have arrived.


[[&gt; Prepare to disembark.-&gt;omnillian window conclusion]] </tw-passagedata><tw-passagedata pid="57" name="wait you have to pay" tags="final" position="4618,668" size="100,100">$roomname[Council District]

You immediately move to get in the carriage, but are swiftly stopped by the outstretched, scraggly furred arm of the driver and presumed owner - a wretched-looking lehlt with a slightly hunched back and mangy fur. He licks his teeth, then rolls his jaw.

$npc[&quot;You gotta pay for a ride,&quot;] the lehlt says, wiping his nose with the back of one gnarled hand. $npc[&quot;If ya don&#39;t have enough gloam, Miggy gets a little antsy - a little &#39;hard&#39; work pays the fee just the same,&quot;] he jerks a claw at the sign that says &quot;free ride with miggwitch service&quot;.

You decide not to comment on the unoriginality of his naming.


[[&gt; &quot;Who are you?&quot;]]
[[&gt; &quot;How much will this cost me?&quot;]]
[[&gt; &quot;What are &#39;miggwitch services&#39;?&quot;]]
[[&gt; &quot;A free ride? What a deal!&quot;]]</tw-passagedata><tw-passagedata pid="58" name="&gt; &quot;Viviria.&quot;" tags="final" position="581,2945" size="100,100">$roomname[The Carriage - The Chimera]

You confirm that you are, in fact, traveling to the Viviria District as well. The chimera offers you an expression that looks vaguely like a smile, their mouth showing off numerous backwards-facing teeth.

$npcV[&quot;Viviria,&quot;] they echo. $npcV[&quot;Have you seen any of the (text-style: &quot;smear&quot;)[afflicted]?&quot;] The chimera&#39;s head tilts one way, then the other.


[[&gt; &quot;The afflicted?&quot;]]
[[&gt; &quot;What&#39;s in the jars?&quot;]]</tw-passagedata><tw-passagedata pid="59" name="&gt; &quot;The afflicted?&quot;" tags="final" position="471,3065" size="100,100">$roomname[The Carriage - The Chimera]

The chimera nods, lifting up one of the jars that contains a long, centipedal creature inside it. He rattles it around and the centipede scurries furiously around the inside of the jar.

$npcV[&quot;Yessss,&quot;] they hiss. $npcV[&quot;The ones with the (text-style: &quot;smear&quot;)[&#39;&#39;things&#39;&#39;] on their necks. Like this one, but... (text-style: &quot;smear&quot;)[&#39;&#39;different&#39;&#39;]. My friend Julpie says it is a, mm, hive-mind?&quot;] The chimera shrugs one shoulder, then almost lovingly pats the jar with one webbed hand.


[[&gt; &quot;What&#39;s in the jars?&quot;]]
[[&gt; &quot;Tell me more.&quot;]]</tw-passagedata><tw-passagedata pid="60" name="&gt; &quot;Tell me more.&quot;" tags="final" position="621,3127" size="100,100">$roomname[The Carriage - The Chimera]

The chimera looks at you curiously, then smiles another toothy smile. They look out of the carriage window only to give an almost wet click of their tongue.

$npcV[&quot;Information costs gloam, you know,&quot;] they say. You catch them looking at you sideways, attempting to look nonchalant. Then the chimera laughs. $npcV[&quot;But for you, well,&quot;] they shrug again, then gesture downwards. Your gaze dips, and you see that the chimera is sporting a few inches of what appears to be a slimy, bulbous erection from their slit. $npcV[&quot;You look enjoyable, so no charge.&quot;](set: $chimerastate to 1)


[[&gt; Continue.]]
[[&gt; &quot;What&#39;s in the jars?&quot;]]
[[&gt; Suck the chimera off]]</tw-passagedata><tw-passagedata pid="61" name="&gt; Continue." tags="final" position="782,3206" size="100,100">$roomname[The Carriage - The Chimera]

The chimera reclines back in their seat, (if: $chimerastate is 2)[looking very pleased and sedated now.](else:)[starting to gently knead and caress their spire with two fingers as if thinking nothing of it.]

$npcV[&quot;Mm... They say that they came from somewhere beneath the spire. I hear murmurs of the omasum,&quot;] the chimera mumbles, picking up one of the jars and peering into it. A small worm squirms around inside of it. $npcV[&quot;Some mad or foolhardy mage trying to fuse the Mothertoad&#39;s unifying with an addleworm&#39;s purpose, maybe?&quot;] The amphibious insider gives a wet noise that could be a chortle.

$npcV[&quot;All I know is, if you see a citizen shambling around like a sleepwalking krudge? Steer clear,(if: $chimerastate is 2)[ my friend, steer clear,]&quot;] they say. Then, after hesitating a moment longer, the chimera nods. $npcV[&quot;Especially be wary of Gutterleaf Lane. A few acquaintances of mine have gone missing, there.&quot;]


[[&gt; &quot;What&#39;s in the jars?&quot;]]</tw-passagedata><tw-passagedata pid="62" name="&gt; Suck the chimera off" tags="final" position="294,3178" size="100,100">$roomname[The Carriage - The Chimera]

You stare at the chimera&#39;s slimy, clammy-looking appendage for a few moments. You can&#39;t be sure if a creature like this is more masculine or feminine, but their equipment certainly looks enjoyable - plump, a little bulbous at the tip, and textured in all the right places. And by the chimera&#39;s expression, they find you to be somewhat *enjoyable* as well.

In only a few moments, you&#39;re on your knees before the chimera. Your face is buried between their legs before you even know their name. Perhaps that&#39;s part of the charm. Cool, almost clammy hands hold your head and guide your lips to that mucus-coated spire without a word passed between you. You can see the expression of utter delight in the chimera&#39;s face, though.

They smell of salt and something like mildew. When you take them into your mouth, a strange warmth flows through your face and makes your heart beat a little faster. The taste is strange, and you find yourself blinking a little more heavily.


[[&gt; Suckle]]</tw-passagedata><tw-passagedata pid="63" name="&gt; Suckle" tags="final" position="268,3330" size="100,100">$roomname[The Carriage - The Chimera]

You suck on the plump, bulbous thing in your mouth and feel a little trickle of fluid stain your tastebuds. It nearly makes you gag. Before you can pull away, though, the chimera is holding your head in place.

$npcV[&quot;Shh... Nothing to worry about. Just a little intoxication,&quot;] the chimera explains soothingly. As they guide your head down the plump, twitching spire of their length, you feel a deep and warming sensation spread through your belly. A sense of unsteady pleasure, like you&#39;re falling into a warm, slightly wet pillow. Like you&#39;re going home.


[[&gt; Suckle-&gt;suckle2]]</tw-passagedata><tw-passagedata pid="64" name="suckle2" tags="final" position="491,3346" size="100,100">$roomname[The Carriage - The Chimera]

You spend the next ten chimes with your face buried in the chimera&#39;s lap, suckling and slurping on their length as your amphibious companion&#39;s jarred menagerie squirms. Your head melts into a sea of warm, fuzzy delight as wet slime starts to pump and spurt down your throat. The rocking of the carriage makes certain that you never stop stimulating them.

After a few chimes more, you feel a hand caress your face before the amphibious chimera suddenly moans quite loudly.

There&#39;s a *squitch* before suddenly, unexpectedly, their entire shaft begins to *wriggle* in your mouth. You try to pull away yet find yourself unable to as the chimera holds you steady. Then that plump length starts to undulate and spasm between your lips, growing rapidly.

*No, not growing.*

*Moving*. Buried to the back of your mouth, the slimy appendage wriggles *out* of the chimera&#39;s slit like a living eel, then pours itself down your throat. You&#39;re forced to swallow as more and more of the eel-like parasite burrows slimily down into your gullet, putting a bulge in your neck while the chimera writhes in apparent bliss beyond measure.

Suddenly, the end of the serpent vanishes between your lips and disappears down your throat, leaving you gasping for air. Thoughts seem hard to keep track of, and a few moments later you find yourself dazedly kissing the chimera&#39;s now empty slit, a puddle of slime beneath the amphibious creature.


[[&gt; &quot;Glk...!&quot;]]</tw-passagedata><tw-passagedata pid="65" name="&gt; &quot;Glk...!&quot;" tags="final" position="689,3366" size="100,100">$roomname[The Carriage - The Chimera]

You shakily pull yourself away from the chimera, quivering and groaning as you feel a new, living weight settle into your belly. The chimera just chuckles and rubs at your head a few times.

$npcV[&quot;Oh, don&#39;t worry too much,&quot;] they offer. $npcV[&quot;It&#39;ll come back out eventually. If you&#39;re lucky, it might even be as...&quot;] The chimera shudders visibly. $npcV[&quot;Pleasurable as it was for me.&quot;]

A short time later, you find yourself seated opposite the very pleased-looking chimera once again. Now, though, you find yourself feeling a little flush and warm. Occasionally, you can feel a little wriggling in your belly to remind you of your new companion. (set: $chimerastate to 2)


[[&gt; &quot;What&#39;s in the jars?&quot;]]
[[&gt; &quot;So... hive-mind?&quot;-&gt;&gt; Continue.]]</tw-passagedata><tw-passagedata pid="66" name="viviria conclusion" tags="final" position="913,4622" size="100,100">$roomname[The Carriage - The Chimera&#39;s Jars]

After concluding your interactions with the chimera the rest of the remaining journey passes rather swiftly. The carriage begins to slow and the turns become more frequent until, finally, it stops.

Before you can make your way out of the carriage the chimera catches your attention, holding out a small jar. 

(if: $amoridSeen is false)[The insider smirks a bit to themselves as they hold it out to you. 

$npcV[&quot;Don&#39;t worry. Nothing unkindly or unseemly here, friend, just a little something for you to take with you, on account of your... pleasant... company.&quot;]

You gaze at the offering, peering within the glass jar where several glowing green creatures squirm. Each one is relatively small and vaguely slug-like, though their precise form is hard to discern on account of the glow, especially through the glass. 

$npcV[&quot;Amorids - as their name suggests they can be quite friendly, especially if you have some proper &#39;equipment&#39; between the thighs for them to... explore. They also tend to make whomever they... &#39;join&#39;... quite amorous, as well!&quot;]

You take the small jar in hand and examine it more closely, before tucking it away safely.](else:)[The insider smirks to themselves with a soft chuckle. 

$npcV[&quot;I don&#39;t think I need to explain what these are, do I? You seemed pleased enough that I suppose you might want a few extra little &#39;friends&#39; for later - more for yourself, or to share,&quot;] they remark with a subtly playful tone.

You hold the jar up and peer into it, easily recognizing the very same creatures the chimera earlier helped you &#39;admire&#39;.]

&lt;!-- AMORIDS COLLECTIBLE --&gt;(COLLECTIBLE GOES HERE)

$npcV[&quot;Now, shall we, hmm, make ready to go?&quot;]


[[&gt; Disembark.-&gt;viviria conclusion2]]</tw-passagedata><tw-passagedata pid="67" name="psilysiumAlt1" tags="final" position="5374,2865" size="100,100">$roomname[The Carriage]

You signal for Crusty to wait and, sure enough, less than a chime later a figure hurriedly approaches the carriage.

$npc[&quot;Headed to Psilysium?&quot;] Crusty inquires. The stranger nods, and clambers into the vehicle, seating themselves across from you.

&lt;img src=&quot;http://nodd-arca.net/carriage/char_psilysium2.jpg&quot; style=&quot;display: block; margin-left: auto; margin-right: auto; width: 100%;&quot;&gt;

They wear a heavy, ornate mask that covers their face. They&#39;re too tall to be a nurk, but whether they&#39;re lehlt, petrid, slyne or ravel is impossible to tell beneath the thick vulturewear cloak that enshrouds them. They might even be a chimera of some sort.

They set a slender cane down across their knees and a small bag beside them. They seem to almost pointedly avoid acknowledging you as you sit there.


[[&gt; &quot;Hello there.&quot;-&gt;psiAltHello]]
[[&gt; Continue sitting quietly.-&gt;psiAlt2]]</tw-passagedata><tw-passagedata pid="68" name="psiAltHello" tags="final" position="5301,3013" size="100,100">$roomname[The Carriage - The Stranger]

The masked creature says nothing, simply turning their gaze to you. Through the eyes of their mask you can see two featureless, white globes that seem to examine you, only to summarily dismiss you without a sound.

It seems that they have no interest in conversing.


[[&gt; Sit quietly.-&gt;psiAlt2]]</tw-passagedata><tw-passagedata pid="69" name="psiAlt2" tags="final" position="5449,3015" size="100,100">$roomname[The Carriage - The Stranger]

Before too long, your traveling companion lifts one arm and raps upon the carriage side with their cane, adorned with a sletcher head. The miggwitch carriage slows to a halt before a dingy-looking alleyway.(click: &quot;sletcher&quot;)[

*The sletcher is the familiar of the House of Vorn. Eyeless creatures that sense primarily by touch, they are renowned for their remarkable pain tolerances and, in the females, their vagina dentata.*]

You watch as they get out and close the door behind them, stepping into the grungy streets of Nodd.

Moments later, the carriage starts to move again.


[[&gt; Continue sitting quietly.-&gt;psiAlt3]]</tw-passagedata><tw-passagedata pid="70" name="psiAlt3" tags="final" position="5452,3166" size="100,100">$roomname[The Carriage]

&lt;center&gt;&lt;img src=&quot;https://nodd-arca.net/carriage/triangle_journal.png&quot; width=400&gt;&lt;/center&gt;

It&#39;s only then that you notice that the masked citizen left behind a small bag, presumably by mistake. Curiosity gets the better of you as you tug the drawstring open to peer inside, noticing several curious looking items.

A few disposable spells, already spent, a gnarled wand without a cartridge, and a squat, triangular book of some sort sit jumbled together within the bag. The cover looks well worn to the point that the markings covering the front of it have faded from being manipulated an untold number of times.

Based on the latch secured to the side and strange, illusory eyes that manifest it appears to be some sort of magical puzzle lock put in place to protect the journal&#39;s contents.


[[&gt; Attempt to open the book.-&gt;puzzlestart]]
[[&gt; Leave it be.-&gt;psiAltClose]]</tw-passagedata><tw-passagedata pid="71" name="psiAlt4" tags="final" position="5457,3324" size="100,100">$roomname[The Carriage - A Misplaced Journal]

Having meticulously cracked the magical lock you open the journal to the first page. It appears to be a personal journal of some sort, though whose you cannot say especially given the age and wear on its covers.

You scan through the first handful of pages and, initially, it appears to be a rather unremarkable book. Dozens of pages speak of sales the journal&#39;s owner made, products inventory, and a ledger of their profits. Some ways in, however, one of the pages catches your attention and begs you to read closer.

A series of arcanogram glyphs greet you as you focus, revealing their meaning to your mind as your eyes fall across them.

&lt;center&gt;(text-colour:#4bf39f)[(text-style:&quot;smear&quot;,&quot;buoy&quot;)[Everlight, sleep 24.

Another dead end. Borlob is so wrapped up in his collection that he has no care for the situation at all. Surely he understands that even his little pet projects need gloam to run?

Luckily, I was able to swap his (colour:white)[(link-reveal:&quot;glutling&quot;)[(show: ?1)]] with one of my own: one filled with (colour:white)[(link-reveal:&quot;phantasm&quot;)[(show: ?2)]]. In his stupor, I was able to make off with his latest collectible.

I should remember to avoid Borlob&#39;s part of the Canopy for the next few trisks. As Faladia would always say, &#39;never bite an Ogg without an antidote&#39;. Thanks to this acquisition I feel as though my already booming side business will soon be more successful than I ever dreamed!]]&lt;/center&gt;|1)[

//A small, leech-like creature that suckles on liquids of almost any sort. Occasionally filled with alcohol or narcotics and then bitten into for a tasty burst.//]|2)[

//A drug that makes one feel imaginary and heavily disassociated. It tends to make one slightly translucent as well as causing difficulty in acting or even simply feeling emotions.//]

There seems to be more pages.


[[&gt; Next page.-&gt;psiAlt5]]
[[&gt; Finish reading.-&gt;psiAltClose]]{

&lt;audio autoplay&gt;
  &lt;source src=&quot;https://static.wixstatic.com/mp3/ebefb2_fc88891a4c2b4d4484a55dbdbf78e5e0.wav&quot;&gt;
&lt;/audio&gt;}</tw-passagedata><tw-passagedata pid="72" name="psiAltEnd" tags="final" position="5447,5266" size="100,100">$roomname[The Carriage]

You close the journal, contemplating what you read. Who wrote it, and how long ago? What happened to them and their friend, in the end? Was it the masked stranger who left it behind? Could they truly have seen a citygod simply out and about in the streets? Everyone *knows* of the citygods, but few to none have *seen* them - much less in the streets.

Some of your questions perhaps have answers to them, yet others may never be answered at all. Eventually you glance out of the window and notice that the streets seem to have taken on the distinctive (text-style:&quot;smear&quot;)[haze] that seems to linger in the Psilysium district.

You realize that your time in Crusty&#39;s miggwitch carriage is coming to its end. But the experience you shared through the journal, the knowledge you gained, will remain with you and continue forwards. Only time will tell where it leads.


[[&gt; Wait for the carriage to come to a stop.-&gt;psiconclusion]]</tw-passagedata><tw-passagedata pid="73" name="psiAlt5" tags="final" position="5457,3482" size="100,100">$roomname[The Carriage - A Misplaced Journal]

The journal of the stranger continues.

&lt;center&gt;(text-colour:#4bf39f)[(text-style:&quot;smear&quot;,&quot;buoy&quot;,&quot;italic&quot;)[Everlight, sleep 25.

She says she saw nothing! *Nothing!* I am unsure if her time in Borlob&#39;s clutches robbed her of her memory, if there&#39;s a feaster at play, or if this disgusting little micro is simply that tolerant to pain.

I didn&#39;t earn the title *the Slyne&#39;s Banquet* without reason, though. She will tell me what I want to know. She *will*.

Yet some small part of me continues to worry. What if she truly did see nothing? Could my quarry be that elusive, their movements that perfidious?

If I can just get some more information I can bury that damned krudge undercutting me. He&#39;s the last one in my part of the district keeping prices down.]]&lt;/center&gt;

There seems to be more pages.

[[&gt; Previous page.-&gt;psiAlt4]]
[[&gt; Next page.-&gt;psiAlt6]]
[[&gt; Finish reading.-&gt;psiAltClose]]{

&lt;audio autoplay&gt;
  &lt;source src=&quot;https://static.wixstatic.com/mp3/ebefb2_fc88891a4c2b4d4484a55dbdbf78e5e0.wav&quot;&gt;
&lt;/audio&gt;}</tw-passagedata><tw-passagedata pid="74" name="psiAlt6" tags="final" position="5448,3626" size="100,100">$roomname[The Carriage - A Misplaced Journal]

The journal of the stranger continues.

&lt;center&gt;(text-colour:#4bf39f)[(text-style:&quot;smear&quot;,&quot;buoy&quot;,&quot;italic&quot;)[Everlight, sleep 28.

A new lead. The micro talked, at last. Lett enjoyed his snack tonight. I will have to make note: sletchers do enjoy ravel meat.

It seems that my quarry&#39;s name is Vikthik. A nurk of very mysterious proclivities. The micro supposedly saw someone who matched this &#39;*Vikthik&#39;s*&#39; description near the Slough district recently.

Who wears vulturewear of *themselves*? Ostentatious!

I quite dislike that &quot;district&quot; of the city, but sacrifices must be made and risks taken.

I will do what I must. He knows what I need to know.

Tomorrow I shall make for the Slough. I can but hope I will return from that unsightly part of the city unscathed. Should this be my final entry, you, nosy reader, may know that there I must have met my end. Disgustedly, I am sure.]]&lt;/center&gt;

There seems to be more pages.

[[&gt; Previous page.-&gt;psiAlt5]]
[[&gt; Next page.-&gt;psiAlt7]]
[[&gt; Finish reading.-&gt;psiAltClose]]{

&lt;audio autoplay&gt;
  &lt;source src=&quot;https://static.wixstatic.com/mp3/ebefb2_fc88891a4c2b4d4484a55dbdbf78e5e0.wav&quot;&gt;
&lt;/audio&gt;}</tw-passagedata><tw-passagedata pid="75" name="psiAlt7" tags="final" position="5452,3775" size="100,100">$roomname[The Carriage - A Misplaced Journal]

The journal of the stranger continues.

&lt;center&gt;(text-colour:#4bf39f)[(text-style:&quot;smear&quot;,&quot;buoy&quot;,&quot;italic&quot;)[Devilsky, sleep 2.

Here I am, the *Slough.* The citygod&#39;s damned Slough. Have I written how much I dislike this part of the city? It has been many turns since last I set foot here and I had hoped it to be many more before ever I would again. I&#39;ve managed to find out the location of a bar the nurk frequents, with luck I&#39;ll find him there. More later.

...

I never reached the bar. Something is amiss. Something&#39;s wrong here. I don&#39;t like it, I need to think. I can&#39;t even get thoughts out, there&#39;s too many, too fast. They&#39;re too big. City&#39;s eyes, I can barely control my trembling.]]&lt;/center&gt;

There seems to be more pages.


[[&gt; Previous page.-&gt;psiAlt6]]
[[&gt; Next page.-&gt;psiAlt8]]
[[&gt; Finish reading.-&gt;psiAltClose]]{

&lt;audio autoplay&gt;
  &lt;source src=&quot;https://static.wixstatic.com/mp3/ebefb2_fc88891a4c2b4d4484a55dbdbf78e5e0.wav&quot;&gt;
&lt;/audio&gt;}</tw-passagedata><tw-passagedata pid="76" name="psiAlt8" tags="final" position="5452,3928" size="100,100">$roomname[The Carriage - A Misplaced Journal]

The journal of the stranger continues.

&lt;center&gt;(text-colour:#4bf39f)[(text-style:&quot;smear&quot;,&quot;buoy&quot;,&quot;italic&quot;)[Devilsky, sleep 4.

I haven&#39;t slept in.. well, several sleeps. Humorous, no?

I think I can finally put this down - what I saw. What I *felt.*

It was him. *Him.* Filo Rooke. The fucking citygod himself. I saw him, in an alleyway, in the Slough. I was going to meet... whatever the nurk&#39;s name was, it doesn&#39;t matter now! I didn&#39;t even make it to the spot because I rounded a corner and saw him sitting there. He looked almost... peaceful?

I&#39;ve never seen a citygod before, as far as I know almost nobody has. Nobody does! But I did. He looked disheveled, broken, almost... *old*? Can they age? I don&#39;t know, but it wasn&#39;t what I expected. I&#39;d heard the stories - we all have - I would expect a wild torrent of madness and power, to be driven mad or turned inside out to simply be near him... but he was just... sitting there. Sitting.

At first I thought it was just a crazy old beggar, or prophet perhaps - in Nodd the two are often one in the same, anyways. But a few steps after I first rounded the corner and saw him his head turned to look right at me, his eyes met mine, and I knew. I *knew.* It was him. 

But it couldn&#39;t have been. Nobody believes me. I don&#39;t believe me. But I *knew.* I *know.*]]&lt;/center&gt;

There seems to be more pages.


[[&gt; Previous page.-&gt;psiAlt7]]
[[&gt; Next page.-&gt;psiAlt9]]
[[&gt; Finish reading.-&gt;psiAltClose]]{

&lt;audio autoplay&gt;
  &lt;source src=&quot;https://static.wixstatic.com/mp3/ebefb2_fc88891a4c2b4d4484a55dbdbf78e5e0.wav&quot;&gt;
&lt;/audio&gt;}</tw-passagedata><tw-passagedata pid="77" name="psiAlt9" tags="final" position="5458,4078" size="100,100">$roomname[The Carriage - A Misplaced Journal]

The journal of the stranger continues.

&lt;center&gt;(text-colour:#4bf39f)[(text-style:&quot;smear&quot;,&quot;buoy&quot;,&quot;italic&quot;)[Devilsky, sleep 7.

I&#39;ve been spending more time in the Slough, trying to make sense of what I saw. I don&#39;t have time for the business dealings I was so worried about recently, there&#39;s something here that doesn&#39;t make sense. It isn&#39;t right, and I can barely sleep. I saw him.

I thought I was alone, purely mad, but something smiled upon me at long last in this wretched city and I met a slyne, Lisksil, who didn&#39;t immediately dismiss me for mad.

She shared a drink with me and listened, genuinely listened. I had thought that slyne don&#39;t drink, but she insists that she does for pleasure. It is only sustenance that comes from suffering.

It was several bells into the cups that she told me something incredible - she saw him, too. Not in the Slough, but elsewhere. She saw him and she *knew*. It was him. We agreed to meet someplace private and discuss what we saw at length. The anticipation is not making rest come any easier.]]&lt;/center&gt;

There seems to be more pages.


[[&gt; Previous page.-&gt;psiAlt8]]
[[&gt; Next page.-&gt;psiAlt10]]
[[&gt; Finish reading.-&gt;psiAltClose]]{

&lt;audio autoplay&gt;
  &lt;source src=&quot;https://static.wixstatic.com/mp3/ebefb2_fc88891a4c2b4d4484a55dbdbf78e5e0.wav&quot;&gt;
&lt;/audio&gt;}</tw-passagedata><tw-passagedata pid="78" name="psiAlt10" tags="final" position="5455,4229" size="100,100">$roomname[The Carriage - A Misplaced Journal]

The journal of the stranger continues.

&lt;center&gt;(text-colour:#4bf39f)[(text-style:&quot;smear&quot;,&quot;buoy&quot;,&quot;italic&quot;)[Devilsky, sleep 8.

Lisksil invited me to her dwelling - a small set of chambers further out towards the City walls. Apparently she has been nurturing the building since its sporefall some turns ago.

I am writing this from the pleasant warmth of her bed. This evening we will both rest a little easier knowing that we may each be proof that the other is not entirely and utterly insane. Not yet, at least.

She says she saw him on the streets not far from her home, near the Apathus gate. She says he was different, though, from what I saw. The Filo I saw was ancient, as if the city itself would have long rotted away into dust countless turns ago from his perspective. She says he looked broken and mad, even for a citygod, but not old. He was screeching and crying out, as ravels are wont to do. She thought someone was being murdered, raped, or both - but when she found the source of the noise it was just him. His claws were worn down from scratching and scraping against the surface of a wall to the point that blood drooled down each of his arms.

Yet the wall had no blood on it. He screamed and squawked and clawed and then stopped and turned to look at her. She had started to turn to run when he looked and she stopped, she couldn&#39;t look away, because then she *knew.* Just like I had. If not for the way she described that one aspect I would simply think her mad, but it has to have been the same. She and I both must have actually seen *him!*]]&lt;/center&gt;

There seems to be more pages.


[[&gt; Previous page.-&gt;psiAlt9]]
[[&gt; Next page.-&gt;psiAlt11]]
[[&gt; Finish reading.-&gt;psiAltClose]]{

&lt;audio autoplay&gt;
  &lt;source src=&quot;https://static.wixstatic.com/mp3/ebefb2_fc88891a4c2b4d4484a55dbdbf78e5e0.wav&quot;&gt;
&lt;/audio&gt;}</tw-passagedata><tw-passagedata pid="79" name="psiAlt11" tags="final" position="5453,4378" size="100,100">$roomname[The Carriage - A Misplaced Journal]

The journal of the stranger continues.

&lt;center&gt;(text-colour:#4bf39f)[(text-style:&quot;smear&quot;,&quot;buoy&quot;,&quot;italic&quot;)[Devilsky, sleep 13.

Lisksil didn&#39;t show up tonight. I spent the evening prowling the Slough by myself, just for the off chance of catching another sight of him. 

Sometimes Lisksil goes away for a night or two, but I worry all the same. Just yesterday I saw some worshipers of that brute, Orpus Byle, gathering &#39;followers&#39; down a less traveled street. Bodily hauling citizens off into the nearby alleys and pouring sludge into their mouths through grungy-looking funnels.

They fought, of course, but their fate is as good as sealed. It doesn&#39;t take a clever mage like myself to recognize Byle&#39;s slime for what it is. Within a turn, they&#39;ll be filth-worshipers themselves, reveling in the muck.

If Lisksil ran into such a fate, I don&#39;t know what I would do. I have grown quite fond of her. I do hope that Marilla is still feeding Lett. I would hate to have to kill her.]]&lt;/center&gt;

There seems to be more pages.


[[&gt; Previous page.-&gt;psiAlt10]]
[[&gt; Next page.-&gt;psiAlt12]]
[[&gt; Finish reading.-&gt;psiAltClose]]{

&lt;audio autoplay&gt;
  &lt;source src=&quot;https://static.wixstatic.com/mp3/ebefb2_fc88891a4c2b4d4484a55dbdbf78e5e0.wav&quot;&gt;
&lt;/audio&gt;}</tw-passagedata><tw-passagedata pid="80" name="psiAlt12" tags="final" position="5448,4534" size="100,100">$roomname[The Carriage - A Misplaced Journal]

The journal of the stranger continues.

&lt;center&gt;(text-colour:#4bf39f)[(text-style:&quot;smear&quot;,&quot;buoy&quot;,&quot;italic&quot;)[Devilsky, sleep 14.

I still haven&#39;t heard from Lisksil, but the entire city is in a frenzy tonight. The Council made an announcement - the Conduit, they say, is not working &quot;as expected.&quot; A &quot;deficit&quot;, they claim, resulting in a net loss of access to gloam and, as such, magic in every form. The Council&#39;s orators say not to worry, top arcanologists are on it, et cetera. But it&#39;s jarring news. The entire city *depends* on magic, on gloam. How could we stay calm?

But there&#39;s something else. The timing. I saw him and then, now, soon after... this. It&#39;s unsettling. I don&#39;t know what to think. I wish I could talk to Lisksil about this.]]&lt;/center&gt;

There seems to be more pages.


[[&gt; Previous page.-&gt;psiAlt11]]
[[&gt; Next page.-&gt;psiAlt13]]
[[&gt; Finish reading.-&gt;psiAltClose]]{

&lt;audio autoplay&gt;
  &lt;source src=&quot;https://static.wixstatic.com/mp3/ebefb2_fc88891a4c2b4d4484a55dbdbf78e5e0.wav&quot;&gt;
&lt;/audio&gt;}</tw-passagedata><tw-passagedata pid="81" name="psiAlt13" tags="final" position="5455,4678" size="100,100">$roomname[The Carriage - A Misplaced Journal]

The journal of the stranger continues.

&lt;center&gt;(text-colour:#4bf39f)[(text-style:&quot;smear&quot;,&quot;buoy&quot;,&quot;italic&quot;)[Devilsky, sleep 16.

Something is wrong with Lisksil.

I just know it. I tried contacting her finally via the arcanet. I try not to bother her - after all, we&#39;ve only known each other a short time, but I worry. And I fear my worry is well founded in this case. She didn&#39;t respond. I reached out to a few locals in the Slough that she and I had come to know, though I might not quite call them &quot;friends.&quot; They hadn&#39;t seen her, either, nor were they able to reach her.

Final death, maybe? Or worse, she said the wrong thing or asked the wrong question. Is it related to what we saw? Am I in danger, too, for simply seeing *him*? Are these words a risk to write?]]&lt;/center&gt;

There seems to be more pages.


[[&gt; Previous page.-&gt;psiAlt12]]
[[&gt; Next page.-&gt;psiAlt14]]
[[&gt; Finish reading.-&gt;psiAltClose]]{

&lt;audio autoplay&gt;
  &lt;source src=&quot;https://static.wixstatic.com/mp3/ebefb2_fc88891a4c2b4d4484a55dbdbf78e5e0.wav&quot;&gt;
&lt;/audio&gt;}</tw-passagedata><tw-passagedata pid="82" name="psiAlt14" tags="final" position="5450,4836" size="100,100">$roomname[The Carriage - A Misplaced Journal]

The journal of the stranger continues.

&lt;center&gt;(text-colour:#4bf39f)[(text-style:&quot;smear&quot;,&quot;buoy&quot;,&quot;italic&quot;)[Grimlight, sleep 2.

I finally went back home to check in on things and see the state of affairs but I didn&#39;t even make it into my abode. I have searched, to no avail, for Lisksil for several phases. Nothing. I decided to go home, give up. Try to return to my life before I saw him.

I found a strange note at my doorstep as I approached. It had only one glyph on it.]]

(text-style:&quot;blur&quot;,&quot;buoy&quot;,&quot;italic&quot;)[&#39;Pnura&#39;.]

(text-colour:#4bf39f)[(text-style:&quot;smear&quot;,&quot;buoy&quot;,&quot;italic&quot;)[I ran. I don&#39;t even know why. But I couldn&#39;t stop until I collapsed from exhaustion.

Of all the citygods *it* unsettles me the most. A smirk that one can never forget. What does it have to do with this? Was it just a random chance? A prank played by some twisted gutter runt? It couldn&#39;t mean anything, could it?

And yet, I still haven&#39;t heard from Lisksil. She must be dead, or gone. I fear I&#39;m next.]]&lt;/center&gt;

There are but a few pages left with sigils upon them, the rest in the journal blank.


[[&gt; Previous page.-&gt;psiAlt13]]
[[&gt; Next page.-&gt;psiAlt15]]
[[&gt; Finish reading.-&gt;psiAltClose]]{

&lt;audio autoplay&gt;
  &lt;source src=&quot;https://static.wixstatic.com/mp3/ebefb2_fc88891a4c2b4d4484a55dbdbf78e5e0.wav&quot;&gt;
&lt;/audio&gt;}</tw-passagedata><tw-passagedata pid="83" name="psiAltClose" tags="final" position="4836,4092" size="100,100">$roomname[The Carriage]

You decide to leave the journal be. Carefully, you set it down beside you. Perhaps its owner will seek Crusty out and find it again, further down the line?

Or perhaps it&#39;s just better not to take what belongs to someone else. The stranger did seem like the type who might want it back, and something tells you that you might not want to be the person that they come to collect it from. Too much knowledge in Nodd can be dangerous, after all.

You spend the rest of the journey in relative quiet, simply watching the streets beyond the carriage pass you by.


[[&gt; Wait.-&gt;psiconclusion]]</tw-passagedata><tw-passagedata pid="84" name="umbrasia3" tags="final" position="2301,3190" size="100,100">$roomname[The Carriage - The Chimera]

You turn to your traveling companion and try to strike up some conversation. You ask what it is that she does.

The chimera turns her gaze to you, then gazes up and down your body. You feel yourself being appraised, though by what measure is something you cannot know. As the carriage bounces and clatters along the road, the gaunt chimera looks away again.

Perhaps a different topic of conversation? (set: $umbrasiaChat to 0)


[[&gt; &quot;Where are you going?&quot;]]
[[&gt; &quot;What&#39;s with the clasp?&quot;]]
[[&gt; &quot;What are you?&quot;]]</tw-passagedata><tw-passagedata pid="85" name="&gt; Suck off the beast." tags="final" position="2901,1353" size="100,100">$roomname[The Miggwitch]

You feel a faint tingle in your digits rather swiftly as the miggwitch&#39;s hefty shaft flexes and splatters your tongue and lips with fluids. Soon after, that tingling is felt wherever the fluid touched - it seems this particular migg&#39;s diet includes the necessary flora for its trademark trait.(click: &quot;trademark trait&quot;)[
(color: grey)[*Miggwitches are known for eating a variety of numbing plants, resulting in* ***all*** *of their fluids being numbing as well.*]]

A heavy sigh from nearby reminds you that the driver isn&#39;t exactly here for you to study miggwitch dick all day, so you set to the task at hand. The beast&#39;s hips hunch eagerly, crudely mashing the fat, bulbous tip against your spread lips and face while drooling fluids and smearing them about all the while. With a strain of your jaws you bring the tip fully to your lips and suck against it, slathering your tongue over the strangely textured tip. You can feel each slit from which the miggwitch&#39;s fluids ooze and the beast&#39;s slime quickly slops across the inside of your mouth thoroughly.

Within but a moment there are thick, dangling strands of fluid slipping from the corners of your lips... which you already have lost most the feeling in. Given the ache in your jaw at merely trying to wrap around the miggwitch&#39;s tip it may be a blessing of sorts. Gulping your first mouthful of warm, gooey slime, you push forwards at last as the miggwitch&#39;s bony hips hunch and pump awkwardly, somewhat restrained by its reins.


[[&gt; Continue gagging on miggwitch dick.]]</tw-passagedata><tw-passagedata pid="86" name="&gt; Continue gagging on miggwitch dick." tags="final" position="2730,1455" size="100,100">$roomname[The Miggwitch]

With the tip seated within your mouth you gag against the fatness of it while squeezing with your lips, sucking at the meaty girth. The beast is very happy to make clear its enjoyment of the sensation. Its softer, awkward noises of grunts and hronks become louder with sharp whuffs of air from its nostrils as it begins to jerk and jostle back and forth.

Your head is jerked around with it as the fat tip of the miggwitch&#39;s shaft insistently grinds and bashes at the back of your gullet despite the seemingly impossible width of it. The ache quickly gives way to numbness, leaving you with little more than a sensation of pressure - and a distinct fullness that tells you where the beast&#39;s cock is.


[[&gt; Deep throat the beast.]]
[[&gt; Stroke it off and suck the tip.]]</tw-passagedata><tw-passagedata pid="87" name="&gt; Deep throat the beast." tags="final" position="2684,1622" size="100,100">$roomname[The Miggwitch]

With little concern for the beast&#39;s size you push forwards, even reaching up to grip at its shaft encouragingly further down its length, of which there&#39;s plenty left. With a jarring hunch of its strong, bony hips your throat blossoms abruptly with the choking fatness, causing you to gag violently. The spasming only serves to provide the beast more pleasure as your gullet takes the place of any other clenching orifice for the time being. Still more fluids spill and slop from its tip, a thick and slimy sensation you can feel sliding deep down your throat, with a tingling numbness swiftly following.

Also sliding down your throat is the miggwitch&#39;s wide tip which first creates a prominent bulge beneath your jaws, then down your neck, at the base of it, then finally disappearing down into your chest altogether as the creature humps as deep as it can. Your lips are little more than a numbed hole its midshaft throbs between as the beast merrily humps its way well past your throat, pumping its precum straight into your stomach itself. 

It&#39;s quite strange to feel numbness through the majority of your upper tract, but the constant pressure and sense of throbbing leaves little doubt of the details of the miggwitch&#39;s dick ravaging your face. 

The creature jerks back abruptly, tugging you with it as the bulbous tip of its shaft seems to catch deep down your throat. You gag and choke anew with a slimy flood of drooled fluids oozing down from your bottom lip. Even missing the finer sensations you can feel a distinct swelling - a **fullness** deep in your stomach as the creature&#39;s motions set into an even jerkier back and forth humping.


[[&gt; Brace yourself.]]</tw-passagedata><tw-passagedata pid="88" name="&gt; Stroke it off and suck the tip." tags="final" position="2904,1526" size="100,100">$roomname[The Miggwitch]

Deciding that the girth and length of the creature&#39;s shaft look to be a bit much, you opt to instead keep your lips locked just around the broad tip of the creature&#39;s bulbous glans. Lifting your hands up to grab at its flesh you work to make up the difference, squeezing at the slimy, pale blue flesh. 

You grip its cock with two hands - which the miggwitch merrily begins to thrust against. Its fat tip batters against the back of your throat but doesn&#39;t manage to push beyond, leaving you to feel every throb and spasm of its broad tip as it fattens subtly to the creature&#39;s pulse. Your jaws ache with what&#39;s filling your mouth, but thankfully the sensation is more one of **pressure** than anything else due to the anesthetic effect of the creature&#39;s fluids.

It&#39;s still quite a mouthful as you noisily work to suck off the creature,  finding it increasingly hard to keep your suction around its tip secure without the normal tactile feedback you have in your mouth. The result is a great deal of sloppy, schlurping sounds of lost suction. There&#39;s no doubt anyone in the vicinity is well aware of you sucking off a miggwitch out in the streets, and in the corner of your vision you catch sight of a few passers by squeezing at parts of themselves indulgently at the view.


[[&gt; Continue sucking off the miggwitch.]]</tw-passagedata><tw-passagedata pid="89" name="&gt; Brace yourself." tags="final" position="2684,1758" size="100,100">$roomname[The Miggwitch]

You reach up to grab at the creature&#39;s underside to steady yourself as your head and upper body are jostled back and forth with its motions, and you do your duty by pushing your mouth along with it as best as you can. For the most part, however, you&#39;re just along for the ride as the miggwitch&#39;s bulbous tip swells within your stomach, already sloshing with its viscous, numbing fluids. Every few seconds another slop (text-style: &quot;smear&quot;)[pumps] forth in a sickening volume, such that you have a distinct paunch before the creature has even begun to unload proper.

None the less you work towards that very goal - though the miggwitch&#39;s own motions do most the work - pumping itself back and forth deep down your throat until, after but a few short, jerky moments, a guttural $npc[&quot;HRONK!&quot;] accompanies the creature&#39;s entire body going tense. 

Its muscles spasm and clench as its short, stubby tail, though unseen, pumps downwards dramatically. The already swollen girth of its tip within your stomach swells wider still as the entire length within you, from lips to gut, distinctly tenses, tugging upwards... And then all but explodes with a gurgled pouring of fluids that audibly blasts into your stomach, rounding it fatter in an instant.

A groan from outside your field of view suggests the driver might be enjoying the sight in some fashion or another, but you&#39;ve hardly the ability to assess that further as the miggwitch unloads down your throat. The beast jerks against your face every couple seconds, each outpouring of fluids preceded by a dramatic tensing of its body before the spasmed release of more of its lust. Your midsection swells and rounds further and fatter while the numbing sensation grows more distinct.


[[&gt; Finish up.]]</tw-passagedata><tw-passagedata pid="90" name="&gt; Finish up." tags="final" position="2713,1894" size="100,100">$roomname[The Miggwitch]

The beast&#39;s orgasm lasts for the better part of a minute, each throb of fluids several seconds apart, as if the creature itself is beleaguered by its own release. Slowly, shot after shot, the creature&#39;s spasming becomes less intense, its surges of flood less dramatic, its sounds of pleasure quieter. Before even fully finishing the creature jerks backwards several times, the swollen tip of its shaft tugging urgently at the base of your throat. Then, with a slimy *schlrrp!* it loses just enough swell to pull halfway back up your throat - where it lodges.

You gag around the fatness of it as the miggwitch tenses up to fire another surge of fluids that you can feel gurgling down the latter part of your neck, and then with another yank of its hips the tip finds its way back up your throat to slip into your mouth proper. It fills your jaws, pushing at your cheeks with aching fatness, though you notice the flesh is a bit more malleable even if still swollen. With one final tug the creature&#39;s dick pops from your lips with a short flood of slimy, stringy fluids, leaving its shaft to sag to the ground, swaying and drooling. You still feel utterly numbed from your lips well down past your throat, which you hack and cough to try to clear of the substantial, slimy fluids pumped within.

$npc[&quot;A&#39;right, s&#39;nuff fuckin&#39; around, let&#39;s get goin&#39;.&quot;]


[[&gt; &quot;Hhkay hmhh rhrdy thh ghh.&quot;-&gt;miggwitch spent]]</tw-passagedata><tw-passagedata pid="91" name="&gt; Continue sucking off the miggwitch." tags="final" position="2879,1667" size="100,100">$roomname[The Miggwitch]

With two hands squeezing and gripping at the miggwitch&#39;s cock and the beast merrily pumping away at your face, the entire scene becomes a sloppy, noisy mess. Slick sounds mingle with your own gasps and grunts for air, all joined by the migg&#39;s guttural grunts and flattering $npc[&quot;HRNK&quot;] noises as its pleasure builds to a crescendo.

The girth of the bulbous head choking your jaws becomes more and more pronounced until soon, even numbed, you can feel every spasm and tense of the creature&#39;s muscles. To your surprise, however, there&#39;s shockingly little forewarning before the beast abruptly pumps forwards with a bruising thrust against your throat which then, a split-second later, can be felt stretching around an abrupt outpouring of (text-style: &quot;smear&quot;)[fluids.] From above comes another groaned $npc[&quot;HhHHNNRRRONnnKKK&quot;], drowning out the wet and rhythmic (text-style: &quot;blur&quot;)[*&quot;glgh, shhphstt, gghlkk!&quot;*] noises of the miggwitch unloading against your throat.

You feel every throb and spasm of its swollen tip within your jaws by merit of the pressure and sensation of it moving, though strangely missing all the tactile sensation. Despite that, it&#39;s quite easy to feel your throat stretch as you&#39;re forced to gulp and guzzle down choking surges of fluids. Each one comes several seconds after the last, the beast seemingly having to recover from the previous one and prepare for the next. Within the course of but a half dozen you&#39;re feeling quite full and heavier in the gut.


[[&gt; Swallow as much as you can.]]</tw-passagedata><tw-passagedata pid="92" name="&gt; Swallow as much as you can." tags="final" position="2888,1791" size="100,100">$roomname[The Miggwitch]

You don&#39;t have too much choice in the matter anyway what with the miggwitch&#39;s tip swollen so fat within your jaws. It&#39;d be difficult, if not impossible, to pry your jaws free. Despite your best attempts to gulp and swallow, there are ample slops of fluids that sputter from the corners of your lips and drool down your chin with each new spasm of the creature&#39;s shaft and subsequent *blast* of its jizz.

It continues for several moments with you essentially stuck in place, squeezing and gripping the shaft lodged between your lips and doing your best to swallow down as much as possible. The beast eagerly grinds at the back of your throat to help assure most of its release remains within the orifice around its cock. Your gut grows all the more full and sloshing with miggwitch cum before the creature finally begins to relent, the rigid fatness of its bulbous tip giving way to a more malleable one. 

Finally, you manage to pull back and strain your jaws enough to (text-style: &quot;rumble&quot;)[*POP*] free with a gasp - as well as an immediate mouthful of fluids that splatter to the ground below.

The miggwitch&#39;s cock juts forth beneath it, still quite hard with the fatly swollen glans you were just sucking on glistening in the air. It bobs upwards as it tenses, spraying out several more ample streams of cum over you, the street beneath it, and its own belly.

$npc[&quot;I&#39;ve seen better but I guess this way y&#39;get to keep the feeling in yer upper torso, eh?&quot;,] the driver remarks with a smirk. $npc[&quot;Good enough, anyways, quit standin&#39; there like you need another dick in yer mouth an&#39; get in!&quot;]


[[&gt; &quot;Hhkay, hhkay. Dhnh&#39;t ghtt yhrr phnhts hnn hhah thhsst.&quot;-&gt;miggwitch spent]]</tw-passagedata><tw-passagedata pid="93" name="&gt; Try to relax a bit." tags="final" position="3158,1434" size="100,100">$roomname[The Miggwitch]

Before the miggwitch can even penetrate, you realize much of the direct tactile sensation is already lost to you. You still feel a remarkable sensation of (text-style: &quot;smear&quot;)[pressure] though that grows with each jerky, sharp jab from behind. And then, just as abruptly, a feeling of abrupt **fullness** makes your entire body go tense, as a $npc[&quot;HRRHUNNKK!&quot;] from above suggests the creature just managed to cram its tip into your ass. There&#39;s a distinct sensation of movement and pressure deep within your gut, and it begins to slam back and forth with a jarring pace.

The miggwitch hunches down atop you, its stilt-legs clacking against the road eagerly with its monstrously saggy nuts swaying and bouncing around from its energetic thrusting. The creature&#39;s grunted, dumb sounding calls never cease as it works to pound away at your ass, which you&#39;ve lost almost all the feeling in - even your upper legs and your own loins are numbed, resulting in a rather strange set of sensations for being fucked!

Your body rocks back and forth with the beast&#39;s motions as you feel the fullness in your guts growing much more prominent. Even without every little tactile sensation you can feel the *weight* and pressure (text-style: &quot;expand&quot;)[growing], pushing at your stomach. Before long you realize that your belly has rounded out a bit, a result of the fluids you can feel sputtering into your guts - as well as *hear* by merit of each muffled &#39;sshphhlt!&#39; gurgling into you.


[[&gt; Try to clench and get the miggwitch off.]]</tw-passagedata><tw-passagedata pid="94" name="&gt; Try to clench and get the miggwitch off." tags="final" position="3153,1574" size="100,100">$roomname[The Miggwitch]

You can&#39;t actually tell if clenching does anything at all, or if you even //can// at this point, but the beast either doesn&#39;t mind or doesn&#39;t care, seemingly doing plenty well of its own accord anyhow. 

The miggwitch&#39;s thrusting grows more erratic as time passes, the animal swiftly seeking release with no real intent to drag things out or romance its partner, considering. There&#39;s but a moment more of body-jostling thrusting before the noises issuing from the beast above grow almost deafening and you feel it thrust, pause, and tense...

A heavy grunt of breath from out of your field of view suggests the driver is enjoying the show, but before you can turn to look or consider that further there comes a sensation comparable to a light punch in the gut. A jarring thrust coupled with a sudden pouring of fluids hits you from within as the beast utterly succumbs to the ecstasy of its release, whuffing heavy breaths of delight and &quot;hrrronk&quot;-ing sounds of pleasure for all to hear. 

Every few seconds you can feel the already swollen, bulbous tip of the miggwitch&#39;s shaft tug against your insides before firing off a sustained stream of thick, creamy spunk. The same fluid which is splattering noisily down against the street below, sloppily backwashing in heavy sheets with each subsequent blast poured into you.

Your gut rounds out fatter and more full as the numb sensation spreads even further still, midway up your torso and down into your thighs, though seemingly no further, thankfully. You press your hands to the miggwitch&#39;s forelegs from behind to support yourself and ride out its orgasm, which continues unabated for several long, sloppy, &quot;HRONK&quot;-filled chimes.


[[&gt; Wait it out.]]</tw-passagedata><tw-passagedata pid="95" name="&gt; Wait it out." tags="final" position="3148,1729" size="100,100">$roomname[The Miggwitch]

With little to do but endure the duration of the beast&#39;s release you remain awkwardly hunched over in place as the animal unloads its immensely saggy nuts thoroughly into your ass. Slowly, the jerky thrusts and spasming clenches that accompany the miggwitch&#39;s orgasm become less intense and further apart until it gives a sharp (text-style: &quot;sway&quot;)[tug] of its hips. 

You feel your body jerked backwards slightly as the creature&#39;s still-swollen tip sloppily pops from your ass. If not for the fluids&#39; numbing effect, you&#39;d surely be very sore - and although it&#39;s hard to tell as a result, the literal stream of thick, syrupy miggwitch jizz spilling down behind you in a steady, drooling flow suggests the creature has loosened you up quite nicely.

As you move to stand the creature shifts and tilts its head down to nuzzle against you as if in affection, resulting in the sudden appearance of the driver&#39;s crop from nearby to smack the beast&#39;s tender nuts directly. 

$npc[&quot;&#39;Ey! N&#39;unna that shit, don&#39;t get all soft on the customers, ya dumb fuck!&quot;] the driver rolls his eyes. $npc[&quot;Y&#39;quite finished, migg-lover? I s&#39;pose you&#39;ve earned your ride.&quot;]


[[&gt; Pat the beast&#39;s flank and nod to the driver.-&gt;miggwitch spent]]</tw-passagedata><tw-passagedata pid="96" name="&gt; Arch your back and push into the creature&#39;s thrusts." tags="final" position="3376,1481" size="100,100">$roomname[The Miggwitch]

The large animal is more than strong enough to have its way, but your efforts simply help things along all the quicker as the unmistakable sensation of the miggwitch&#39;s broad, bulbous glans spreads your cunt achingly taut, then finally pops up into the slick warmth of your body fully. 

The beast lets out several more grunts and heavy whuffs from its broad nostrils, surely all too pleased with the slick sex of a creature that isn&#39;t as cruelly designed as that of the female of its own species.

You can feel every broad, plump detail of the miggwitch&#39;s bulb-like tip as it swells out fatter within your sex, quickly growing more pronouncedly plump. But that sensation rapidly begins to fade and is replaced by a distinct sensation of pressure... of (text-style: &quot;smear&quot;)[fullness.] 

One that slams forwards in the form of a distinct bulge that pushes up along your groin and stomach from within. The animal&#39;s breaths come in heavy, eager pants into the air as it begins to pound back and forth, rocking your body sharply with its harsh, rapid motions.

The air fills with the sounds of the mating - in particular the slick, wet noises of the miggwitch thrusting back and forth inside you. Ample fluids that the miggwitch is pumping into you steadily leak back out, the contour of its own glans causing a great deal of its fluids to both plunge deeper and slop out behind its girth. The resulting waterfall of slimy, mostly-clear fluids slop noisily against the street below as the miggwitch thrusts, and the show draws more than a few curious onlookers at a distance. One particular pair of insiders whispers to one another, pointing with a snicker.


[[&gt; Continue being a miggwitch mount.]]</tw-passagedata><tw-passagedata pid="97" name="&gt; Continue being a miggwitch mount." tags="final" position="3376,1629" size="100,100">$roomname[The Miggwitch]

You reach up to brace yourself and grab onto the harness adorning the miggwitch&#39;s body, which has suspiciously well-placed handles on either side of its chest for your current position. You almost don&#39;t need to support yourself with your legs at all with the creature&#39;s cock skewered up into your cunt and your arms gripping at its halter, letting your body sway a bit back and forth, providing still more stimulation for the beast atop you pounding away.

The entire area is a cacophny of sloppy thrusting, heavy breathing, and stupid-sounded $npc[&quot;HRONK&quot;] noises, all of which crescendo quite swiftly as the miggwitch&#39;s thrusts become more jerky and erratic, shorter and rougher. If not for the numbness you&#39;d surely be feeling a bit tender from the ruthless pounding - and may well still after it wears off - but at present all you can feel is the intense, overwhelming sensation of (text-style: &quot;expand&quot;)[fullness], and the **pressure** of the beast&#39;s large shaft pounding back and forth over and over, faster and harder.

Then, quite suddenly, the miggwitch (text-style: &quot;sway&quot;)[slams] home as deep as it can and stops. Its fat cock throbs wild and quickly, though you can&#39;t feel a single pulse. The large, stringy creature quivers, tensing up, then with a final $npc[&quot;HNNKKHRRKK!&quot;] that gives way to a lingering groan, the beast peaks. In an absolute instant you feel a distinct punch of sensation as fluids blast forth with pressurized force, so much so you can feel it bloating your insides despite the numbness. 

It tapers off as the beast relaxes a bit... then goes utterly tense again and repeats the gooey injection several seconds later. Its orgasm continues like this in a long series of strong, sustained blasts that seem to exhaust the beast itself as it slumps between each, then seizes back up to continue unloading its immense, sagging nuts.


[[&gt; Ride it out.]]</tw-passagedata><tw-passagedata pid="98" name="&gt; Ride it out." tags="final" position="3376,1781" size="100,100">$roomname[The Miggwitch]

The miggwitch groans and whuffs for several chimes as it continues to unload, the issuance of fluids positively absurd even for a creature of its size. Easily gallons slop from between your thighs to the streets below, and just as much surely gurgles and churns within you, swelling you from within. The bulbous fatness of the beast&#39;s tip is lost within the slimy swamp of miggwitch jizz you&#39;re filled with, the viscous heat of it distinct as it oozes down your thighs and legs, leaving still more numbness.

Towards the end of its lengthy unloading the miggwitch&#39;s sounds become softer and more affectionate, the beast seeming to calm substantially from its nervous, jittery demeanor in the wake of its orgasm. As its flesh softens a bit it suddenly pops from your slopped, loosened cunt with a wet burst of fluids, its own excessive release forcing its shaft free a bit prematurely and leaving the last of its orgasm to pour out over the streets in sustained blasts for a few dozen shots.

Shakily releasing the halter you scoot to the side to stand as gravity goads still more of the excessive fluids pumped into you to pour forth, utterly glazing the space between your legs all the way to the ground. The driver grins, clearly having been watching the entire time. 

$npc[&quot;&#39;Ey, s&#39;not often a migg gets a cunt that ain&#39;t fulla stings, aren&#39;t you a kind one?&quot;] he sneers. It&#39;s hard to say if it&#39;s a genuine compliment or an underhanded one.


[[&gt; Straighten yourself up a bit.-&gt;miggwitch spent]]</tw-passagedata><tw-passagedata pid="99" name="ravelsuck1" tags="final" position="9918,3547" size="100,100">$roomname[The Carriage - $morphTitle]

The ravel leans over, pink and blue-tinged saliva drooling from the edges of his fanged beak. The manic look remains full and present upon his avian features and one might begin to question their own sanity in making such a request of $morphName. $npcM[&quot;Ooh, it wishes to let Sweetbeak taste its flavor? Will it be a sweet treat to taste?&quot;] he wonders aloud. The bird&#39;s size and build means he simply has to lean forwards to get his drooling beak nearer to your loins. One of his hands slips between your legs to roughly fondle and assess your loins, while the other grabs at the stem of the lollipop he&#39;s most recently begun working on, plucking it from his beak with a wet sound, holding it nearby and at the ready.(if:$suckercrown)[

With the ravel hunched forwards set to begin his task you have a considerable opportunity to admire the variety of lollipops jutting out from the disheveled feathers all about the top of his head where he stuck them.](set: $morphName to &quot;Sweetbeak&quot;)

His slimy tongue writhes within his spreading beak, his humid breath washing over your loins. You&#39;re given a clear view into the gaping craw of the avian creature - a massive, glistening gullet of meaty hues of varied blue. His color-tinged saliva pools against his pillowy tongue and also at the back of his mouth as the bird gulps visibly. His throat rippling as the ample muscles and the length of his tongue writhe and shift in an inviting, if not threatening fashion.


[[&gt; Get ready.-&gt;ravelsuck2]]</tw-passagedata><tw-passagedata pid="100" name="morphoriawindow2" tags="final" position="10170,3689" size="100,100">$roomname[The Carriage - The Window]

Barely even passed the carriage you&#39;re riding in, however, the scarab rider takes an unintended shift in direction and careens directly towards the side of a broad, stout building. You hear their startled shriek and can only watch as they throw up their arms, body shifting in a desperate attempt to dive from the scarab. Unfortunately, they&#39;re held firm by the enchantment that dutifully prevents accidental dismounts.

The result is precisely as you&#39;d expect: a sickening, grisly (text-style: &quot;rumble&quot;)[(color: red)[*crunch*]] that can be almost *felt* as the rider impacts the building&#39;s side with remarkable force. The scarab itself slams into the building and compresses impossibly before it explodes into countless pieces of chitinous shards and ambiguous gore. A bright, multi-colored flash of light accompanies it as its enchantments dissipate, motes traveling off in several directions before fading.

Due to their speed you couldn&#39;t quite place the rider&#39;s species at first and, now, it&#39;s even less possible to tell. Several of their mangled limbs rain down around the area with wet and meaty *thumps*, propelled away from the crash by the explosion, but otherwise there&#39;s hardly more than a glistening, oozing stain as proof they were here moments prior. One of several you can note by glancing around at some of the taller buildings, or lower hanging overpasses.

Across from you, $morphName begins applauding delightedly at the mayhem outside. Mayhaps it only would have been faster if you were headed to the resurrection courts, after all.


[[&gt; Continue gazing out the window.-&gt;morphoriawindow3]]</tw-passagedata><tw-passagedata pid="101" name="morphoriawindow3" tags="final" position="10172,3839" size="100,100">$roomname[The Carriage - The Window]

Rolling past a particularly colorful building you readily notice its bold and eye-catching advertisements and decorations. A striped awning juts forth from the building with several life-sized, nurk-shaped statues out front flanking the door, each one holding up large and rectangular signs advertising the shop&#39;s wares. None look to be made of stone, however, and instead are made of some sort of semi-transparent, almost resin-like material.

One sign lists several confections and other baked goods, making it clear that this shop is some sort of bakery. The other sign advertises customized and personalized cakes, though the excessive use of implicative language immediately makes one question the nature of them.

Through the window you notice some sort of canine outsider who looks oddly comfortable in the city. They wear a fairly unremarkable set of grey robes with several wands strapped around their waist at the ready. You lose sight of them briefly as they step away but soon after the bakery&#39;s door opens to let them pass. You watch them step out into the street carrying a large tray, atop which sits an impressively decorated cake.

It&#39;s easily an arm&#39;s length across and is *perfectly shaped* to look like a petrid dressed in pawn&#39;s attire. So perfect, in fact, that you almost feel like the eyes of the cake stare back at you with a silent plea for help. 

Suddenly, you realize that a sticky beak is right beside your face, gazing out the window beside you.
$npcM[&quot;Oooh, this store is (text-style: &quot;smear&quot;)[***wonderful***],&quot;] your colorful companion trills. $npcM[&quot;It should visit, yes...&quot;] Then $morphName grins at you, wide and yellow eyes fixing on yours. You stiffen for a moment in surprise only for the ravel to draw back with a cackling laugh. He lets you continue watching, unmolested.

By the time you return your gaze to the window you find the bakery just vanishing from sight. You hear shouting further back down the street and catch the briefest glimpse of several pawns yelling and pointing at the canine, cake-bearing outsider, who looks shocked, and then swiftly sprints out of view in a visible panic.


[[&gt; Continue gazing, without $morphName.-&gt;morphoriawindow4]]</tw-passagedata><tw-passagedata pid="102" name="morphoriawindow4" tags="final" position="10170,3990" size="100,100">$roomname[The Carriage - The Window]

A distinct pair of buildings slowly jostle and roll into view as the cart turns several sharp corners before coming to another long straightaway. 

The first building is more misshapen and warped than those immediately around it, which is saying something as you&#39;ve clearly broken through the outskirts of the Morphorian district by now.

A series of bulbous, exaggerated sigils hover in an arch over the building&#39;s door, signifying it to be a toyshop. Within the windows you can see an array of delightfully-made toys of all designs. Miniature toy scarabs, plush versions of various species, little sculptures of miggwitches and more - each one a treasure in its own regard. There even seems to be some sort of Spire-inspired playset as the proud centerpiece of one of the building&#39;s windows. The subtle yet visible imperfections of some of the toys suggest they might actually be hand crafted, rather than created by (text-style: &quot;sway&quot;)[*other*] means.

Right next to the toyshop is a building that exudes a more affluent air, with two intimidating yet colorfully-dressed guards standing out front. One appears to be part krudge with a slightly shorter height and slimmer stature, while the other is clearly a petrid. A small line leans out the door, several citizens waiting their turn to enter.

A curt handful of haughty, sharp sigils over the door signify the building to be an art gallery. Proudly displayed through the exceptionally tall, vertical windows at the front are a series of sculptures of varying materials. Standing next to one is a lehlt wearing round spectacles and dressed in a colorful patchwork outfit that&#39;s splattered with stains of paint and other materials likely of their craft. They gesture at several parts of one sculpture in particular with a proud stance - a particularly shapely scaled outsider whose pleasing form draws the eye as much as their horrified expression might turn it away.


[[&gt; Continue staring.-&gt;morphoriawindow5]]</tw-passagedata><tw-passagedata pid="103" name="candy1" tags="final" position="8895,3136" size="100,100">$roomname[The Carriage - $morphTitle]

You somehow conclude accepting candy from this stranger is a wise idea. The ravel laughs wildly, and then nods with much enthusiasm.

$npcM[&quot;Of course, of course! Sweetbeak **loves** to share,&quot;] he says, scaly hands frantically rustling several treats from a bag while his other taloned claw gesticulates wildly. His expression lights up as he withdraws his hand from the bag and fans out his offering - three sticky-looking candies, a (text-colour:blue)[blue] and slightly bumpy lollipop, a (text-colour:lime)[green] gummy candy shaped like a little oggorus, and a (text-colour:magenta)[pink] ball on a stick that looks like it might be pfoff that&#39;s been candied.

They all look a little bit moist and gooey. He courteously plucks a small feather from the green one, then blows on it with a big yet somehow unsettling smile. 

$npcM[&quot;Which candy would it like? Sweetbeak has (text-style: &quot;smear&quot;)[**many**] flavors...&quot;](set: $morphName to &quot;Sweetbeak&quot;)


(text-colour:blue)[[[&gt; The lollipop.-&gt;sagberry1]]]
(text-colour:lime)[[[&gt; The oggorus gummy.-&gt;hornsquat1]]]
(text-colour:magenta)[[[&gt; The pfoff on a stick. &#96;(cw: soft-ish/food vore)&#96;-&gt;pfoff1]]]
[[&gt; Err... actually, nevermind.-&gt;morphwindownocandy]]</tw-passagedata><tw-passagedata pid="104" name="suckravel1" tags="final" position="9748,3476" size="100,100">$roomname[The Carriage - $morphTitle]

The ravel giggles strangely, completely unfazed by your bold and forward inquiry. The sizable avian leans back in his seat, eyeing you intently. He pauses sucking over the lollipop in his beak and plucks it free, reaching down to smear its gooey, saliva-slopped tip over the rim of his sheath, leaving a syrupy, candy-hued residue behind. 

$npcM[&quot;It wishes to taste Sweetbeak&#39;s flavor? Sweetbeak is (text-style: &quot;smear&quot;)[**always**] happy to share,&quot;] he says, sheath stirring as he lifts the lollipop back to his beak to resume sucking and mouthing over it. Colorful drool oozes down along the lower half of his beak, creating an extra sheen over the otherwise hard, dull surface, strands dribbling down to splat over his belly feathers, glazing them carelessly.(if:$suckercrown)[

The numerous suckers stuck into his plumage at all angles about his head bob this way and that as he regards you excitedly with the prospect of being sucked off.](set: $morphName to &quot;Sweetbeak&quot;)

The ravel&#39;s sheath bulges dramatically, his bulky package swelling fatter around the stirring contents nestled, perhaps even crowded, within.


[[&gt; Slide forward and begin tonguing his sheath.-&gt;suckravel2]]</tw-passagedata><tw-passagedata pid="105" name="sagberry1" tags="final" position="8620,3287" size="100,100">$roomname[The Carriage - The Sweets]

You point to the (text-colour:blue)[blue] lollipop, causing the strange ravel to nod enthusiastically with a jittery giggle as he hands it to you.

$npcM[&quot;Kahah, good choice!&quot;] he all but screams at you in what seems to be genuine delight, despite your proximity. He nearly shoves the stick into your hand, before sitting back to lick at another of his own lollipops.

You inspect the treat for a moment, peering at its glossy, almost gumball-like surface. You give it a testing lick. It doesn&#39;t immediately kill you, so you reason that it must be safe enough. You slather your tongue across it several more times to take in the flavor, then push it into your mouth properly. It&#39;s subtly tart, but also sweet with a hint of an almost musky aftertaste. *Sagberry*, most likely. As the flavor suffuses your senses a thought stirs to mind of a calm knoll out in the abyss where one might comfortably sit undisturbed.(click: &quot;sagberry&quot;)[(show: ?1)]|1)[
(color: grey)[*Sagberry... a pink and purple berry that grows in clusters, hanging from startlingly blue branches. It&#39;s very popular in drinks for its sweet yet musky flavor.*]]


[[&gt; Continue savoring the treat.-&gt;sagberry2]]</tw-passagedata><tw-passagedata pid="106" name="suckravel2" tags="final" position="9742,3655" size="100,100">$roomname[The Carriage - $morphTitle]

You scoot forth from your seat and onto the floor of the carriage to get into a proper position before the large, feathered creature. Given his size there&#39;s only barely enough room for you, though he splays his legs wider apart to try to give you more. You bring your mouth right in close to his stirring package, the fleshy folds of his glistening sheath easier to admire at this range. The soft, leathery wrinkles of flesh visibly spread and are pushed taut as his hardening cock grows more rigid with the ravel&#39;s excitement. Before his cock can be seen, however, you boldly dig your tongue into the fleshy folds, smearing it along the musky yet somehow sugary confines and getting a heavy taste of the syrupy residue he smeared thereabouts only a moment ago. (if:$suckercrown)[

Atop his head the many stems of lollipops jutting into the air wobble as he tilts his head back in pleasure, giving a croaked groan from somewhere deep in his gullet.]

The tang of ravel is definitely present as you slurp and dig your tongue about, but $morphName&#39;s sheath is thoroughly *infused* with sweetness as well. The heady musk of bird coats your tastebuds, mixing into a salty-sweet blend of sex and candy. You&#39;re not able to explore him for long though before the ravel&#39;s bulbous, bloated cockhead starts to push fully forth, spreading those ample folds from within and forcing your tongue back. You can feel the subtle point at the very tip of his bulbous dickhead smear against your tongue, the contact eliciting a slimy pulse of precum from the ravel which slops forth against your tastebuds. You immediately realize the taste of his fluids are anything but normal, instead finding them to be the true source of the almost *nauseatingly* sweet flavor that vies with the more natural taste of cock.

You pull back slightly, admiring the fat bulge of his dickhead just pushing at the opening of his sheath from within, peeking forth.


[[&gt; Fit your mouth on the tip.-&gt;suckravel3]]</tw-passagedata><tw-passagedata pid="107" name="suckravel3" tags="final" position="9739,3792" size="100,100">$roomname[The Carriage - $morphTitle]

You lean back in to fit your mouth to the head of his flesh, which is much firmer and has a different texture than his sheath. The salty tang of dick is heavier upon it here, the twin flavors of musky and sweet fighting for dominance on your tastebuds. Thankfully, or perhaps not, several more sloppy streams of prejizz tip the balance in favor of candied sweetness to the point that it almost becomes sickening.

As his dick grows fatter and harder you&#39;re forced to pull back in order to keep making out with the tip of the ravel&#39;s shaft. The distinctly bulbous shape is plenty easy to admire from your present perspective, a slight point grinding between your lips that fattens swiftly out to two subtle bulges that have already gotten fatter. The way they already swell suggests they might do so much more dramatically in time. $npcM[&quot;It should mind the tip,&quot;] the bird muses, pausing midsentence to pump the lollipop back and forth within the curled grasp of his tongue several times. $npcM[&quot;It&#39;s a bit of a *jawbreaker*.&quot;]

You pull back again to admire the bird&#39;s shaft in its mostly full-mast state. It bobs forth from his loins, thick and grayish-purple in hue as it sags towards the ground, practically *pissing* precum over your belly. The glans bounces upwards as his muscles flex, twitching right in front of your snout, then slumps back down, heavy and plump.

The bird suddenly tenses up a bit as he laughs riotously, causing his dick to bounce around in an exaggerated fashion, still spurting precum in long, slimy-sweet arcs as he does. Several of them slap across your face quite carelessly, lacing your features in sweet, musky-slick fluids several times over. $npcM[&quot;Sssuuuuck it,&quot;] he says, a little firmly.(if:$suckercrown)[

He nods his head sharply several times to encourage you along after making his suggestion, the treats glued into various parts of his plumage bouncing anew with renewed vigor. One of them is jostled free, falling off to the side to splut onto the seat beside him. The bird freezes, turning his head slowly to the side to stare at it.. then reaches down to pluck it from the seat, holding it between two talons as his head turns back to stare at you once more. As you set to task fellating him he slowly mashes the sucker back into the ruffle of his head plumage, where it belongs.]


[[&gt; Deepthroat him.-&gt;suckravel4]]</tw-passagedata><tw-passagedata pid="108" name="suckravel4" tags="final" position="9745,3926" size="100,100">$roomname[The Carriage - $morphTitle]

You begin working upon the bird&#39;s shaft in earnest, bringing your mouth to his fat tip once more and then engulfing it. His legs kick up slightly on either side of you as he gives a particularly lengthy, slurping suck of his lollipop, not having bothered to cease sucking on it even while you suck on him. The ravel helpfully pumps his hips forwards against the seat&#39;s edge, battering his tip against your throat almost immediately on account of his size, but you boldly push forwards to welcome him deeper still into your mouth.

Precum all but floods your jaws by this point, his shaft flexing upwards every few seconds to surge forth another sputtering stream of sweet slop with such pressure that it foams slightly at the back of your throat. The bird stares down at you unsettlingly even as he rocks his hips to help fuck your face, battering your gullet time and time again. You push forwards against his motions until the resistance gives way, just barely, and a distinct lump slips down your throat with a reflexive gag on your part! The bird cackles anew, though the sound is joined now by crooned groans and gurgled caws of delight as his fat, sagging pair tighten, tugging upwards sharply several times.

He doesn&#39;t bother with trying to get his cock deeper, seemingly content with your throat choking about the fat, bulbous shape of his cocktip, which has already begun to fatten rather remarkably. The added fatness grinding and pulsing in your gullet forces more reflexive gags and gulps, and thus more pleasure for the bird, who keeps rocking his hips in an unpredictable fashion so as to better elicit such reactions from you. Saliva pools in your jaws around his shaft, mingling with the bird&#39;s sweet, slimy pre.


[[&gt; Continue.-&gt;suckravel5]]</tw-passagedata><tw-passagedata pid="109" name="suckravel5" tags="final" position="9745,4054" size="100,100">$roomname[The Carriage - $morphTitle]

$npcM[&quot;Deep..! Kraah.. Breath!&quot;] the bird grunts sharply, each word punctuated afterwards with a jarring *rock* of his hips towards your face and a noisy bout of slurping at his lollipop. He continues working it even as his orgasm nears, as is quite evident by the swelling *ache* in your throat. 

Any attempt to pull back is met with a forwards pump of the bird&#39;s hips, effectively pinning you between the seat behind you and his cock, with no escape. Groaning, $morphName seems to be teetering on the very edge... or else just *that* delighted in the flavor of the lollipop he&#39;s been working on this entire time.

But then his breathing becomes utterly ragged as he leans forwards slightly, bringing his massive, beaked visage closer. His free talon reaches down and grabs at your throat roughly, groping around, finding the spot just above where his knot is buried. Your eyes water from the rough squeezing, and you feel like you might faint if he doesn&#39;t stop. But then his digits *dig in*, squeezing his flesh *through your throat*. At that exact moment his eyes finally break contact with yours and flutter upwards, his entire body tensing and shuddering and then *freezing*.

... and then, all at once, his cock **flexes** mightily in your throat with such strength that you nearly feel like it will turn your throat inside out. He shudders as it jolts again, his cockhead bulging *wider*, then (text-style: &quot;expand&quot;)[*wider*...] And then, finally, with the third throb you&#39;re treated to a **torrent** of syrupy thick fluids being forcibly *pumped* down your throat for what feels like a solid several seconds. Body slumping as his legs kick at the air on either side of you, $morphName shouts out an avian caw of ecstasy as he ***cums***. 

As soon as his next throat-gaping *splurt* floods your gullet, however, the insider&#39;s moans are cut off by a wild and sloppy slurping of his lollipop. They resume as abruptly as they were cut off, then morph into a cackle! That sound too is cut short by another gasp and groan as his dick flexes dramatically once more to pump out still more of his orgasm.

You&#39;ve little choice but to remain where you are, throat tied painfully to the ravel&#39;s dick as if it were any other orifice while the immense bird writhes in the pleasured throes of orgasm, releasing stream after stream of thick fluids straight down your throat. Even despite it bypassing your tastebuds, the few slops that backflow up your gullet taste *even more* sweet than his prejizz, thick and sugary like caramel.


[[&gt; Wait for his knot to soften.-&gt;suckravel6]]</tw-passagedata><tw-passagedata pid="110" name="ravelsuck2" tags="final" position="9907,3697" size="100,100">$roomname[The Carriage - $morphTitle]

The bird&#39;s long tongue slithers forth and extends well past the ends of his beak. He spends several moments investigating your assets with his tongue, slurping and sampling your most sensitive regions with all the dextrous fervor he applied so recently to his lollipops. In mere moments you find yourself growing hard, squirming beneath his intense tasting. 

His saliva feels almost hot to the touch against your sensitive flesh and the thickness of it is surprising, smearing along your shaft with the goopy consistency of syrup. It layers on over your shaft again and again, heated and viscous, and as the bird&#39;s tongue withdraws back and then slathers across your dick once more you can&#39;t help but groan. His yellow eyes narrow delightedly as he works, as though $morphName knows that he would hardly even need to employ the insides of his beak to get you off. 

But he does so, anyway. The ravel&#39;s immense beak closes partially, fangs dangerously framing either side of your tender cockmeat. His head bobs back and forth a few times but most of the action is from the ongoing motions of the ravel&#39;s fat, muscular tongue. 

The length of the insider&#39;s oral appendage winds partially around your flesh, uncoiling and slathering up and down and back and forth. Wet, sloppy squelches sound out as he bathes your dick in saliva, forcing your jolting spire to start throbbing as you feel your pleasure mount. *He really knows how to use his tongue!* 

Then he pauses, pulls back and up with your shaft twitching in front of his beak&#39;s tip, and leaves you briefly wondering if something is amiss. The talon holding his lollipop stuffs it into his beak and slathers the sugary candy all over his tongue again as he groans in delight at the taste of it, evidently unable to do without long enough to get you all the way off... or just teasing you with the delay. But before long he wetly slurps the candy from the twined coils of his tongue and sinks his beak back down over your flesh just as before in one fluid motion, nestling your sensitive crown into the back of his gullet.

(if:$suckercrown)[Each bob of the strange bird&#39;s large head causes the suckers stuck all about his plumage to bounce and bob rather exaggeratedly, a few of them even shaking lose to clatter and clunk onto the seat and floor of the carriage though he pays them little mind for now.]


[[&gt; Grab his head feathers.-&gt;ravelsuck3]]</tw-passagedata><tw-passagedata pid="111" name="ravelsuck3" tags="final" position="9899,3818" size="100,100">$roomname[The Carriage - $morphTitle]

You reach down to clutch fistfuls of feathers on either side of the bird&#39;s head, causing the creature to stop dead mid-motion. His yellow eyes widen and glance upwards dangerously for a few long seconds, as if considering his next move, all with your vulnerable flesh tucked neatly into his salivating, *heavily* fanged craw.

...

Then without any further indication the bird resumes his sloppy slurping and suckling of your cock. His partially parted beak makes for a noisy affair, the inside of the carriage positively filled with *slurp-schlup-schlock* sounds over and over again. A literal puddle of the bird&#39;s colored saliva drools down over your dick to pool on the floor of the carriage beneath, while the pleasure wrapping itself around your cock starts working you to the point that your own precum begins to spurt and pulse into $morphName&#39;s mouth. As your body begins to tense up the ravel shoves forwards until his beak is buried against your groin, no longer bobbing in the slightest.(if:$suckercrown)[ The lollipops stuck in his plumage wobble a bit before going mostly still, the lack of bobbing leaving them jutting forth like a sparse forest of stoic, white obelisks.] 

For several lingering, pleasureless tense breaths you crave the continuation of pleasure but it doesn&#39;t come, the bird entirely still.

Then all at once his tongue suddenly picks up right where his beak left off and then some. With his beak pressed all the way forward he can use the entire length of his long, syrup-slopped tongue to smear, stroke, and coil against your flesh with a rhythm and motion that varies every tick, leaving you *writhing* beneath his mercy!


(text-style: &quot;smear&quot;)[*[[&gt; Cum.-&gt;ravelsuck4]]*]</tw-passagedata><tw-passagedata pid="112" name="ravelsuck4" tags="final" position="9909,3993" size="100,100">$roomname[The Carriage - $morphTitle]

Your body tenses up further and further, stiffening in your seat as you tug at the feathers in your grasp and groan - but it&#39;s completely useless. Sensing you to be close the ravel redoubles his efforts which grow even louder and sloppier as you topple over the edge, that knot of bliss in your prostate abruptly exploding. Thick jets of your cum erupt hard against the back of his throat in powerful jets. 

The ravel&#39;s motions slow down in an effort to match the rhythm of your ogasm, helpfully milking each subsequent, shuddering stream of your release forth into his waiting craw. He gulps a time or two, something you can both hear and feel against your flesh, but lets some of your fluids pool as he abruptly sits up and back, unsheathing your cock from his beak. A visible smear of cum glistens along the rough edge of his beak, but a much larger slosh of your spunk fills the bottom of his beak.

He lets his tongue *bathe* in your cum, his eyes lifting upwards as though in deep thought. He rolls his tastebuds through your fluids as you gasp for breath, coming down from your orgasm, while the bird drums on his knee. Finally he grins a broad, delighted grin, then swallows down the rest of your cum.
$npcM[&quot;Such an interesting taste it has!&quot;] he declares. $npcM[&quot;Sweetbeak approves. ... But it could (text-style: &quot;smear&quot;)[**always**] be sweeter,&quot;] $morphName toothily smirks, his beak parted.

Then he casually resumes sucking on his lollipop once more with a gurgling murmur, using it to tidy up the bits of your cum glistening along the side of his beak. He smears it over the candy and then assaults it with his tongue once more. You can&#39;t imagine it to be a particularly good combination of flavors, but the ravel seems satisfied enough with it.(if:$suckercrown)[ After a few licks, though, $morphName pulls the sucker from his beak and stares at it for a few long breaths, only to reach up to mash it into his plumage along with the others. No sooner has he done this than he takes hold of one of the others, plucking it free to bring it down and stuff *it* into his beak instead.] 

You finally notice that his own cock seems to have thickened and peeked from his greasy sheath, his purpling cock sagging half-hard and bobbing and drooling lazily.


[[&gt; ...-&gt;ravelsuck5]]</tw-passagedata><tw-passagedata pid="113" name="ravelsuck5" tags="final" position="9890,4116" size="100,100">$roomname[The Carriage - $morphTitle]

Before you can do or comment on $morphName&#39;s own cock though, the carriage rocks to a jostling halt. The ravel bounces about in his seat from the stop yet otherwise hardly reacts in the slightest. Without a word he heaves himself into a hunched stand and digs into his bag, plucking a fresh, un-sucked lollipop free. Cock still dangling, he carefully places the fresh lollipop on the seat where he had been sitting, never minding the slight layer of sweetish sweat left behind. 

With a sidelong smirk that tugs at the corners of his beak until it splits into an open cackle, the bird pushes the carriage doors open and hops out into the street. His dick casually sways side to side before him, drooling a faint trail of subtly blue-tinted prejizz in his wake as he wanders off. (if:$suckercrown)[ You watch the bird wander off, his crown of lollipop stems - all pointing off at odd, varied angles - bouncing and bobbing regally with every step.](set: $morphSex to &quot;sucked&quot;)


[[&gt; Depart the carriage.-&gt;morphoriaconclusion]]</tw-passagedata><tw-passagedata pid="114" name="suckravel6" tags="final" position="9739,4177" size="100,100">$roomname[The Carriage - $morphTitle]

The ravel&#39;s orgasm continues for a shocking duration even after his balls slow their emptying down your throat to a syrupy dribble... though it just be that he&#39;s simply *that* pleased with the lollipop in his mouth. He certainly continues working his beak over it and slathering his tongue against it to the point that you&#39;d wonder if candy might be some sort of aphrodisiac to him. If you weren&#39;t feeling faint from the lack of air, anyway.

The carriage shudders to an eventual halt with the ravel still stuck in your throat. From outside you hear the driver call out that you&#39;ve arrived, but $morphName makes no motions to prepare to leave.

Soon a slot between the driver and the carriage interior slides open and Crusty peers inwards. $npc[&quot;We&#39;re here, time to get out, finished or not!&quot;]

Above you, the bird takes on a look of displeasure despite the fact that his cock is still flexing and pumping light sputters of the last of his gooey orgasm down your throat. 

$npcM[&quot;Sweetbeak will *not* be taking... *this*,&quot;] he says, tone none too flattering as he gestures at you with his lollipop and slings saliva across parts of the carriage&#39;s interior, [&quot;with it. The carriage... Can... (text-style: &quot;smear&quot;)[***Wait.***]&quot;] he states.(set: $morphName to &quot;Sweetbeak&quot;)

Though you certainly can&#39;t see what passes between $moprhName and Crusty from your present perspective, you can certainly hear the driver&#39;s immediate hesitation. 

$npc[&quot;.. fine, whatever, just so long as you pay.&quot;]

Satisfied, the ravel slumps back into his seat as if nothing happened, his expression immediately returning to the dreamy look of someone casually dumping their nuts down a stranger&#39;s throat - and doing so while enjoying a favorite treat, which he busily resumes doing as well.(if:$suckercrown)[

He reaches up with his free hand to pluck one of the lollipops stuck into his feathers free and holds it out to you, covered in downy feathers. Without waiting for you to accept or decline he brings it back closer to his beak, gives a light (text-style: &quot;shudder&quot;, &quot;outline&quot;)[foof] of blown air across it (which barely manages to displace even one of the stuck feathers), then stuffs it into his beak without concern.]


[[&gt; ...*Keep* waiting for his knot to soften...-&gt;suckravel7]]</tw-passagedata><tw-passagedata pid="115" name="sagberry2" tags="final" position="8615,3436" size="100,100">$roomname[The Carriage - The Sweets]

You continue mouthing on the end of the lollipop, finding the flavor grows more complex and nuanced the longer you partake of it. The ravel leans closer, his gaze fixed suspiciously upon you. After a moment you feel a subtle, tingling twinge of something *else*, and it causes the ravel to lean closer, grinning beakily in an ever more disturbing fashion. 

$npcM[&quot;A tasty treat, yes? Does it stir something within? Something treasured and forgotten? A *ssooofffttt* secret it hides?&quot;] he cackles exuberantly, oddly emphasizing certain words.

A brief confusion at the ravel&#39;s meaning gives way to a much more jarring jolt, a sharp sensation that begins at the top of your body and rolls its way downwards. In an instant your limbs feel more stiff and difficult to move and your eyes widen of their own accord. Any attempt to open your mouth to cry out or complain is stifled as you find your lips smoothly sealing shut around the treat still held within. The sensation (char-style:(text-style:&quot;fidget&quot;))[crawls] across the nerves of your mouth and tongue like a slow-moving current of electricity. Each spot that it slithers buzzes with the sensation of pinpricks, leaving everywhere that felt the sensation oddly *immovable*.

The ravel&#39;s manic expression is all you can see before you, looming and watching with glee.


[[&gt; Perhaps this was unwise?-&gt;sagberry3]]</tw-passagedata><tw-passagedata pid="116" name="hornsquat1" tags="final" position="8749,3326" size="100,100">$roomname[The Carriage - The Sweets]

You carefully pluck the greenish oggorus gummy from $morphName&#39;s offered triad of treats. He places the other two back in his bag with more care than warranted given their already slightly sloppy state. You hold the gummy you&#39;ve selected for a brief examination before bringing it to your mouth to give it a taste.

You don&#39;t immediately expire, so it surely must be safe *enough* and you delve into the treat properly. The initial flavor is subtle and tastes of hornsquat, barely noticeable, but as your saliva coats the candy it gives way to an abrupt explosion of sweet to the point that your features scrunch. You barely have time to acclimatize to it before the taste reverses to a staggering sourness that threatens to overwhelm you, until the two finally begin to mingle.(click: &quot;hornsquat&quot;)[(show: ?1)]|1)[
(color: grey)[*Hornsquat - a curious fruit that&#39;s black and thorny on the outside and vividly green on the inside, complete with purple seeds. It&#39;s known for its simultaneously sweet and sour flavor... something you can already taste.*]]

You&#39;re left smearing the mixture of sour and sweet about your tongue, exploring the extremes of each and the way they combine.


[[&gt; Pop the entire gummy into your mouth to truly taste the hornsquat.-&gt;hornsquat2]]</tw-passagedata><tw-passagedata pid="117" name="pfoff1" tags="final" position="8896,3363" size="100,100">$roomname[The Carriage - The Sweets]

You decide the ravel&#39;s third offering - the candied pfoff - seems the best choice. It&#39;s a not terribly uncommon treat and grows natively in the city. Naturally sweet, you can only imagine how sugary the soft, silken fibers must be now that they&#39;ve been candied. In this instance it looks like a regular lollipop save that a wispy and airy ball of pfoff sits on the end of a stick rather than a harder candy. How $morphName was keeping it safe in his possession is almost a mystery unto itself. 

You lift the almost weightless treat upwards and take a chunk of it into your mouth with ease, the texture and presence of it almost entirely undetectable within your mouth save for the intense burst of sweet, tangy flavor. The strands tingle subtly as they dissolve almost instantaneously into more intense, confectious flavor.(if: $cunt is true)[

You immediately feel a flush run through your lower belly and focus inside your cunt. You feel a sensitive tingle caress your folds and have to squeeze your legs together a little to avoid any moisture, so intense is the sudden flush of physical arousal.(if: $cock is true)[ And then it hits your *dick*.]](if: $cock is true)[

Your dick starts to feel so sensitive and warm that you can&#39;t help but grow rock-hard in only a few short heartbeats. There&#39;s no denying the aphrodisiac nature of pfoff! You find yourself feeling short of breath in only moments after consuming it.]


[[&gt; Have another taste.-&gt;pfoff2]]</tw-passagedata><tw-passagedata pid="118" name="pfoff2" tags="final" position="8876,3483" size="100,100">$roomname[The Carriage - The Sweets]

It&#39;s an exceedingly light treat, all things considered, and you find that with each bite you have to assure yourself you even *took* a bit given its strange lack of weight or form. (if: $cock is true or $cunt is true)[If not for the rapidly tingling arousal flushing through your body, the hallmark of pfoff, you&#39;d barely know you&#39;d eaten anything.] You have only the briefest sensation of texture upon your tongue and the insides of your mouth before it sizzles away into sugary flavor and nothing more.

Well, maybe a *little* something more. As you continue to indulge in the candy, you feel something strange stirring inside you(if: $cock is true or $cunt is true)[ - something *else* strange]. It&#39;s a building sense of *something* happening, something full-body. 

$npcM[&quot;Sweetbeak wonders what sort of treat is its favorite? If it was curious, Sweetbeak is quite fond of... (text-style: &quot;smear&quot;)[**truffles!**]&quot;] The ravel cackles to himself with his last addition. You might not have been curious, but he seems to not particularly care one way or the other. You&#39;re also a bit more concerned with the way the odd sensation starts to grow increasingly intense and spread outwards to each of your limbs.


[[&gt; Ponder the question.-&gt;pfoff3]]</tw-passagedata><tw-passagedata pid="119" name="hornsquat2" tags="final" position="8748,3466" size="100,100">$roomname[The Carriage - The Sweets]

You settle comfortably into your seat and push the rest of the gummy inside your mouth, finding yourself continually surprised as the flavor shifts one direction or the other. You&#39;re left wondering if it&#39;s layered to emulate hornsquat or if it truly captures the nature of the fruit. The ravel&#39;s attention remains fully and unwaveringly upon you, his eyes boring into your frame.

You try to ignore him for the most part as time passes, sucking on the gummy instead of chewing it so as to savor the treat a while. You find yourself glancing out the carriage window a few times, feeling increasingly relaxed. You feel yourself slumping into the carriage&#39;s seat all the more, slouching into the cushioning with a sense of deep contentment.

But there&#39;s something else. As you focus on it, you realize that your slouch feels a bit *exaggerated*, and your entire body feels a bit heavier and sluggish. The ravel leans closer, intrusively hunching over the empty middle section of the carriage and into your personal space. 

$npcM[&quot;Get too comfy and it might just *ooze* itself!&quot;] he declares with a cackle at his own awkward attempt at wordplay.

You try to sit upright, but find that you can&#39;t quite manage. Your back feels somehow wobbly and uncooperative, and you feel yourself slouching even more than before. You immediately know that it must be the candy!

You try to spit the suckled, slightly-chewed gummy from your mouth only to find that it won&#39;t budge.


[[&gt; Try harder!-&gt;hornsquat3]]</tw-passagedata><tw-passagedata pid="120" name="pfoff3" tags="final" position="8866,3613" size="100,100">$roomname[The Carriage - The Sweets]

By this point, you&#39;ve ceased eating the treat due to its obviously suspect nature as the cause of whatever odd sensation is coursing through your body.(if: $cock is true or $cunt is true)[ The arousal hasn&#39;t faded, but this other sensation has thoroughly overtaken it, now.] Your limbs feel stiffer and harder to move, and soon you find your entire body growing hard to wiggle! You feel yourself straightening against the seat you&#39;re sitting atop, as if every bone and joint in your body is being forced to rigidity. You feel your digits begin to fan out, your muscles forcing them to splay until you&#39;re unable to hold onto the pfoff any more.

As if predicting this the ravel&#39;s claws are already at the ready as he gently plucks the remainder of the pfoff from your grasp before it can fall so much as a hair&#39;s breadth. He examines it closely, as if he might have a bite of the half-eaten treat, but then rolls his eyes slightly and cackles madly instead. He tosses it carelessly out the carriage&#39;s window where it&#39;s gone in moments. His attention returns to you with an appraising stare.

$npcM[&quot;Oh... ah! Ahahhah! A (text-style: &quot;smear&quot;)[**cookie**] maybe? Is it? How charmingly plain, boring! And yet...&quot;] the ravel trails off as his blue-hued tongue sweeps out to slather the edges of his beak, top and bottom, leaving them glistening, $npcM[&quot;Still (text-style: &quot;smear&quot;)[**delicious!**]&quot;]

It doesn&#39;t take long for you to work out what $morphName is on about, even as mad as he&#39;s already proven himself to be, and as your head refuses to turn and your vision warps subtly you can just barely catch glimpses of your body reshaping itself. Your straightened, stiffened limbs grow flatter as a glossy, floury texture begins to *ooze* down your limbs. Your body swiftly starts to take on the golden baked hue of a cookie, tick by tick.


[[&gt; ...!-&gt;pfoff4]]</tw-passagedata><tw-passagedata pid="121" name="hornsquat3" tags="final" position="8748,3616" size="100,100">$roomname[The Carriage - The Sweets]

You push on the gummy with your tongue as your gaze darts around, trying to make sense of things. You reach for your mouth to try to pull the mephitoad gummy from between your jaws only to gasp as you see your own arm. It has a subtle sheen to it, the outermost layers of your body looking vaguely translucent and malleable. You press your digits into your mouth and take hold of the gummy, finding that your own fingers taste... *sweet*.

You attempt to tug at the treat and watch as the length of your digits and arm stretch unnaturally rather than achieve anything - the gummy feels supernaturally *stuck* between your teeth.

Your already slumped, comfortable posture starts to feel as though it might be reaching its extreme as your body slowly topples to the side, your entire form feeling bizarrely soft and squishy. You lack the strength and control of your body to stop yourself as you flop onto your side. You attempt to cry out or inquire to the ravel, but you find yourself unable to work your jaws. The only thing that comes out is a gummy, muffled attempt at speech as your mouth seals over, taking on a translucent, gooey sheen.

Every part of you begins to feel increasingly indistinct and amorphous, the previously translucent sheen of your limb now entirely see-through like the oggorus gummy itself. You can see the gelatinous texture oozing through your body, overwriting your form in a way you&#39;re entirely powerless to halt. You&#39;ve little choice but to surmise the rest of you is in a similar state, too, but you can no longer move your head to check.


[[&gt; ...-&gt;hornsquat4]]</tw-passagedata><tw-passagedata pid="122" name="sagberry3" tags="final" position="8621,3586" size="100,100">$roomname[The Carriage - The Sweets]

The electric sensation *weaves* its way down your limbs and torso, covering your body in that same immobilized sensation. Your limbs stiffen further, and you feel them lifting and starting to jut out at straight angles from your body of their own accord. You try to fight it, but you find that you lack the strength to manage.

As you gaze at your changing limbs, you can *see* the crawling static sensation. Your body seems to be growing *soft* where it passes - almost fuzzy. *Like fabric*. 

As the flesh of your body seems to grow softer and more rounded and pliable, your joints creak and straighten and seem to almost fade away to leave you seated with limbs jutting out awkwardly. Your eyes dart around but as the static feeling reaches them, even that minute movement becomes impossible as your eyeballs forcibly twist themselves directly forwards. You feel yourself losing the ability to turn them at all, forcing you to stare straight forwards at the ravel&#39;s leering countenance. His breath washes over your increasingly plush countenance, his sheath even stirring visibly in your lower peripheral vision in evident delight at your predicament.

Your muffled cries around the lollipop soon fade as well as fewer muscles and nerves of your body respond, slowly changing... *replaced*. A surreal sensation of your lips actually knitting together makes itself known, and you can&#39;t help but realize that *knitting* is precisely the right word as zig-zagging sensations of prickling trace themselves across your mouth. In your peripheral vision you can *just* see the soft, cylindrical protrusions of your limbs, hardly more than uselessly blunt lengths of plush fabric and stitching. The whole while, the faint taste of *sagberry* clings to your awareness.


[[&gt; ...-&gt;sagberry4]]</tw-passagedata><tw-passagedata pid="123" name="morphoriawindow6" tags="final" position="10164,4271" size="100,100">$roomname[The Carriage - The Window]

Eventually, the streets begin to take on truly unusual shapes and hues. Everything begins to gather a purple hue to it, reflecting the eerie color scheme of the House it contains.

Off to the side, you pass by a booth seeming to offer medicine. The caveat, according to the arcanogram sign, is that you aren&#39;t allowed to specify or even know what you&#39;re buying. The booth appears to insist that that be left to fate, thus the discount.

You can see a number of ill-looking creatures lining up to purchase cheap medicine from the stall and, before your very eyes, several try imbibing the strange concoctions they&#39;re offered.

One rather burly-looking lehlt with an illusory arm prosthesis takes a sip from a bubbling green concoction and spontaneously regrows their arm - as well as a second head, and then an entire row of arms down their side. You can&#39;t tell if they&#39;re pleased or mortified as the carriage trundles on.

On, and into sight of (colour: purple)[**It**].

At first, you aren&#39;t certain what you&#39;re looking at. (colour: purple)[**It**] looks as though it must be an error in the world - some kind of mistake, for surely no building would be built like that. Yet, the more you look, the more you realize that it is no accident of design.

The Citadel of Morphoria looms in the distance, a tangle of buildings that jut in and out of one another in a chaotic whirl of impossible architecture. How one could navigate the purpling home of change and chance without being hopelessly mad is something that surely only the greatest Morphorian savants and godlings truly grasp.

All you can be certain of, as Crusty&#39;s carriage trundles into the deeper portions of the Morphoria district, is that the home of the most mysterious of Citygods is surely the heart of mutability and revision within Nodd. Even gazing upon the shifting citadel fills you with a sense of uncertainty.. Not of unknowning, but of knowing there are countless alternatives, each as possible as the next, yet not a single one existing until the others cease to exist. You feel a heightening of your awareness that you are not the same person you were when you entered the city, and surely will never again be who you are today.

Destiny, fate, and chance seem to be as two sides of the same coin - a coin that is spinning and falling down to crush you beneath its impossible edge. Yet something about Morphoria defies even this sort of classification - what is a two sided coin when purposefully stood on its side, just to see what will happen?

But then a carriage full of screaming, skinless miggwitches being pulled by a glassy-eyed, wretched and grinning lehlt surges past you at high speeds, disrupting your view of the citadel.

As the sound of the screaming miggwitches fades, the spell of the citadel is broken. You hear the carriage begin to creak to a halt and soon realize that it&#39;s time to depart - especially when $morphName begins to stand up.(if: $suckercrown is true)[ He plucks several of the lollipops from his head and face, then begins summarily squishing them into his sheath. That *cannot* be comfortable. In short order, though, his musky pouch is crammed full of sweet treats for later, his cock&#39;s snug home bulging obscenely with stems jutting up and out at odd angles.] He offers you a big and manic smile, then pops the door of the carriage open and merrily stalks outside.(set: $morphSex to &quot;none&quot;)


(if: $getgummies is true)[[[&gt; Step outsider.-&gt;ogggummies]]](else:)[[[&gt; Step outside.-&gt;morphoriaconclusion]]]</tw-passagedata><tw-passagedata pid="124" name="morphoriawindow5" tags="final" position="10163,4129" size="100,100">$roomname[The Carriage - The Window]

Traveling deeper into the district you notice a portion of the street that seems to have a concerningly consolidated theme to it. No less than four stores sit side by side and are practically interwoven with one another, as though the buildings were frozen part-way through some climactic struggle to consume one another.

Blue and purple stone seems to extend winding tendrils into a building made of woven, greyish material which in turn seems to have swirled its substance through its two neighbors in swirling and writhing patterns.

Outside of the cluster, calmly sitting astride what you&#39;d swear was a krudge citizen on all fours, is a plump featured nurk who seems a bit more round at the middle than most. One hand clutches some sort of sandwich while the other is held up to their face as they gaze at their ego bracer idly. The beastly krudge stirs, causing the nurk to stir upright with a scowl. Their free hand reaches down to smack the krudge&#39;s snout, the nurk barking out a reprimand with a mouthful of half-chewed food and spattered crumbs.

One of the buildings sports numerous cages, pens, and enclosures both just outside and within its walls. Inside several of the cages you can easily see limbs and snouts, a tail or two sticking through the bars, and hear all manner of various squawks, brays, and barks of indeterminate creatures.

A small sign posted into the ground near the doorway bears a number of sigils, declaring the strange store to be (color: purple)[(char-style:(text-style:&quot;fidget&quot;))[&quot;Best Friend&#39;s Bestest Friends: Make your best friend into your *bestest friend!*&quot;]]

Beside it, within the blue and purple structure, you see all manners of *chairs*. Stools, ottomans, armchairs, chaise lounges and business chairs are merely the surface of the objects on display. Disturbingly, each and every one of the items of furniture seems to have a horrified face somewhere within its structure - a panicked ravel head atop the back of the armchair, a broken and benumbed looking petrid head at the front of an instrument stand... Oh - and one delighted-looking mephitoad head fused with an ornamental chair shaped like an egg. It stares happily out into space with a dopey smile upon its snout. 

(color: purple)[(char-style:(text-style:&quot;fidget&quot;))[&quot;Klare&#39;s Chaires: Turning Asses into Ass Assets&quot;]] The sign seems to be framed within an image of an orolisk biting its own tail.


[[&gt; Continue staring.-&gt;morphoriawindow6]]</tw-passagedata><tw-passagedata pid="125" name="sagberry4" tags="final" position="8610,3704" size="100,100">$roomname[The Carriage - The Sweets]

The unsettling feeling of so much of your body giving way and ceasing to exist part by part is almost more than you can process, with each new tingling *cessation* leaving a hollow emptiness in your consciousness. Your fingers fade to nothingness, as do your teeth, your sinuses - your stomach. Little sensations of *living* that you&#39;d perhaps taken for granted fade away, leaving a sensory silence that puts you on a strange sort of edge.

Your breathing slowly ceases yet you do not suffocate, despite the instinctive panic that comes with it. You struggle to move and find that you can barely wiggle your plump, round appendages, and even that is with an inordinate amount of effort. A few muffled sounds mark the last vestiges of your voice as your sense of taste finally slips away. Your body shrinks a bit as well, the carriage around you seeming to grow larger as the transformation begins to conclude.

Slowly, $morphName reaches out a taloned digit to stroke against your now stylized, cute features, a playful mockery of the face you once possessed. You can feel every touch of the creature&#39;s claws across the soft plush of your fabric as the tip of his talon slides down to playfully tap the end of the lollipop stick where it still protrudes through your threaded simulacrum of a mouth. The stick of the lollipop wobbles briefly but seems fused, nothing but a playful accessory upon your plushified body. You remain fully aware, however, despite being hardly more than a button-eyed parody of your previous self.

Just as the full nature of your situation sinks in, the carriage thumps to a jostling halt, causing the ravel to break his attention from you at last.


[[&gt; *Squeak!*-&gt;sagberry5]] </tw-passagedata><tw-passagedata pid="126" name="hornsquat4" tags="final" position="8751,3741" size="100,100">$roomname[The Carriage - The Sweets]

Eventually, you find that you are just barely able to move yourself *ever* so slightly, but the victory is short-lived as a new sensation takes your attention. You find the trundling carriage growing larger and larger around you. 

Finally deigning to do something more than stare, $morphName reaches out a long-taloned claw to gingerly poke at your gooey form. He grins, eyes glistening in delight as your previously solid body compresses springily beneath his touch.

Eventually, your transformation is complete. You lay on the now enormous seat, almost entirely immobilized with a soft and gummy body that looks translucent and greenish. You find that you can no longer breathe, and what parts of you you can manage to see look gelatinous and glossy - just like the oggorus candy you ate. And there, looming like a giant over you, is the bird.

The ravel&#39;s sheath has stirred visibly with the fleshy, oily folds of its opening bulging around the tip of his glistening, dusky hued spire. His grin is manic and eager, his whole body evidently excited about the strange transformation he&#39;s inflicted upon you for no other reason than because he can.

Before you can wrap your thoughts around more, though, the carriage bumps noisily and then begins to slow. You hear Crusty call out that the trip is coming to an end, and the insider&#39;s eyes swivel around to peer at the front of the carriage. With a toothy smile, he reaches for you.


[[&gt; Wobble uselessly.-&gt;hornsquat5]] </tw-passagedata><tw-passagedata pid="127" name="pfoff4" tags="final" position="8877,3735" size="100,100">$roomname[The Carriage - The Sweets]

The carriage around you grows dramatically as your perspective within it shifts in a nauseating fashion. The ravel stares, enraptured with your inescapable changes before sitting suddenly upright. He reaches back into his bag to fish about for something, his eyes never leaving you for a moment.

This time he withdraws a handheld mirror and holds it up before you. $npcM[&quot;Here, sweet treat! It should see for itself! (text-style: &quot;smear&quot;)[**It looks fit enough to eat,**]&quot;] he hisses, snarling the last word with a look that becomes increasingly devilish.

In the mirror&#39;s silvery surface you can only behold a most literal interpretation of what the ravel said. What you can see of your upper torso looks oddly flattened and simplified, matching the tight and stiffening sensation wracking your body. Breathing becomes nearly impossible as your chest loses the ability to rise and fall, to say nothing of the hue and texture of baked dough you&#39;ve acquired. The ravel angles the mirror slightly so you can stare into your own visage - now in the form of simplified, colored frosting that neatly marks out your distinctive features. You get to see the very last of your jawline fade away with a crackling, tingling sensation into nothing more than icing on a you-shaped cookie. Even your eyes fade to dull icing, despite the fact that you somehow can still see.

In fact, you can&#39;t move or make any noise at all despite retaining your awareness. The ravel tucks the mirror back into his bag and then reaches towards you, now easily clutching your entire body in a single clawed set of talons. Without further preamble or pause you are tilted to one side as he brings your lower body up to his beak.(set: $confect to true)


[[&gt; So this is how you crumble.-&gt;pfoff5]] </tw-passagedata><tw-passagedata pid="128" name="psilysiumwindow1" tags="final" position="6503,3356" size="100,100">$roomname[The Carriage - The Window]

(if: $gaze is true)[](else:)[As the carriage begins its journey towards the Psilysium district you let your attention fully settle on the sights beyond the window. The other passenger visibly nods off in your peripheral. Somehow, miraculously, his blue cup remains perched between the swell of his sheath and his belly and avoids spilling.(set: $gaze to true)

]It isn&#39;t long before a trio of buskers come into view upon the side of the bumpy street, sitting in a small semi-circle upon a large and bedraggled blanket.

The blanket itself looks to be woven and has a series of intricate designs - from what you can see through its wear and grime at this distance at least, but the creatures sitting atop it steal your attention entirely. Each a chimera, all three are dressed in a rather lively fashion even for Nodd. While they may fit in well at many of the House parties, they do stand out upon a random street side.(click: &quot;chimera&quot;)[(show: ?1)]|1)[
(color: grey)[*Chimera, or perhaps even an outsider - it can be hard to differentiate between the two, sometimes.*]]

The first has a large, chitinous stringed instrument propped up between the ground and their shoulder. They play it by hand, digits strumming across the lengthy strings which look like they may be more like sinew. Upon two of the player&#39;s digits appear to be small rings with different textures, which they slide along the instrument&#39;s strings to make sound. As the carriage passes, you see them pluck at the strings as well in order to create an even more varied series of sounds. Though it seems a mundane instrument, as you draw close you begin to feel a faint sense of *something* happening with each of their sharp plucks - a tingling sense of distant occurrence.

The second chimera sits cross legged, intently focused upon their instrument. Their expression is blank and distant, as though devoting all of their sensory attention to their craft. The individual has each hand raised in front of themselves and each digit of each hand has a ring upon it. Each ring has a visibly scintillating thread that stretches up to their mouth where a flexible, open round mouthpiece is held. Their jaws and throat move yet no sound comes out.

The dancing tugs and motions of their digits and unheard ululations do have an obvious effect, however, in the form of an illusory display at the blanket&#39;s center. Wavering insiders - several lehlt and a slyne - engage one another in a remarkably elegant ballroom dance.

The last is the more squat of the three, who seems to be simply playing some form of percussion. At a glance, the drums don&#39;t seem to be quite as remarkable or unusual as the other two, but given the curious patterns, furs, and shapes of some of the skins of the drums there&#39;s undoubtedly a grisly story to be found there.


[[&gt; Continue gazing out the window.-&gt;psilysiumwindow2]]</tw-passagedata><tw-passagedata pid="129" name="psilysiumwindow2" tags="final" position="6501,3508" size="100,100">$roomname[The Carriage - The Window]

(if: $gaze is true)[The sounds and sights of the streetside troupe fade away as the journey continues. Eventually,](else:)[As the carriage continues its journey towards the Psilysium district you let your attention fully settle on the sights beyond the window. The other passenger visibly nods off in your peripheral. Somehow, miraculously, his blue cup remains perched between the swell of his sheath and his belly and avoids spilling.(set: $gaze to true)

Eventually,] your attention is drawn to a rather remarkable looking building. Its shape is a bit taller and more elaborate than those around it and its decor is lavishly, if not garishly, purple-themed. A faux stand-up of several impish, nurk-sized creatures of a similarly-purple hue are stacked atop one another alongside an arcanogram which swiftly resolves to (text-style:&quot;smear&quot;,&quot;buoy&quot;)[(text-colour:(hsl:300,0.8039,0.5,0.5))[&quot;Nocturnia&quot;]] 

Several bold sigils around the front of the establishment not merely suggest the potential of, but all but guarantee an encounter with one - if not several - nocters upon the premises.

There&#39;s little doubt that most citizens would much prefer to avoid such an encounter - yet there are no shortage of thrill seekers in the city. Given the nature of the establishment there&#39;s not too much for a passerby within a carriage to see, but the inn surely begs the visit of those whose interest it piques.


[[&gt; Continue gazing out the window.-&gt;psilysiumwindow3]]</tw-passagedata><tw-passagedata pid="130" name="psilysiumwindow3" tags="final" position="6499,3657" size="100,100">$roomname[The Carriage - The Window]

(if: $gaze is true)[The carriage trundles on towards the Psilysium district. ](else:)[As the carriage continues its journey towards the Psilysium district you let your attention fully settle on the sights beyond the window. Soon, the nurk&#39;s grumpy expression fades as he visibly nods off in your peripheral. Somehow, miraculously, his blue cup remains perched between the swell of his sheath and his belly and avoids spilling.(set: $gaze to true)

]The streets outside the window begin to look subtly different, the hues more frequently blue and purple and subdued. Round, bulbous shapes and soft lights draw the eye in several directions at once.

One such shape, in the form of a rather round and bulbous shop, catches your attention amid the other buildings nearby it. It has large windows all along the front as well as a patio, with more seating off to one side of the building. Much of it is occupied by a variety of citizens, insiders primarily but a few chimera or outsiders as well. You might almost expect it to be some kind of cafe but, upon closer inspection, you realize that it isn&#39;t quite. 

Each patron holds or occasionally engages with some sort of device or another with which they imbibe *something.* One individual nearest to the street takes a draw from a long, elaborate looking pipe. Several creatures at another table partake of a sizable hookah with numerous hoses. Each time someone takes a draw there comes a faint sound somewhere between a gurgle and a scream from within the plump body of the device, though nobody seems to pay any mind to it.

At another table two individuals share what looks like a roughly face-shaped mask - though given the variety of faces in Nodd the membrane appears fairly flexible and deep. One of them takes hold of it and brings it to their snout to mash over their mouth, takes a deep breath, and then immediately slumps into their chair limply. The other snatches the mask in eager hands. The mask is attached by an organic-looking length of hose which leads to a large, spherical... *thing.* It looks at least vaguely alive and yet, at the same time, it&#39;s hard to be certain. Perhaps a Vivirian mage might know for sure.

Before the carriage can pass by entirely, someone hurries out from the shop clutching a purchase in hand as they dig around in their pockets excitedly. Just as the citizen manages to find something to stuff into the end of their newly purchased pipe, the view of the shop disappears as the carriage rounds a corner.


[[&gt; Continue gazing out the window.-&gt;psilysiumwindow4]]</tw-passagedata><tw-passagedata pid="131" name="psilysiumwindow4" tags="final" position="6517,3815" size="100,100">$roomname[The Carriage - The Window]

Continuing further into the Psilysium district itself comes a sight that would surely seem confusing to those who believe the Houses to be locked into only their core tenets. A broad entryway wreathed by verdant foliage beckons passers by inwards, an archway looming above the path with a series of sigils boldly proclaiming it to be the &quot;(background:(gradient: 0, 0,#ffffff,0,#7f19e6,1,#197fe6))[ Garden of Bewilderment. ]&quot; 

There&#39;s nothing to be seen within the garden for the entire exterior is surrounded by tall, impenetrably thick shrubs, vines, and other sorts of grown greenery. Flowers and petals of varied purples and blues dot the edges and a slight, misty haze that&#39;s distinct from the oft seen smog of spent gloam seems to roll about the ground.

Ever so faintly from within you can hear shrieked cries or squawks, but the nature of each isn&#39;t something you can discern from the already noisy bumping and jostling of the carriage. The only thing you manage to glean from your brief passing-by is that though several individuals wander in,  not once does a citizen wander back out.

The nurk across from you jerks slightly with a snort as he sleeps, utterly lost to the world of the waking.(set: $psinurk to &quot;sleep&quot;)


[[&gt; Continue gazing out the window.-&gt;psilysiumwindow5]]
</tw-passagedata><tw-passagedata pid="132" name="psilysiumwindow5" tags="final" position="6510,4108" size="100,100">$roomname[The Carriage - The Window]

The carriage trundles further still into the depths of the district of mind and thought. Down several twisty streets, across a slender bridge that several citizens sightsee from, and beyond a number of establishments of varying sorts. But as you travel, there&#39;s one that stands out and draws your attention.

A massive double-door is shadowed by a striped awning, all lead up to by a wide, sweeping staircase that all but spills out onto the street the bar abuts. Several ravels and one ravel hybrid of some kind loiter out front, chatting and smoking from handheld devices. One of them holds a drink in their other hand, occasionally swirling it around. 

Another ravel wanders up and into the establishment, shortly after which another leaves. A feathered outsider even finds their way up to the establishment and within, though not quite with the same confidence and casual demeanor as the other &quot;native&quot; bird-like creatures.

Though dominated by ravels and feathered folk, you do manage to spot a couple of individuals who seem slightly out of place in comparison, especially for a bar that proudly proclaims itself to be &quot;(color: purple)[**The Wattle and Snood**].&quot;

You see another individual wander up hesitantly to the door and push it open, and from the angle of the carriage you can see the entire bar stop dead. Every eye seems to turn full attention to the door and the one who opened it. The poor creature, a slender chimera of some sort, seems to lose their nerve and just turns around and walks off, letting the door shut behind them. The carriage rolls away before you can see more, but you do see the trio of ravels out front watching after the chimera as you journey onwards.

You&#39;re surely nearing the end of your journey to the district and your attention turns briefly back to the nurk who is utterly sound asleep. The cup he was holding has finally fallen to its side on the seat, its blue contents spilled over.

You have the sudden sensation of a &quot;blink&quot; in your consciousness, as if the very existence around you shifted seamlessly.

... at which point you find yourself staring at a small, purple imp-like creature suddenly perched upon the nurk&#39;s head. Fat, sagging nuts jostle down from its loins, carelessly slapping across the nurk&#39;s face while the creature&#39;s dick bobs upwards eagerly. You can see it thickening, beginning the long journey towards fatness as purplish slime drools from its tip already.

Another one of the creatures sprawls out on its side to the nurk&#39;s left, one leg cocked up and head resting upon its claws, clearly begging to be drawn in a lavish, sultry manner. This creature too has a half-hard, jutting erection, vibrantly purple and throbbing excitedly fatter.

A third on the opposite side of the nurk has its head tilted almost completely ninety degrees to the side, tongue lolling, smoky eyes vacant and dumb looking. Its dick is visibly the fattest of the bunch by a wide margin, and still thickening... so much so that it almost seems to lack the same taper as the other two.

(text-style:&quot;smear&quot;)[(text-colour:(hsl:300,0.8039,0.5,0.5))[*Nocters.*]] 

The first one reaches down with grabby little claws and takes a harsh fistful of each of the nurk&#39;s cheeks, digging into fur and flesh alike before (text-style: &quot;rumble&quot;)[*yanking*] upwards! The nurk&#39;s lips are peeled back unsettlingly far from his teeth as his eyes dart open. 

The nurk&#39;s expression twists into one of pure, abject panic and horror.
$npcP[&quot;Oh... oh no! N-n-no! No no NOOooOOoo no!!&quot;]

The nocter atop him mashes his cheeks inwards, muffling his panicked sounds, then lowers its head down - though one of the creature&#39;s hands has to reach down to politely heft his nuts aside to make eye contact with the nurk. 

$npcN[&quot;WAKE UP, dipshit! Time to rise and get *fffucked!*&quot;] The nocter all but screams its declaration while cackling right into the nurk&#39;s horrified face.


[[&gt; ...-&gt;nocter1]]</tw-passagedata><tw-passagedata pid="133" name="umbrasiawindow1" tags="final" position="2633,3110" size="100,100">$roomname[The Carriage - The Window]

Opting to avoid interacting with the other passenger, especially given their evidently reserved nature, you turn your own attention towards the window. Who knows - perhaps she sees something that you do not.

While at first there is little to see that you haven&#39;t already seen countless times before, before long you begin to see signs of arguably more interesting events taking place.

You turn onto a street that you don&#39;t recognize. A little further ahead, just within view, several raggedy looking chimeras and one who might be a slurk look to be in a sorry state. Each of the small group looks positively disheveled and ragged in their own ways, even from this distance. One has tufts of fur that jut at awkward angles, while another has patches missing all over. Several of the slurk&#39;s prominent whiskers are bent askew or chopped short, leaving you to guess at what caused it.

As the cart trundles closer you see the slurk take a deep draw from a bottle nearly half as tall as they are themselves. They&#39;re visibly tipsy as they gulp and part lips with the bottle - only to pass it to one of the chimeras. As the other group member accepts it, the slurk gazes up to the sky with visible tears rolling down their cheeks. They lift their arms, as if in supplication, or perhaps to reach for something or someone that only they can see - but before you can see more, the carriage turns another corner and leaves you only able to hazard guesses.


[[&gt; Turn your attention to the other passenger.-&gt;umbrasia2]]
[[&gt; Continue gazing out the window.-&gt;umbrasiawindow2]]</tw-passagedata><tw-passagedata pid="134" name="umbrasiawindow2" tags="final" position="2711,3283" size="100,100">$roomname[The Carriage - The Window]

Before much longer a rickety table comes into view, set up on the side of the street beside what looks to be a mortician. A rather elaborately dressed nurk stands behind the table with either an outsider or particularly diverse chimera sitting at the front. The nurk wears numerous bracelets and necklaces with occult symbology as well as a thick (link: &quot;blindfold&quot;)[blindfold(show: ?1)] across her eyes.|1)[(colour: grey)[ *Even at a distance you can spy her peeking out from beneath it, though.*]]

You can hear the faintest touch of a feminine voice from the small nurk even over the trundling of the carriage wheels. The nurk waves her arms about and then slaps a spindly-clawed hand atop a sizable deck upon the table, pausing for effect.

Just in time before the carriage rounds another bend, she smoothly slides the topmost card from the deck and dramatically flips it over before the (cycling-link: &quot;outsider&quot;, &quot;chimera&quot;). The last you see of the strange card-dealing nurk is her customer looking baffled.


[[&gt; Continue gazing out the window.-&gt;umbrasiawindow3]]</tw-passagedata><tw-passagedata pid="135" name="umbrasiawindow3" tags="final" position="2709,3423" size="100,100">$roomname[The Carriage - The Window]

The buildings and streets that you watch pass slowly become taller, each one beginning to cast a shadow that seems to stretch out far longer than they should. Sweeping arches come to dominate doorways, while pointed steeples jut from the corners of buildings and lamp-posts alike. What looks to be ghostly fabric dangles in the open space of elaborately hewn stonework, peeling away from columns supporting a bridge. 

It isn&#39;t clear whether the gossamer material is some sort of ethereal fabric, placed intentionally, some form of ethereal webbing woven by arachnid creatures or worms, or even the residue of magic or some ritual. Whatever it might be, it drifts in unseen winds as it clings to buildings and structures alike, casting eerie shadows on dim walls.

Yet one set of shadows in particular catches your attention. As you turn your gaze to follow them, you soon see the cause - a large and ornate set of gallows placed quite publicly alongside the street. The corpses of half a dozen citizens hang from thick, woven ropes, each one most meticulously posed. You see a pair of nurks, a trio of chimera, a lehlt and even a mighty krudge hanging there by their necks, motionless as they watch your carriage pass by their dreamless slumber. Each wears a mask with a metal cage over their empty eyes, and each has had their arms carefully bound in front of their chests so that their hands form the sign of the crest of Nodd. In front of them you see room for others to stand and watch the grisly act, though by now the spectacle of their end has already passed and left the viewing area equally as still.

As Crusty&#39;s carriage clatters by, the turning wheels and the miggwitch&#39;s pointed hooves clacking upon the road are the only sounds in the street.


[[&gt; Continue gazing out the window.-&gt;umbrasiawindow4]]</tw-passagedata><tw-passagedata pid="136" name="umbrasiawindow4" tags="final" position="2710,3558" size="100,100">$roomname[The Carriage - The Window]

As the journey continues, it feels almost as though you are creeping into some deep, dark catacomb from which you aren&#39;t certain you will return. The air grows somehow *older*, and the scent of decay begins to ooze through the open carriage windows like a cloying miasma.

Your companion seems to notice it, too, for she idly crinkles her snout and sniffs a couple of times. Otherwise, though, she remains as silent as ever with her expression drifting to and fro across the buildings outside.

You follow her gaze discreetly, trying to spy what it is that has her attention. Your vision settles on a large, almost ostentatious building of greys and blacks. Two windows permit you to look inside where you see dozens upon dozens of people standing there, gazing back at you.

No...

*You look closer.* As you do, you realize that they aren&#39;t people at all. They&#39;re sets of clothing.

One looks as though it&#39;s been made from the pelt of a ravel. Another clearly appears similar to a petrid&#39;s torso. Yet another of the items in the window looks to have been crafted from the snouts of multiple nurks, using them as shoulder decorations.

A large set of arcanogram glyphs atop the store declare it to be &#39;(colour: #00ff8c)[**Black Ditch Couture**]&#39;, the store famed for selling quality (link-reveal: &quot;vulturewear&quot;)[(show: ?1)] items.|1)[
(colour: grey)[Vulturewear being clothing made from deceased citizens. With everyone standing a chance of being resurrected, death remains an unsettling yet viable business opportunity.]]

Soon, once again, the building rolls out of sight. (set: $umbrasiawindow4 to true)


[[&gt; Continue gazing out the window.-&gt;umbrasiawindow5]]</tw-passagedata><tw-passagedata pid="137" name="umbrasiawindow6" tags="final" position="2716,3831" size="100,100">$roomname[The Carriage - The Window]

Even the newest of outsiders would likely recognize the location slowly fading into view along the demure streets of the inner Umbrasia district. Among its neighboring buildings **the Oubliette** stands out as particularly ominous and imposing. As popular a venue as it is it&#39;s hardly surprising that the carriage trundles directly past it, giving you perhaps *too* up-close a view.

Out front of the bar some brown furred creature is on their knees, hands resting against the side of the building&#39;s exterior as their chest rises and falls with ragged, harsh breathing. Their body softly convulses and it&#39;s hard to tell if they&#39;re fighting back emotions or some kind of physical reaction - possibly to something they beheld within the notorious walls. A hooded and robed figure casually walks past the troubled creature and into the establishment. 

As you watch the figure step within, the open door permits you a few brief ticks to peer inside - the electric atmosphere of energy and fear is palpable from even just your brief glance. Several shapes hang from poles and move in mesmerizing rhythms, though whether in erotic dance or agonized suspension you couldn&#39;t say. As the door starts to close once again you notice a harsh pair of (colour:red)[eyes] staring right back at you from within, despite the distance it seems as if the owner was able to *feel* your wandering gaze. The creature is hunched and bulky, wearing some elaborate mask that hides their identity - but not their eyes. Staring. Intrusive. Disquieting. It feels as if they might step right into the carriage at any second... 

The door (text-style: &quot;shudder&quot;)[**whuds**] shut and thankfully breaks the contact as the carriage trudges further along down the street, leaving the Oubliette&#39;s dark happenings to its patrons and victims alike.


[[&gt; Continue gazing out the window.-&gt;umbrasiawindow7]]</tw-passagedata><tw-passagedata pid="138" name="umbrasiawindow7" tags="final" position="2722,4004" size="100,100">$roomname[The Carriage - The Window]

The Oubliette disappears from sight behind the carriage. The breadth of the road seems to grow wider as you feel the growing nearness of something. (text-style: &quot;smear&quot;)[*Something.*] An intensity hangs in the air - more than just the ever-present anxiety of the city or the haze of gloam.

Even over the bustle of shops, pedestrians, the carriage, and an errant doomsayer or two, you can detect a droning, humming sort of chant. It reminds you of the solemn tones of the procession, only here it feels somehow *greater*. It feels as though it resonates from every direction around you as well as within, a forlorn susurrus that only grows to a deep and reverent hymn. And it stirs something of that same from within you that wants to join in the symphony. As you shift your gaze about with the sounds drumming in more than merely your ears, you chance to see it. 

The Umbrasia Citadel. The towering building looms more than all the rest nearby, its shape curving up from its lower levels in almost elegant curves before sweeping back out into harsh, inorganic angles and corners. It has a certain symmetry that teases recognition of patterns and symbols you know not the name of yet feel intimately familiar with. A part of you stirs with recognition, a sense of &#39;home&#39;, as though the building itself were some monolithic arcanogram imparting a deep meaning to you.

As your eyes linger upon the imposing citadel the chanting you had heard grows louder still. It begins pounding at the back of your skull as the briefest sense of being part of something greater tugs at your every sense. It threatens to overwhelm you, to consume you from the inside out and leave you broken before its terrifying majesty as a shell of what once you were - when suddenly you feel a cold hand gently fall upon your own.

Your attention is stolen away from the citadel by your until-now silent traveling companion. Her sunken eyes meet yours and she offers you a brief but not unkind smile, a rare sight in the city.

$npcU[&quot;Breathe,&quot;] she tells you. Only then do you realize how long it&#39;s been since you *had* last inhaled. You then do so with such depth that it feels as if your lungs expand for the first time, and with that the overwhelming sensation fades, slowly, as if it were never there at all to begin with. Yet it *is* still within you, somewhere. It is there for all. And it waits.

As the carriage begins to slow she offers an unusually kindly smile and reaches over to hand you something.


[[&gt; Accept the item.-&gt;tearcharm]]</tw-passagedata><tw-passagedata pid="139" name="vornwindow1" tags="final" position="4022,3424" size="100,100">$roomname[The Carriage - The Window]

(if: $gaze is true)[](else:)[You decide to turn your attention away from the lehlt(s) and focus instead on the sights beyond the window.(set: $gaze to true)]

As the cart gets fully underway you feel the road beneath it become less hard, the (text-style:&quot;rumble&quot;)[thunk-clatter-clunk] of its rolling wheels replaced with more of a (text-colour:red)[(text-style:&quot;shudder&quot;)[splurk-splat-schlurk]] with every rotation. You think you smell blood. Peering out the window you find yourself meeting gaze with a lifeless, hazy eye as large as you are - but only briefly, as it rolls on by, the grisly boulder pushed along by a krudge in official-looking attire.

The carriage stops briefly and turns to one side, diverting around what looks to be some monstrously large severed limb, an arm of some sort, wider around than the carriage&#39;s height and then some! A number of creatures in similar attire to the one you saw earlier are busily working at it - some with cleavers, others with wands. Some kaiju must&#39;ve gotten to be trouble enough for the council to deal with them, or perhaps were put down by a group of heroes or the like. Nobody going about their business seems to treat it as too remarkable a thing, paying only enough mind to step over and around bits of gore and the like as they attempt to be on their way, much like the carriage you&#39;re in.


[[&gt; Continue gazing out the window.-&gt;vornwindow2]]</tw-passagedata><tw-passagedata pid="140" name="vornwindow2" tags="final" position="4022,3571" size="100,100">$roomname[The Carriage - The Window]

A soft pitter-spatter can be heard atop the carriage&#39;s roof as a light rain stirs up, splattering upon the streets as well, easily visible outside the carriage&#39;s window, and making you thankful for the shelter. The precipitation clatters against awnings and buildings, leaving a slight, subtly greasy sheen on some spots where it hits.

Once again the carriage has to divert, though this time it&#39;s a gradual swerve, as you get an extremely up close view of the reason through the window. Slowly the carriage overtakes another &quot;vehicle&quot;, though the term is used loosely. Hoisted up a bit higher than the window you&#39;re looking out, you can see an immense oggorous, of the feminine persuasion you&#39;d guess, sprawled lavishly atop an ornate palanquin. They&#39;re headed the same direction as the carriage you&#39;re in, albeit more slowly.

Atop the platform along with the oggorous are a number of other creatures, making for a crowded space. Several chimera and a few hybrids, all so tangled up with one another physically that you have a hard time seeing where one ends and another begins. Each of them is smeared in a glistening substance with a hue distinctly similar to the oggorus they surround.

Impressively those carrying the palanquin don&#39;t look to be at all distressed by the task - instead each of them has their gaze locked upon the scene unfolding atop the platform. Perhaps dreaming of their turn to ride atop it with the ogg, or thinking of a past engagement, but either way surely craving another taste.

The oggorus looks all too delighted at her entourage, reaching out to stroke and caress her companions, encouraging them to press and grind together, and more than happy to clutch one to her chest to share more of her body&#39;s addictive fluid.


[[&gt; Continue gazing out the window.-&gt;vornwindow3]]</tw-passagedata><tw-passagedata pid="141" name="vornwindow3" tags="final" position="4023,3725" size="100,100">$roomname[The Carriage - The Window]

As the palanquin disappears behind the carriage the driver steers back over towards one side of the street and the journey continues. A building ahead looks remarkable enough to draw your gaze with sharp, pointed signage out front seeking to gather the attention of hungry citizens.

A series of menus are placed along the front windows of the restaurant, advertising a wide range of dishes at a glance - however most of the listed options have to do with how the dish is wrapped, stuffed, skewered, or otherwise prepared. Nothing on the menu actually says *what* the restaurant is serving, other than to mention &quot;current stock.&quot;

A glance inside the window answers all the questions you might have in a brief, grisly glance. Standing in full view is a bedraggled looking slyne hybrid, their snout a bit shorter and more round than normal for their kind, but otherwise not too distinct. Several cages are placed around the space they work within which a number of microcitizens can be seen. Some sob, some scream and flail, others sit in quiet, resigned horror. 

The hybrid is holding one such creature in hand, a small outsider of some species you can&#39;t make out from this distance. The chef casually slaps the micro down atop his prep space, rolling them in a reddish-orange sauce. From there, the chef places them atop some sort of leafy vegetable, and rolls them up into it until nice and taut. 

With the tenderling-to-be secure in their leafy bondage, the slyne reaches up without looking and deftly snatches forth a wickedly sharp knife from above with a practiced hand, bringing it down to align with a lower part of the rolled-up micro.

Just as you&#39;re about to lose sight of them the knife pivots upwards, point into the table, then chops down as the chef pushes, repeating the motion in a rapid, swift series of push-chop-push-chop-push-chop, leaving a nicely portioned series of cylindrical, bite-sized pieces behind, which the slyne plates before reaching towards one of the nearby bins to repeat the process.


[[&gt; Continue gazing out the window.-&gt;vornwindow4]]</tw-passagedata><tw-passagedata pid="142" name="vornwindow4" tags="final" position="4027,3864" size="100,100">$roomname[The Carriage - The Window]

Whether you feel hunger or horror at the sight you just beheld the carriage continues along without hesitation, the streets starting to become slightly more angular and the hues of the buildings and decor a touch more (text-colour:(hsl:0,0.8039,0.5,0.7))[crimson]. Several buildings begin to show spikes and sharp edges that spear forth into the sky or dangle out over the street above head.

The carriage takes a slow turn, passing another carriage - this one with the windows drawn shut and the carriage itself rocking conspicuously - as another shop of particular note catches your eye.

Inside the shop can be seen an obviously wretched lehlt, though what he lacks in physical beauty he seems to make up for, at least in some eyes, in art. The lehlt&#39;s form is positively covered in markings and inks, much of his body tattooed or pierced. One arm is covered in scrawled sigils that you can almost make out. (click-replace: &quot;make out.&quot;)[make out. 

You focus on the sigils, expecting them to resolve into meaning, and yet something else entirely happens. You feel a sudden swell of elation, the feeling of meeting someone, someone you hold dear. It fills your senses profoundly, only to be abruptly replaced with an utter sense of loss - of that very same person. The sensation lingers for several breaths after you cease focusing on the sigils.] 

The lehlt stands next to a reclining chair around which a series of cords lead to various devices and glowing canisters. All of these pieces of equipment are attached to a single, sizable machine of sorts that sits next to the chair, presumably involved in the process of the shop&#39;s wares. 

A glance back at the shopfront itself shows imagery of several heavily-tattooed citizens, as well as a series of advertisements for all manner of ink based art that could be scrawled across your body, some of which can be customized or augmented with magical enhancements.


[[&gt; Continue gazing out the window.-&gt;vornwindow5]]</tw-passagedata><tw-passagedata pid="143" name="vornwindow5" tags="final" position="4022,4024" size="100,100">$roomname[The Carriage - The Window]

As the carriage continues you quickly notice more and more of the citizens strolling up and down the streets are dressed in *especially* provocative fashions. Spiked collars and all manner of bondage gear become a common accoutrement, and just as noticable is that those wandering around without clothes are, more often than not, shockingly endowed.

That said, more than a few who are still wearing clothes are no less visibly endowed, considering. The excessive exaltation of flesh and sensation for which Vorn is known becomes increasingly apparent in those roaming the streets as the carriage travels deeper into the district.

Perhaps not as obvious as one might expect, however, is the sight of what is obviously an opera house just ahead. As it rolls more fully into view you can admire the tall, reaching architecture and swooped windows and broad canopies and balconies. Though you can glimpse only just a few hints of what&#39;s going on inside, there doesn&#39;t seem to be much to be missed at present, as the seats are mostly empty. Some citizens, presumably actors, appear to be on stage, gesturing and flinging around weapons and wands, likely rehearsing.

Then again, given the nature of Vorn, much less the city itself, some of the theatrics may be anything but.

It isn&#39;t much longer though before you feel the carriage begin to judder to a slow halt, Crusty calling out the signal that you&#39;ve begun to arrive.


[[&gt; Make ready to leave.-&gt;vorn window conclusion]]</tw-passagedata><tw-passagedata pid="144" name="vorn window conclusion" tags="final" position="3876,5008" size="100,100">$roomname[The Vorn District]

&lt;img src=&quot;http://nodd-arca.net/carriage/carriage_vorn.jpg&quot; style=&quot;display: block; margin-left: auto; margin-right: auto; width: 100%;&quot;&gt;


The carriage rolls shakily to a jumbled halt. The other passenger is quick to stand and slip out the door, though one of her two heads glances back at you with a ginger, and even perhaps slightly friendly, wave before they&#39;ve entirely left.

You disembark and step out into the streets yourself, looking around. All about you is (color: red)[red] - if not in sight then in (text-style: &quot;outline&quot;, &quot;expand&quot;)[(color: red)[sensation]] itself. To simply stand in the depths of this district is to *feel.* One can partake of pain or pleasure in any measure but it&#39;s in the feeling, the sensation, the *experiencing something* that is the meaning of it - the meaning of *Vorn*. To be viscerally, deeply *alive*.

Some citizens tend to brush off some of Vorn&#39;s more active members as mere mindless hedonists, but there is some deeper meaning to their indulgences. Without even realizing it, you take in a deep breath and hold it. The thought of breathing, of living, runs through your mind of its own accord. For a moment, it feels as though you&#39;re discovering the simple joy of breathing for the first time - the very feeling of giving yourself life time and again since your first was drawn. The need to breathe again returns and you exhale... but then, with another breath comes that soft satisfaction. Gentle elation. And it&#39;s there - it&#39;s always there, even if forgotten, ignored.

Is *that* Vorn, perhaps? Not just mindless sodomy and rampant evisceration, but a deep appreciation for the very experience of sensation itself? An endless quest to delve into the farthest reaches of what *can* be felt in the context of flesh? It&#39;s a joy of living of a different kind to that of House Viviria: rather than focus on generating or spreading life, it&#39;s a focus on *celebrating* it. On *experiencing* it. Every moment, every breath, every lash of the whip and stroke against tender flesh.

Your reverie is interrupted by a sudden jostling as a citizen in a red-hued and heavily hooded robe bumps into you, causing you to turn about. They mutter a half-apology in a soft, feminine tone, the slightest hint of a strangely long, pointed, purple snout jutting from the hood of their robe. Before you can accost them they are already shuffling off, long gone, leaving you turned about to find yourself staring at the (text-style: &quot;smear&quot;)[(color: red)[**the Citadel**]]. 

Helplessly, as if compelled by a force greater than you can name, your thoughts plunge back to your simple brush against that stranger. 

The caress of their robe&#39;s fabric against you, the soft texture of its weave, the subtle warmth of their body felt through it, the brief jolt of shock, of panic, of uncertainty... and then of knowing. All of it comes with a myriad of sensory perceptions, sensations that roll through your psyche and threaten to overwhelm your mind. So many of them are taken for granted, but... what if you truly were to stop and take each one at face value? What if you were to *feel* each one in its fullness and appreciate it?

How many songs could an inspired heart write about the soft, simple touch of a lover, after all? How vividly can you remember the weave of a comfortable, safe bed? Are there not entire universes of experience within every sensation in and of itself?

Perhaps there is more to Vorn than meets the eye.

Standing there, you finally hear Crusty&#39;s carriage begin to wheel off again, already having collected new passengers. The sound of the miggwitch&#39;s braying *HRONK* and the wheels clattering on the street is enough to stir you back to life. You have places to be, after all.

*You have arrived in the Vorn district - brimming with an anxious feeling of sensory excitement and the very exuberance of being, all its pleasures and horrors combined. Having completed your journey here all that remains is the question - now, where?*

&lt;img src=&quot;http://nodd-arca.net/carriage/carriage_vorn.jpg&quot; style=&quot;display: block; margin-left: auto; margin-right: auto; width: 100%;&quot;&gt;
&lt;br&gt;
&lt;br&gt;
&lt;center&gt;&lt;h3&gt;(text-style: &quot;smear&quot;)[END]&lt;/h3&gt;

&lt;font size=&quot;5em&quot;&gt;{(link:&quot;&gt; Commence another journey &lt;&quot;)[(reload:)]}&lt;/font&gt;&lt;/center&gt;</tw-passagedata><tw-passagedata pid="145" name="viviriawindow1" tags="final" position="1491,3225" size="100,100">$roomname[The Carriage - The Window]

You turn your attention towards the window. Slowly, the streets between you and the Vivira district pass by.

The carriage passes by a fountain in which a nurk is taking a piss. You think you can see someone taking a drink from the other side of the water. *Whoops.*

Then again, clean water only really comes from ego bracers or similar artifacts at the cost of gloam, so anyone drinking from a public fountain probably should have expected as much.


[[&gt; Continue gazing out the window.-&gt;viviriawindow2]](set: $window to true)</tw-passagedata><tw-passagedata pid="146" name="viviriawindow2" tags="final" position="1487,3379" size="100,100">$roomname[The Carriage - The Window]

The carriage continues its trundling journey with you and the other passenger in tow. You try to pay them no further mind and hope that that gives enough of a signal for them to return the favor.

Rather swiftly the ground beneath the carriage begins to show signs of roots and growth that snake their way over and through it while the air itself starts to feel somehow more *humid* and (colour: #b8eb02)[**alive**]. A greener hue dominates many of the buildings even on Viviria&#39;s furthest outskirts, and one in particular catches your attention. 

A stocky building on a corner with a short line out the front steals your gaze with what you can only presume are patrons in queue. As you get closer you can see in the establishment&#39;s front window where several citizens point at various jars and containers which hold all manner of alien creatures within, most small and hard to discern in detail at a distance. You think you even notice a couple of similarities to some of the creatures your traveling companion has.

Just as the carriage rolls past, the doors open and a patron stumbles out into the street - a particularly bulky krudge. He&#39;s dressed fairly modestly, especially for the norm of Nodd&#39;s streets, but his gait is uneven and sloppy as though he were drunk. His expression is somewhat blank and even from the carriage window you can see his dilated pupils rolling back slightly. Long, spindly legs cling to the side of his head around his right ear, but before you can get a better look, Crusty&#39;s carriage has sped by.


[[&gt; Continue gazing out the window.-&gt;viviriawindow3]]</tw-passagedata><tw-passagedata pid="147" name="viviriawindow3" tags="final" position="1489,3529" size="100,100">$roomname[The Carriage - The Window]

The closer you come to the district proper, the harder it is to determine which parts of buildings are actually structures and which are parts of the landscape. It might cause one to feel sorry for some of the buildings, wondering if they&#39;re smothered and choked by all the vegetation and surrounding life the same way that a plant might be choked by weeds.

You find yourself beginning to see many more citizens who seem at home in the area. Several hawkers peddle wares promising to fortify - or kill - all manner of plant life that a Vivirian resident might encounter. A pair of chimera in an alley seemingly argue over the fate of a wall-eyed mephitoad pup, whose vacant stare could be no less concerned with its situation.

You hear the churning of ill weather in the distance as the carriage rolls by a particularly quaint little shop that looks utterly squashed between several larger, more imposing buildings on either side. A series of sigils over the doorway notes the structure to be Tender Tuffets.

You recall hearing talk of the nurk who runs the shop and his remarkable love for furniture of all sorts. The brief glance your journey affords you lets you see a nurk straddled, if awkwardly, by some sort of side-table-shaped ambulatory creature. Given the creature&#39;s position and its rhythmic up-and-down motions, it may be that the shop&#39;s reputation is well earned.


[[&gt; Continue gazing out the window.-&gt;viviriawindow4]]</tw-passagedata><tw-passagedata pid="148" name="viviriawindow4" tags="final" position="1489,3679" size="100,100">$roomname[The Carriage - The Window]

Tender Tuffets leaves your line of sight as the carriage takes a turn, rolling down another street for a brief chime. The sound of the carriage&#39;s wheels has since become somewhat quieter, likely due to the heavy layers of moss and foliage covering the road. Unfortunately, the roots also make for a bumpier ride.

Soon what appears to be some sort of nightlife establishment comes into view, several patrons loitering around the exterior and several more entering and leaving even in the short time you&#39;re in view. Numerous sigils mark the front doors and the alleys on either side as entryways into &quot;*The Worm&#39;s Nest.*&quot; Several of the individuals hanging around outside seem possessed of rather vacant expressions.

One individual out front is an especially plump oggorus with several citizens surrounding them, as is often the case for oggori. None of them appear to be partaking of the ogg&#39;s trademark trait but instead are focused upon a glass in the insider&#39;s hand. The oggorus thrusts it towards one of the others, a scrawny slyne, who looks shocked and swiftly shakes their head, pointing instead to the insider next to them - a hybrid of some sorts, by your judgment.

The hybrid looks shocked as well and the turmoil of indecision crosses their features as the ogg instead offers the drink to them. The (link: &quot;hybrid&quot;)[hybrid (colour: grey)[(petrid and lehlt?)]] overcomes their hesitation, then shakily takes the glass. The angle is poor, but you think you can see something writhing around within the murky liquid as they bring it to their lips. Whatever was in it, though, they abruptly down it in one gulp and finish with a dramatic toss of the glass that shatters it against the building&#39;s front wall. The ogg and the slyne crowd in closer, clearly eager to see what happens next.

You&#39;re left to wonder about the result as the crowd blocks your view and the carriage continues, taking you further still into the Viviria district.


[[&gt; Continue gazing out the window.-&gt;viviriawindow5]]</tw-passagedata><tw-passagedata pid="149" name="viviriawindow5" tags="final" position="1489,3829" size="100,100">$roomname[The Carriage - The Window]

The air becomes notably thicker, teeming with the humid excess of life in all its forms. Even the air has a subtle haziness to it, as though a wispy cloud of spores or pollen fills the very atmosphere around you. Whether it actually is or not is beyond you, though, but surely it can&#39;t be *harmful* if people live here. ...Can it?

Nearer to the district&#39;s heart you soon spy a building substantially recessed from the street. You almost miss it, especially as by now where the streets end and begin is hard to say with buildings so choked by boils, bulbs, and plantlife. A series of oddly plump plants line a mossy walkway to a sizable archway that looks much like the entry to a theme park or carnival, with sigils above proudly proclaiming it to be the &quot;*Pundlepox Gardens.*&quot;

It&#39;s common knowledge that the gardens were founded, and continue to be run, by an enterprising nurk with a particular passion for unique and exotic plant life. Though organized as a sort of museum, you hear that it&#39;s still somewhat known for being *less than safe* if one gets too close to or friendly with the exhibits.

You don&#39;t have much opportunity to look, however, as the carriage continues moving and soon you find yourself past the point that you can see the verdant, looming gates.


[[&gt; Continue gazing out the window.-&gt;viviriawindow6]]</tw-passagedata><tw-passagedata pid="150" name="viviriawindow6" tags="final" position="1482,4050" size="100,100">$roomname[The Carriage - The Window]




[[&gt; Watch as the carriage finishes its journey.-&gt;viviria conclusion2]] </tw-passagedata><tw-passagedata pid="151" name="bordle2" tags="final" position="157,3780" size="100,100">$roomname[The Carriage - The Chimera&#39;s Jars]

(if: $surprise is true)[The chimera nods emphatically as you express your shock and horror. They lean forward in their seat, as if offering for you to get a good look at the wriggling creatures.
](else:)[The chimera waits for a few moments longer before they sit back, seemingly disappointed that you aren&#39;t already aware of the curiosity they hold in their small vial.

$npcV[&quot;Not heard of them, hmm?&quot;] they ask after a few ticks. Then they lean forward, holding the vial out. $npcV[&quot;Well take a good look.&quot;]]

You see the little worms slithering and wriggling around one another in the vial, their smooth bodies twitching in loops and coils. You can see little pincers at one end of each.

$npcV[&quot;Bordle worms,&quot;] the chimera warns as the streets clack by. $npcV[&quot;Love nesting in your veins. They get inside, wriggle in and it feels strange and frightening and ooh, oh it should be,&quot;] they say, blinking horizontally. Their tail wetly slaps against the side of the carriage chair.

Outside the window, the outskirts of Viviria trundle by. You can see a small establishment called *The Slug&#39;s Puppy*, a disgruntled-looking petrid shooing away a gaggle of greep.


[[&gt; Continue listening.-&gt;bordle3]]</tw-passagedata><tw-passagedata pid="152" name="bordle3" tags="final" position="272,3960" size="100,100">$roomname[The Carriage - The Chimera&#39;s Jars]

The chimera rattles the vial a little bit, then watches as the worms tumble over one another.(if: $chimerastate is 1)[ They lower the vial down to their bobbing shaft, and you watch as the thick spire seems to almost *curl* a little away from the glass.]

$npcV[&quot;Once they slither inside, these little lovelies get to work.&quot;] The chimera clicks their tongue.(if: $chimerastate is 2)[$npcV[&quot;Unlike your new friend in there,] the chimera says with a knowing smile,] $npcV[&quot;Bordle worms have teeny tiny but very efficient mouthparts. They start to *burrow*. Not fun. Numbing, though, so you don&#39;t feel it. Not as they start to bite. Not as they start to dig in. Not even as they start to squirm their way into your veins,&quot;] the chimera warns. They slide the vial back to its home on their belt.

$npcV[&quot;They lay their eggs in a few bells. Infestation is fatal within five sleeps, unless you get arcane intervention. Magic&#39;s the only thing that&#39;ll save you from these, mm, delights.&quot;] The amphibious creature gives a very gentle pat to the vial.

As the carriage bumps and thumps over some uneven road, the insider gives another toothy smile. $npcV[&quot;But there are worse ways to go. Thanks to the numbing, you only really feel *full*. And if you want to be infested, they&#39;re one of the few that&#39;ll get (text-style: &quot;smear&quot;)[&#39;&#39;everywhere&#39;&#39;].&quot;](set: $bordleSeen to true)


[[&gt; Nod thoughtfully.-&gt;viviria conclusion]]
[[&gt; Ask about another.-&gt;&gt; &quot;What&#39;s in the jars?&quot;]]</tw-passagedata><tw-passagedata pid="153" name="spineclutch2" tags="final" position="471,3686" size="100,100">$roomname[The Carriage - The Chimera&#39;s Jars]

The chimera snickers, lifting one arm to their muzzle. They give you a simple nod.

$npcV[&quot;A spineclutch will wriggle *real* deep, friend. You&#39;ll feel them in your (if: $cunt is true)[womb$balls[, or your ]](if: $balls is true)[testicles](if: $cunt is false and $balls is false)[guts](else:)[, or your guts] and then they&#39;ll go deeper. It&#39;ll hurt.&quot;] The chimera nods again, tail lifting and dropping in a little slap.

Outside, you pass by a small garden park that seems to have sprung up around a large and imposing tree-like plant that has numerous pods hanging down from it. You think you can see *people*, or at least their shadowy shapes inside the pods.

$npcV[&quot;And then it will affix itself to your spine. At that point, mm...&quot;] The chimera trails off.


[[&gt; &quot;At that point?&quot;-&gt;spineclutch3]]</tw-passagedata><tw-passagedata pid="154" name="spineclutch3" tags="final" position="471,3837" size="100,100">$roomname[The Carriage - The Chimera&#39;s Jars]

The chimera gives a knowing smirk.

$npcV[&quot;You can&#39;t guess?&quot;] they ask. $npcV[&quot;They bond with your spinal column. Hijack your body, start to fuse, yes? You start to *feel* them. Start to think with them. The spineclutch and you, you start to blur, yes? Within a sleep or two, you&#39;ll start being more a...&quot;] the amphibious insider hesitates, smiling thoughtfully as they describe it. They idly scratch at their belly(if: $chimerastate is 1)[, gently jerking themselves off as if the thought were deeply erotic](else-if: $chimerastate is 2)[, their other hand lowering down to idly rub and caress their still-slimy slit].

$npcV[&quot;A hybrid,&quot;] they finish. $npcV[&quot;Then the *physical* changes start, yes. A trisk perhaps. You&#39;ll become more chitinous. More legs. Those pretty eyes will be much more insect-like, yes? You might be male, might be female, depending on the spineclutch. Maybe neither, maybe even both. You&#39;ll think more and more like one. When it&#39;s done, well, you will be a much bigger spineclutch hybrid, yes. Not quite you, not quite spineclutch, but a little of both.&quot;]

You stare at the jar in your grasp pensively, watching as the centipede-like creatures crawl around and around each other, little legs scrabbling at the glass.


[[&gt; Nod thoughtfully.-&gt;spineclutch4]]</tw-passagedata><tw-passagedata pid="155" name="spineclutch4" tags="final" position="471,3985" size="100,100">$roomname[The Carriage - The Chimera&#39;s Jars]

You nod thoughtfully and move to hand the jar back to the chimera. At just that moment, a substantial (text-style: &quot;rumble&quot;)[jolt] wracks the carriage and the jar tumbles from your grip. It strikes your seat and cracks, the lid spinning off with a clatter to land on the chimera&#39;s side.

$npcV[&quot;Ah, be careful!&quot;] the chimera yelps - but to little effect. With terrifying speed, the centipedes scatter. Two skitter onto the floor and slip beneath the gap in the carriage door, dropping to the City beyond. One scampers up towards the chimera who tries valiantly to catch it but fails, the insect dodging with frightening dexterity out of their grip.

The other scuttles (text-style: &quot;smear&quot;)[beneath your clothing] before you can so much as flinch.

You grab at it with all your reflexes, but it&#39;s too slippery for you as well. As you grab at its body all you manage to do is agitate it into scratching you and using its surprisingly formidable mobility to writhe out of your hold and further into your clothing.

You&#39;re unable to get your coverings off in time to stop what comes next.


[[&gt; &quot;Hngh!&quot;-&gt;spineclutch5]]</tw-passagedata><tw-passagedata pid="156" name="spineclutch5" tags="final" position="377,4143" size="100,100">$roomname[The Carriage - The Chimera&#39;s Jars]

The centipede creature&#39;s head pushes against your (if: $cunt is true)[cunt](else:)[ass], then begins to urgently push its way in. You can feel flexible feelers bending backwards as the creature&#39;s chitinous head sinks into you as you reflexively try to squeeze your muscles closed.

It&#39;s no use, though. It&#39;s a parasite designed to wriggle its way into reluctant prey, and there&#39;s nothing you can do as two legs manage to unfold just inside your passage.

It aches and makes you jolt, but you&#39;re utterly helpless to stop the spineclutch as it heaves and slither-skitters its way into your insides. Your squeezing almost *encourages* it to work its way deeper and inch by inch of thick, crawling insect wriggles into your body.

It has to be nearly fourteen inches long all up as it wriggles its way inside, thick as a cock and much more insistent. You feel it nestling and nudging its way into your (if: $cunt is true)[pussy, investigating your cervix inquisitively](else:)[guts, squirming its way through your inner muscles] until you feel its back legs and its tail end almost *squelch* into your hole.

And then it&#39;s done.

You can feel the spineclutch getting comfortable inside you, beginning to seek inexorable passage deeper. You only have to wait for a few anticipatory moments before it does.


[[&gt; &quot;OW!&quot;-&gt;spineclutch6]]</tw-passagedata><tw-passagedata pid="157" name="spineclutch6" tags="final" position="373,4318" size="100,100">$roomname[The Carriage - The Chimera&#39;s Jars]

A sudden shooting pain lances through the walls of your (if: $cunt is true)[cunt as the spineclutch begins to force itself through your cervix. Your eyes water and you double over as the insect slithers and creeps yet deeper than you can handle. The pain only increases though as you feel it go even *deeper*, starting to burrow *through* your body as it starts its final journey.](else:)[rectum as the spineclutch starts its final burrowing. You&#39;re left panting and wheezing as the discomfort flares and the crawling, skittering thing works its way to its ultimate goal.]

Your spine. You can *feel* it as something *tickles* the inside of your spinal cord. It&#39;s almost indescribable - like something somehow tingling at your entire lower body all at once. Then there&#39;s a sharp, searing (colour: red)[***pain***]! And then... just as quickly, it&#39;s gone.

Not only the sudden pain, but all the pain of (link: &quot;your&quot;)[~~your~~ the spineclutch&#39;s(show: ?1)] entry.|1)[
(color: grey)[*Ugn... You feel light-headed.*]]

You look over at the chimera, only to see them shimmer with a greenish light as they discharge a disposable spell on themselves.

$npcV[&quot;Ah...&quot;] they say, wincing slightly. $npcV[&quot;That was not very wise, friend. Nngh... This was my only deworming spell, I am afraid. But do not panic... You should have a good two sleeps to get yourself treated,&quot;] they shakily assure, slowly regaining their composure. Then they pause. $npcV[&quot;Unless you wish to contribute to the spineclutch population,&quot;] they add with a slightly strained smirk. Another hesitation. $npcV[&quot;But if not, set things in motion right away. Its ... influence will sway your thoughts very quickly, mm. You will wish to gain help.&quot;]

After a few long, hazy chimes, the carriage bouncing and bounding as you try to collect your thoughts, you give the chimera a nod. Being part insect doesn&#39;t sound that bad, honestly, now that you&#39;ve already been through the hard part.

...Or is that just the spineclutch?(set: $spineclutch to true)


[[&gt; That&#39;s enough.-&gt;viviria conclusion]]
[[&gt; Ask about another jar - more carefully this time.-&gt;&gt; &quot;What&#39;s in the jars?&quot;]]</tw-passagedata><tw-passagedata pid="158" name="&gt; Point to the canister containing a single large eel-like thing." tags="final" position="710,3518" size="100,100">$roomname[The Carriage - The Chimera&#39;s Jars]

&lt;img src=&quot;http://nodd-arca.net/carriage/gorger.jpg&quot; style=&quot;display: block; margin-left: auto; margin-right: auto; width: 100%;&quot;&gt;

You point towards the canister on the chimera&#39;s back with the singular, large eel that wriggles and slithers around inside it languidly. The insider glances backwards at it, then grins a little bit.

They depress a latch and the lid of the canister comes off with a wet *pop*. They reach into the tube and you watch as the large, greyish eel slithers around their wrist. They ease it out and into the open.

$npcV[&quot;Prill here&#39;s a gorger. Pretty one, ain&#39;t she?&quot;] they ask, glancing up at you. The eel-like creature lifts its eyeless head and noses around the air of the carriage.

Outside you see another carriage going by in the opposite direction.

It appears to be on (text-style:&quot;rumble&quot;)[//(text-colour:orange)[fire]//].

Neither the driver nor the miggwitch appear bothered by this.


[[&gt; Okay.-&gt;gorger2]]</tw-passagedata><tw-passagedata pid="159" name="gorger2" tags="final" position="637,3680" size="100,100">$roomname[The Carriage - The Chimera&#39;s Jars]

You wait as the fiery carriage jostles past and the chimera continues.(if: $chimerastate is 2)[ $npcV[&quot;Now, unlike your new friend in your belly, Prill&#39;s not so, mm... pleasurable,&quot;] the chimera explains. $npcV[&quot;Your new body buddy&#39;s going to drive you a (text-style: &quot;smear&quot;)[little] crazy, but only in the pleasurable ways. Prill here would probably kill you, but not intentionally, oh no, would you girl?&quot;] They stroke the eel with their other slimy hand affectionately.](else-if: $chimerastate is 1)[ $npcV[&quot;Now, unlike my little friend here,&quot;] the chimera croons, using their other hand to give their cock a slow, sensual pump. They groan as they do, then appear to almost *scritch* under the tip of it. $npcV[&quot;Yes, yes, you like that, don&#39;t you,&quot;] the chimera groans. $npcV[&quot;Prill here would probably kill you. Not intentionally though.&quot;]](else:)[ $npcV[&quot;Prill here is a bit of a mean girl. She doesn&#39;t mean it, mm, not intentionally, but she would probably kill you if she got her way.&quot;] The chimera gazes gravely at you.]

$npcV[&quot;Gorgers are very... acid-resistant. They love acidic environments, yes. Like the stomach. But they like food even more,&quot;] the chimera explains. Their horizontal pupils flick back and forth from you to the eel, now exploring up and down their arm.

You ask how that would kill someone and the chimera seems only too happy to explain, rubbing the gorger&#39;s supple body.

$npcV[&quot;It makes you eat. And eat. And eat,&quot;] they say. $npcV[&quot;I think the Gorge spell was, mm, (text-style: &quot;smear&quot;)[inspired] by them. But maybe the spell inspired the eel, yes? In Nodd, who can really say for certain?&quot;] they ask with a laugh. 


[[&gt; Very philosophical.-&gt;gorger3]]</tw-passagedata><tw-passagedata pid="160" name="gorger3" tags="final" position="641,3838" size="100,100">$roomname[The Carriage - The Chimera&#39;s Jars]

The chimera smiles wryly, then maneuvers the eel back over their shoulder and to the large canister again. Prill, with surprising obedience, slips from their wrist and back into the canister with a wet *plop*.

You watch as the eel starts to slither and swim around the canister again, while the chimera re-seals it swiftly.

$npcV[&quot;Your body won&#39;t know when to, mm, stop,&quot;] they continue. $npcV[&quot;Prill would make sure of it. So you would be desperately hungry no matter how much you ate. And what you ate? Prill would eat, growing bigger and bigger inside you. Eventually she would fill your whole stomach. Indigestible. No food for you, hmm?&quot;] they chuckle almost dryly.

Outside, you pass by a building that looks to have been almost subsumed by a thick tangle of pustulent growths. You can see two City pawns stabbing at a bulbous boil with long, sharp tools, both of them dressed in what looks to be protective clothing of some sort. You must be getting close.

$npcV[&quot;Your body would waste as Prill grew bigger, until eventually she would burst you open. Not very fun, oh no,&quot;] the chimera laments. $npcV[&quot;If she were a little smarter, she would be a little more symbiotic, no? Then she could stay for years, instead of only a few weeks in some poor, doomed host. But aren&#39;t we all slaves to our natures?&quot;] they ask with a toothy smile. (if: $chimerastate is 1)[They slide their grasp down and give a slow, casual squeeze to their plump cock.](else-if: $chimerastate is 2)[They slowly rub at their slit with two fingers, staring openly at your roiling, squirming belly.](else:)[They slowly rub at their slit with two fingers, giving a soft, contented moan.](set: $gorgerSeen to true)


[[&gt; Nod slightly.-&gt;viviria conclusion]]
[[&gt; Ask about another jar.-&gt;&gt; &quot;What&#39;s in the jars?&quot;]]</tw-passagedata><tw-passagedata pid="161" name="amoridNull" tags="final" position="961,3654" size="100,100">$roomname[The Carriage - The Chimera&#39;s Jars]

$npcV[&quot;Yes, sway,&quot;] the insider chuckles, tail thwapping the seat wetly.

$npcV[&quot;Amorid slugs are so called because once they are inside you, they will make you, mm... amorous,&quot;] the insider explains as the carriage jostles and thunks over the City streets. $npcV[&quot;Their slime is a deeply potent aphrodisiac. The sort that is on par with the Rouse spell, yes? It only grows with time.&quot;]

The chimera pats the flask gently, watching you from their seat as the carriage thumps over a bridge. Outside the window you see a stream running through what looks to be some sort of park. &quot;(colour: #33cc11)[Pundlepox Gardens]&quot;, you see written on an arcanogram signpost.

$npcV[&quot;Of course, their hosts still live productive lives,&quot;] the chimera continues. Then, with a chuckle, $npcV[&quot;(text-style: &quot;smear&quot;)[&#39;&#39;Very&#39;&#39;] productive. But the distraction? Quiiite potent. One of the less dangerous creatures I have here, but one of the more, mm, expensive. I never mind parting with a pair for... interesting creatures like yourself, though.&quot;]

$npcV[&quot;Alas,&quot;] the chimera shrugs. $npcV[&quot;As captivating as you are, they would be wasted on one of your assets... or lack thereof. But if you ever acquire genitals of your own...&quot;] the insider suggests with a coy, inviting smile that displays several teeth.(set: $amoridSeen to true)


[[&gt; That&#39;s enough about their jars.-&gt;viviria conclusion]]
[[&gt; Ask about one of the other jars.-&gt;&gt; &quot;What&#39;s in the jars?&quot;]]</tw-passagedata><tw-passagedata pid="162" name="amorid2" tags="final" position="829,3624" size="100,100">$roomname[The Carriage - The Chimera&#39;s Jars]

You unstopper the bottle. The chimera leans forward in their seat, their tail slapping wetly against the seat as you do.

(if: $cock is true)[You pull out your cock, then tip the bottle to the crown of your glans. You look up at the chimera uncertainly, but they just sit there with a knowing look on their snout.

It only takes a few moments for you to feel the slimy tickle of something against your cumslit. Only a moment or two more to see one of the slippery, thumb-sized slugs starting to compress itself and wriggle its gooey head into your urethra.

The experience is a little surreal. It doesn&#39;t *hurt*, but it feels distinctly *unpleasant* as the foreign creature begins to slip and heave itself down your cumtube.

$npcV[&quot;Amorid slugs,&quot;] the chimera begins as you feel your cock forced open around it. You have to bite your tongue gently as the oily bulk of that gastropod urges itself eagerly down your cock. $npcV[&quot;Are named that because they, mm, make one... //amorous//.&quot;]

You feel the kiss of a second slug investigating your tip as you wriggle in place, feeling your dick being spread open. Then, with an unsettling *schlorp*, the first of the gastropods manages to squash and compress its body enough to squelch the whole way inside. You&#39;re left writhing as its partner begins to rub its feelers along the crown of your dick.

$npcV[&quot;Their oils are a potent, (text-style: &quot;smear&quot;)[&#39;&#39;potent&#39;&#39;] mm... aphrodisiac,&quot;] the chimera says, eyes fixed on your dick as the first bulge travels down your urethra.


[[&gt; &quot;Fuck...&quot;-&gt;amorid3]]
](else:)[You wriggle a little into a more comfortable position as you maneuver the bottle. In a few moments you&#39;ve slid a little further down the seat to give you room to ease the neck of the bottle to your cunt. This has the side effect of giving the chimera a better view of your assets, and you can see them smiling very appreciatively.

It only takes a few moments for you to feel the slimy tickle of something against your labia. Your toes curl as that slippery, thumb-sized slug starts to feel over your sex, only then to begin to squash itself inside.

It&#39;s small. It&#39;s not that big at all. Yet as you feel the very living, very squirming slug start to squash itself into your cunt, you can&#39;t help but softly gasp, the gastropod beginning to squelch and squirm its way into your depths.

It feels cool and distinctly unpleasant as it inches its way in through your folds, while the kiss of a second slug starts to slime up your lips.

$npcV[&quot;Amorid slugs,&quot;] the chimera begins as you feel the first one wriggling its way in *deep*. Very deep. You don&#39;t think you could easily get it back out, now. $npcV[&quot;Are named that because they, mm, make one... amorous.&quot;]

You feel the first slug investigating you as the second one slithers over your cleft, then starts to gently *urge* itself against your pussy. You know that you only have a moment to pull the bottle away before the gastropod will be squirming its way inside your body.

$npcV[&quot;Their oils are a potent, (text-style: &quot;smear&quot;)[&#39;&#39;potent&#39;&#39;] mm... aphrodisiac,&quot;] the chimera says, eyes fixed on your pussy as the slugs begin to disappear from the glass, migrating to a much warmer home.


[[&gt; &quot;Fuck...&quot;-&gt;amorid3]]]</tw-passagedata><tw-passagedata pid="163" name="amoridNo" tags="final" position="1106,3603" size="100,100">$roomname[The Carriage - The Chimera&#39;s Jars]

You politely decline the chimera&#39;s offer to let an unknown parasite infest your body. While you&#39;re sure that their promise of no harm coming to you *might* be genuine, the City of Nodd has all sorts and you could be signing yourself up to a grisly end, or worse.

You hold the bottle back to the insider, who shrugs and accepts it.

$npcV[&quot;Fair, friend, fair,&quot;] they chuckle. $npcV[&quot;Amorid slugs are so called because once they are inside you, they will make you, mm... amorous,&quot;] the insider explains as the carriage jostles and thunks over the City streets. $npcV[&quot;Their slime is a deeply potent aphrodisiac. The sort that is on par with the Rouse spell, yes? It only grows with time.&quot;]

The chimera pats the flask gently, watching you from their seat as the carriage thumps over a bridge. Outside the window you see a stream running through what looks to be some sort of park. &quot;(colour: #33cc11)[Pundlepox Gardens]&quot;, you see written on an arcanogram signpost.

$npcV[&quot;Of course, their hosts still live productive lives,&quot;] the chimera continues. Then, with a chuckle, $npcV[&quot;(text-style: &quot;smear&quot;)[&#39;&#39;Very&#39;&#39;] productive. But the distraction? Quiiite potent. One of the less dangerous creatures I have here, but one of the more, mm, expensive. I never mind parting with a pair for... interesting creatures like yourself, though.&quot;](set: $amoridSeen to true)


[[&gt; That&#39;s enough about their jars.-&gt;viviria conclusion]]
[[&gt; Ask about one of the other jars.-&gt;&gt; &quot;What&#39;s in the jars?&quot;]]</tw-passagedata><tw-passagedata pid="164" name="amorid3" tags="final" position="803,3786" size="100,100">$roomname[The Carriage - The Chimera&#39;s Jars]

(if: $cock is true)[You groan out loud as the bulge oozes and slithers its way down the confines of your urethra. You writhe and wriggle in your seat as the second slug starts to urge its way inside as well, stretching you open once again.

It&#39;s like some slimy, living sounding rod that urges itself inside. The pair sink slowly down your cock, leaving you trembling as the chimera watches on, rapt.

$npcV[&quot;Just two,&quot;] they urge, and you feel a clammy hand taking hold of the bottle, inching it away from your dick again. $npcV[&quot;Two is a breeding pair, yes? They&#39;ll make a nice home inside you... and oh, if you thought you had been aroused in the past, friend, you are about to reconsider. A bell, maybe two, and these two friends will have you so desperate to fuck that it will be all you can think of,&quot;] they chuckle, stoppering the bottle once again. $npcV[&quot;And with two, they will keep reproducing, yes. Make sure to cum often so that your insides do not get too... crowded. Perhaps with a friend, so they will, mm, feel it, too.&quot;]

The chimera tucks the bottle back to their belt and leans back, watching as you sit there, the second slug wriggling and squirming its way into your reproductive tracts. You&#39;re left fidgeting and groaning softly in your seat as a *warmth* starts to build in your groin as the slugs inch further in, coming to settle somewhere near your prostate... or perhaps even in it.

As you sit there, you can feel the pair start to slide and wriggle over one another, forcing your cock to stiffen and swell. Your heart starts to pump a little harder as the warmth begins to permeate outwards, filling your veins.

$npcV[&quot;If you are greatly concerned, you can always find the Purge spell, no? But I think you will find that you, like so many before you agree... why would you want to be rid of them?&quot;] the chimera asks with a toothy smile. They settle on their seat as you pant, feeling slow waves of *pleasure* radiate from your cock, along with a slow-burning itch to start furiously pleasuring yourself. You can only imagine how the feeling might grow with time...


[[&gt; Grip the seat and try to ride out the remainder of the trip.-&gt;viviria conclusion]]
[[&gt; Try to ask about another jar without your voice quavering.-&gt;&gt; &quot;What&#39;s in the jars?&quot;]]
](else:)[You moan softly as the second slug wriggles and inches itself into your pussy, sliding slickly between your folds. You squeeze around the pair of gastropods, but they seem unfazed by your contractions, settling for squirming deeper into your body.

$npcV[&quot;Just two,&quot;] the chimera urges, and you feel a clammy hand taking hold of the bottle, inching it away from your cunt again. $npcV[&quot;Two is a breeding pair, yes? They&#39;ll make a nice home inside you... and oh, if you thought you had been aroused in the past, friend, you are about to reconsider. A bell, maybe two, and these two friends will have you so desperate to be fucked that it will be all you can think of,&quot;] they chuckle, stoppering the bottle once again. $npcV[&quot;And with two, they will keep reproducing, yes. Make sure to let a dick fill you often so that your insides do not get too... crowded. Or if that is not your thing, then to at least, mm, have much fun, yes?&quot;]

The chimera tucks the bottle back to their belt and leans back, watching as you writhe there on the seat as the second slug wriggles and squirms its way inside you after the first. You bring your finger down to your folds, but the gastropods are too deep inside you to feel, even when you push as deeply in as you can - nevermind the chimera delightedly watching you do so.

Warmth starts to spread through your lower belly as the slugs squirm and slither inside you, compressing and squelching their way through your inner barriers, penetrating depths you didn&#39;t think they *could* wriggle into. When the oily ache of a living gastropod starts to urge itself through your cervix, putting you into seat-gripping discomfort, the chimera nods knowingly.

And then they&#39;re both inside. Deep enough that you know with toe-curling certainty that there&#39;s no getting them back out again. So all you can do is ride it out as a creeping, flush *warmth* begins to spread through your belly, almost like a very slow-building heat.

$npcV[&quot;If you are greatly concerned, you can always find the Purge spell, no? But I think you will find that you, like so many before you agree... why would you want to be rid of them?&quot;] the chimera asks with a toothy smile. They settle on their seat as you pant, feeling slow waves of *pleasure* trickle into your cunt, leaving you wriggling and writhing in place as you start to grow slick from more than just the slug&#39;s slime.


[[&gt; Grip the seat and try to ride out the remainder of the trip.-&gt;viviria conclusion]]
[[&gt; Try to ask about another jar without your voice quavering.-&gt;&gt; &quot;What&#39;s in the jars?&quot;]]](set: $amorid to true)(set: $amoridSeen to true)</tw-passagedata><tw-passagedata pid="165" name="drink1" tags="final" position="5918,3226" size="100,100">$roomname[The Carriage - The Nurk]

$npcP[&quot;It&#39;s... tea.&quot;] He peers down into his cup with one whiskered brow quirked as though not entirely sure. He gives it a swirl, and swirl it does; it&#39;s a lovely, deep cobalt color with whorling ribbons of bright azure, scintillating like a spiral galaxy within the humble confines of his gnarled cup. You see glittering particulate churn around within the shifting colors, mesmerizing to behold - so much so that his raspy voice somewhat jars you out of your appreciation of it.

$npcP[&quot;It&#39;s supposed to help me sleep,&quot;] he adds with a weary and exasperated sigh.


[[&gt; &quot;Does it work?-&gt;drink2]]
[[&gt; &quot;Why are you trying to sleep on a carriage?&quot;-&gt;drink3b]]</tw-passagedata><tw-passagedata pid="166" name="drink2" tags="final" position="5921,3398" size="100,100">$roomname[The Carriage - The Nurk]

The nurk lowers the cup for a moment, eyes darting from side to side as though to search for a succinct way to explain his situation.

$npcP[&quot;Well, yeah, actually. But also... no. And... well... it&#39;s caused more trouble than it&#39;s solved.&quot;]

Through the window, you notice a pawn helpfully fumigating a crowd with some sort of obscuring haze. Excited jeering and sounds of fighting follow shortly thereafter. Someone in the crowd hurls something fist-sized at the side of the carriage; the resulting thunk jars the nurk awake once again.


[[&gt; &quot;How so?&quot;-&gt;dreams1]]
[[&gt; &quot;Why are you drinking it, then?&quot;-&gt;drink3a]]
[[&gt; &quot;Why are you trying to sleep on a carriage?&quot;-&gt;drink3b]]
</tw-passagedata><tw-passagedata pid="167" name="drink3b" tags="final" position="6029,3585" size="100,100">$roomname[The Carriage - The Nurk]

$npcP[&quot;I&#39;m not!&quot;] the nurk quickly protests, looking anxious. Then he settles a little and looks around awkwardly. He tries to keep his brew from spilling as the carriage jolts and bounces along the roadway. $npcP[&quot;I-I&#39;m, uh... I&#39;m addicted to the stuff.&quot;]

His ears go a bit limp with shame. 

...and then he takes another sip.


[[&gt; &quot;Oh.&quot;-&gt;psilysium3]]</tw-passagedata><tw-passagedata pid="168" name="dreams1" tags="final" position="6236,3582" size="100,100">$roomname[The Carriage - The Nurk]

You ask the nurk how a drink could cause him so much trouble. Perhaps it&#39;s some kind of drug? 

The nurk shuffles his feet wearily, gently resting the cup of mysterious liquid on the plush swell of his sheath. $npcP[&quot;It cured my insomnia, b-but... now I have the most vivid dreams. And... And recently I&#39;ve been having (text-colour:purple)[(char-style:(text-style:&quot;fidget&quot;,&quot;smear&quot;))[**n-nocter**]] dreams...&quot;]

He almost whispers the word to you, wincing as his whiskers twitch nervously. He blinks heavily a few times, as if trying to stave off sleep again.


[[&gt; &quot;Nocter dreams?&quot;-&gt;dreams2]]
[[&gt; &quot;Why are you drinking it, then?&quot;-&gt;drink3a]]</tw-passagedata><tw-passagedata pid="169" name="drink3a" tags="final" position="5856,3571" size="100,100">$roomname[The Carriage - The Nurk]

As you ask the nurk why he continues drinking the swirling brew, he gives a quiet yet audible sigh. Whiskers twitching, he glances around the carriage. $npcP[&quot;B-because I&#39;m addicted to the stuff,&quot;] he quietly admits. He tries to keep his brew from spilling as the carriage jolts and bounces along the roadway, and his ears go a bit limp with shame. 

...and then he takes another sip.


[[&gt; &quot;Oh.&quot;-&gt;psilysium3]]</tw-passagedata><tw-passagedata pid="170" name="psilysium3" tags="final" position="5913,3840" size="100,100">$roomname[The Carriage - The Nurk]

An uncomfortable silence looms within the carriage, broken only by the clatter and *ka-thunks* of the wheels. You can see the nurk trying to keep his drink from spilling as best he can, but now and then little droplets splash over the edge to stain his purple fur and black mane.

The nurk continues intermittently slurping at the blue tea as he tries to stay awake. Every few ticks it seems his eyelids flutter shut, his posture slumping - before he jolts awake once more with a pronounced whisker-twitch.

He seems to be avoiding eye contact.


[[&gt; &quot;So, where are you headed?&quot;-&gt;psilysium4]]
[[&gt; Ignore him and gaze out the window.-&gt;psilysiumwindow2]]</tw-passagedata><tw-passagedata pid="171" name="psilysium4" tags="final" position="5887,4056" size="100,100">$roomname[The Carriage - The Nurk]

You ask the nurk where he&#39;s headed. Outside the window, you see a broad entryway wreathed by foliage with a series of sigils boldly proclaiming it to be some special garden or other. Before the arcanograms can resolve into meaning, the nurk manages to formulate an answer.

$npcP[&quot;I&#39;m h-headed to Psilysium. The owner of the t... tea company, some oggorus by-by the name of, um... (text-colour:#00f080)[Gulbus Phumberlugg], claims to be able to help any citizen c-chronically afflicted... by... (text-style:&quot;sway&quot;, &quot;blur&quot;)[nocters...&quot;]]

He nods off for a few seconds - and then lurches back awake with a sharp (char-style:(text-style:&quot;fidget&quot;))[snort]. $npcP[&quot;...I&#39;m not sure of...&quot;] He trails off as he yawns, then, his muzzle opening wide to show off his rows of mismatched little fangs. With a little smack of his lips as he blinks heavily, he continues.

$npcP[&quot;...I&#39;m not sure of... of the d-details, but... if anyone can help- help me with this, surely a m-m-mage of Psilysium can. Phumberlugg in p-particular is app... apparently quite versed in all things d-dreams and... sleep.&quot;]


[[&gt; &quot;I see.&quot;-&gt;psilysium5]]</tw-passagedata><tw-passagedata pid="172" name="dreams2" tags="final" position="6183,3783" size="100,100">$roomname[The Carriage - The Nurk]

You ask the nurk for more information about his nocter dreams. He gives you a sleepy look, his pierced ear twitching as his toes wiggle. $npcP[&quot;Have you not heard of n-nocters, outsider? That&#39;s probably f-for the- for the best... even this conversation increases the l-likelihood of them i-i-invading your dreams,&quot;] he says, almost whispering the last part as though afraid of someone overhearing. $npcP[&quot;You know about... t-them... so now t-they can get... *in* your head... or out of it?&quot;] he wonders, aloud.

Then he pauses, realizing the same is true for him - but he quickly shakes his head and continues.

$npcP[&quot;They&#39;re little... impish things... creatures that appear during a d-dream, and try to wake you up somehow. If they succeed, they f... follow you to the waking life. And torment you! Horrid, t-terrible creatures!&quot;] he insists with a worried glance about the carriage, as if expecting a nocter to be dangling from the ceiling.

He swallows uneasily, then takes a large gulp of his tea.


[[&gt; &quot;Then what happens?&quot;-&gt;dreams3]]
[[&gt; &quot;So... why are you still drinking the tea?&quot;-&gt;drink3a]]</tw-passagedata><tw-passagedata pid="173" name="dreams3" tags="final" position="6169,3937" size="100,100">$roomname[The Carriage - The Nurk]

The nurk&#39;s eyes widen and his claws clutch a little tighter around his cup. $npcP[&quot;Well, that&#39;s where they become trouble!&quot;] His voice comes a little quicker now, sounding distressed. $npcP[&quot;You see, you wake up, (text-style: &quot;smear&quot;)[**s-surrounded**] by these cackling things - who then proceed to do all m-manner of terrible things to you! After they&#39;ve had their fun with you, they run off to harass o-others in the waking world - which might make (text-style: &quot;smear&quot;)[**those**] people dream up even (text-style: &quot;smear&quot;)[**more**] nocters!&quot;]

You notice his little, fuzzy chest rising and falling quickly, his bumpy nostrils flaring. Outside, you hear someone coughing loudly as they walk through a cloud of purplish haze - the nurk jumps with the sound of the cough, on the verge of panic.


[[&gt; &quot;That sounds kinda fun honestly.&quot;-&gt;dreams4a]]
[[&gt; &quot;That sounds like nonsense. Why have I never seen one, then?&quot;-&gt;dreams4b]]
[[&gt; &quot;I see.&quot;-&gt;psilysium3]]
[[&gt; &quot;So... why are you still drinking the tea?&quot;-&gt;drink3a]]</tw-passagedata><tw-passagedata pid="174" name="dreams4a" tags="final" position="6097,4073" size="100,100">$roomname[The Carriage - The Nurk]

The nurk stammers, looking at you with one eye twitching in horror. $npcP[&quot;F-Fun?! Well I&#39;ll have you know- I-... hff! M-M-May your dreams be horrid and nocter-filled, then! Let me know how much (text-style:&quot;rumble&quot;)[&quot;fun&quot;]  you have!&quot;] He clutches his cup tightly, then takes a large slurp of the shimmering blue liquid. He stares at you, then takes a second one for good measure. $npcP[&quot;Have you any i-idea how many sleeps I&#39;ve gone near (text-style: &quot;smear&quot;)[**sleepless**]?! And that&#39;s the b-better alternative,&quot;] he asserts, gesticulating with one clawed hand while his other carefully keeps hold of his cup.

The nurk turns away slightly, muttering into his cup. $npcP[&quot;W-What do you know, anyway? D-ditch fodder.&quot;]

The nurk&#39;s tail twitches in agitation and he gazes fastidiously out one of the windows. Now and then his eyes dip downwards and into his tea before he takes a sulking sip.

He seems to be ignoring you now. It looks as though the rest of the journey will be spent in silence.


[[&gt; Gaze out the window.-&gt;psilysiumwindow3]]</tw-passagedata><tw-passagedata pid="175" name="dreams4b" tags="final" position="6350,4081" size="100,100">$roomname[The Carriage - The Nurk]

You express your doubts and ask the nurk why you haven&#39;t ever seen a catastrophe of nocters plaguing you or others around you, and the nurk grimaces. He shuffles down a little deeper in his seat, then sucks down another sip of his swirling blue tea.

$npcP[&quot;Th-they disappear after a short time,&quot;] he scrambles to explain, ears lying flat. His eyes dip down to the floor, then he takes another quick drag of his tea. $npcP[&quot;Until some o-other poor citizen d-d-dreams them back up! You can&#39;t.. get r-rid of them, really. The more you think about t-t-.. *them*.. the more there are!&quot;]


[[&gt; &quot;That makes sense.&quot;-&gt;psilysium3]]
[[&gt; &quot;Whatever you say.&quot;-&gt;dreams5]]</tw-passagedata><tw-passagedata pid="176" name="psilysium5" tags="final" position="5911,4217" size="100,100">$roomname[The Carriage - The Nurk]

With the conversation having turned to dreams and sleep, the nurk manages to keep himself awake by stammering slowly through some of what he&#39;s heard about this mysterious oggorus. Outside, the districts slowly change to a faintly subdued purplish-blue hue characteristic of Psilysium.

The nurk yawns loud and long, taking a big sip of his drink. By now he&#39;s depleted enough of it that it no longer poses any risk of spilling, at least. But it&#39;s then that you hear Crusty&#39;s voice call out that you&#39;re nearing your destination - perhaps more time passed than you realized. With a trundling thump, the carriage slows to a stop.

$npcP[&quot;O-oh? I didn&#39;t d-doze off?&quot;] the nurk says with a sleepy note of cheer and surprise both. He lets out a long sigh of relief, both eyes closed, and for several ticks looks like he might have fallen asleep at the finish line. But then his pink eyes open again and he smiles at you, nose all a-twitch. $npcP[&quot;Looks like th-this is it. May the City speak your n-name, stranger.&quot;]

As the carriage rolls to a stop, the nurk slides down onto the floor, then sleepily exits the carriage.(set: $psinurk to &quot;awake&quot;)


[[&gt; Disembark.-&gt;psiconclusion]] </tw-passagedata><tw-passagedata pid="177" name="nocter1" tags="final" position="6368,4367" size="100,100">$roomname[The Carriage - The Nocters]

The trio crowds around the rudely-awakened nurk and begins to grab and tug at various parts of him with their inky claws. The one to the nurk&#39;s left strokes his head lovingly and gives him a long, slimy lick up the side of his face. The dopey-looking one to his right tilts its head back upright, then ninety degrees the opposite direction while continuing to stare blankly. Its especially wide shaft nears full mast... or so you&#39;d surely *hope*, at the size it is already. The one atop the nurk&#39;s head grabs onto his ears, standing upright and hanging on and using the nurk&#39;s ears like reins! The nurk shrieks and flails, slapping and kicking, scrambling to get past the giggling imps and towards the carriage door.

With the carriage still bouncing and moving mid-journey, the nurk scrabbles for the door handle and manages to wrench it open. The nocters receive several kicks and smacks from the flailing nurk, just enough to weaken their grip for him to squirm free and escape. The door swings dangerously outwards as the roadway whizzes by below and, with a shriek of fright, the nurk leaps from the vehicle and into what you can see is already the Psilysium district.

A surprised noise comes from the front of the carriage, and you feel the vehicle begin to slow to a slightly early stop.

The nocters start to follow but then pause, looking from one another, to you, and back to one another. Two of them nod in unison, and the one that was atop the nurk&#39;s head hops down from the seat to slam the door closed. It stands there, bodily blocking it as the third, vacant-looking nocter finally nods as well.

And then, all three again turn to you. They smile wide, each showing off a mouthful of black-purple fangs. Ethereal giggles fill the carriage as they close in on you...


[[&gt; ...-&gt;nocter2]]</tw-passagedata><tw-passagedata pid="178" name="nocter2" tags="final" position="6155,4457" size="100,100">$roomname[The Carriage - The Nocters]

With the door blocked you have nowhere to go. The cackling creatures clamber their way onto you, their cocks half-hard and dripping, except for the dopey-looking one who is already wielding its fully erected battering ram with all the awkwardness one would expect.

The one that previously had been perched atop the nurk climbs all the way up to your face, clasping its hands behind your neck. Its breath is cold, the scent strange and overpowering, like something between ozone and incense. You can feel its sheath bulging against your chest, its cocktip smearing glistening slime trails over your body as it shamelessly humps and grinds against you without hesitation or concern.

Below, you feel claws pierce any garments you might have had, shredding them and tearing them from your frame. Then you feel hands intrusively groping and kneading as rigid cocks grind and drool over various parts of you.


[[&gt; Scream for help.-&gt;nocter3a]] [CW: noncon]
[[&gt; Fight back.-&gt;nocter3b]] [CW: choking]
[[&gt; Let them do as they will.-&gt;nocter3c]] </tw-passagedata><tw-passagedata pid="179" name="nocter3a" tags="final" position="5995,4620" size="100,100">$roomname[The Carriage - The Nocters]

You scream as loud as you can for help, but the driver does nothing - except to open the carriage privacy slit and turn around to watch. You can even see one of its arms moving in a rhythmic fashion as he grins perversely at you.

The nocter on your face leans in, cutting off your scream with a deep, forceful kiss. It probes its slimy tongue deep down your throat, its undulations causing bulges all along the length of your neck. The strange, almost caustic taste of its saliva becomes even more apparent as you manage to do little more than gag and gulp around the fatness of its lengthy, invading tongue.

The other two grab at your ass(if: $breasts is true)[ and breasts, claws finding their way to your teats, which they cruelly pinch and tug. Purely for their own amusement, however, as their grabby little claws and digits are harsh and careless with each squeeze and yank.](else-if: $cock is true)[ and cock, which they squeeze and tug enthusiastically. Purely for their own amusement, however, as their grabby little claws and digits are harsh and careless with each squeeze and yank.](else:)[ and grope at your cheeks, spreading them apart and trying to gawk at what assets you have with shameless enthusiasm.]


(if: $cunt)[[[&gt; ...-&gt;nocter5avag]]](else-if: $cock is true)[[[&gt; ...-&gt;nocter5acock]]](else:)[[[&gt; ...-&gt;nocter5aneither]]]
[[&gt; Fight back.-&gt;nocter3b]] </tw-passagedata><tw-passagedata pid="180" name="nocter3b" tags="final" position="6342,4622" size="100,100">$roomname[The Carriage - The Nocters]

You react quickly, sucking in a sharp breath of air as you tap into your fighting reflexes. The creatures are relatively small and don&#39;t look too strong, so you take a risk and snatch one of the nocter&#39;s necks in two hands. You&#39;re able to get a surprisingly good grip almost immediately, immobilizing the ethereal creature.

The nocter&#39;s smoky eyes go wide and bug out as its grabby little claws clutch and squeeze at your wrists. It struggles and squirms, coughing and gagging and putting on an impressive show of distress and suffocation even though you&#39;re not applying any pressure at all yet.

The other two nocters suddenly look alarmed, caught off-guard by your resistance. They clutch at one another and screech and scream in a mutual cacophony of distress at the turn of events.


[[&gt; Strangle it to death.-&gt;nocter4b]]
[[&gt; Let it go.-&gt;nocter4d]]</tw-passagedata><tw-passagedata pid="181" name="nocter3c" tags="final" position="6161,4620" size="100,100">$roomname[The Carriage - The Nocters]

You don&#39;t fight. You don&#39;t scream out - perhaps you know there&#39;s little point. Instead, you let the trio continue their advance.

Suddenly all three of the creatures hesitate in their motions, glancing again at one another and then back to you. One of them suddenly grins, its many teeth flashing.

$npcN[&quot;Oh, hey! This one&#39;s into it! Or at least is a total pushover bitch,&quot;] the more talkative of the three says. 

$npcN[&quot;AhahehuhueEEAAAa that almossstt makes iiittt lesss fuunnnNNHHn.. but not quiiitteeee,&quot;] the one that was previously sprawled to the nurk&#39;s left - the manic one - chimes in. The third nocter, dopey and especially fat of dick, blinks its eyes out of unison and nods several times. 

$npcN[&quot;Yup,&quot;] he philosophizes.

The creature right up in your face strokes your features some more with a loving, though perhaps not quite genuine, caress. 

The other two grab at your ass(if: $breasts is true)[ and breasts, claws finding their way to your teats, which they cruelly pinch and tug. Purely for their own amusement, however, as their grabby little claws and digits are harsh and careless with each squeeze and yank.](else-if: $cock is true)[ and cock, which they squeeze and tug enthusiastically. Purely for their own amusement, however, as their grabby little claws and digits are harsh and careless with each squeeze and yank.](else:)[ and grope at your cheeks, spreading them apart and trying to gawk at what assets you have with shameless enthusiasm.]


(if: $cunt is true)[[[&gt; ... &#96;(cw: gangbang)&#96;-&gt;nocter5avag]]](else-if: $cock is true)[[[&gt; ... &#96;(cw: cock fucking, gangbang)&#96;-&gt;nocter5acock]]](else:)[[[&gt; ...&#96;(cw: gangbang)&#96;-&gt;nocter5aneither]]]</tw-passagedata><tw-passagedata pid="182" name="nocter4b" tags="final" position="6350,4770" size="100,100">$roomname[The Carriage - The Nocters]

Set on defending yourself, you clench harder at the throat of the purple creature. Its already wide eyes go wider in a realization that you&#39;re not only serious but intend to follow through! Its flailing becomes even more emphatic as the nocter&#39;s choked gurgles muffle quickly. Your fingers collapse its throat as it kicks and thrashes urgently, clutching at your hands. But surely and surprisingly quickly, its kicks and struggles grow weaker, then slowly begin to falter altogether as it gives a choked whimper. Its smoky eyes slowly lose their shimmering glow as it starts to dangle in your grip.

It takes surprisingly little time after that before it abruptly (text-colour:magenta)[*POOFS*] out of existence in a literal cloud of violet smoke, your hands suddenly clasping around nothing. 

The other two remain staring at you in shock, still embracing one another. Their expressions twist into a caricature of disbelief, shock, and abject horror. The two glance at one another... then leap from the carriage&#39;s door and flee, happy to seek out less violent marks.


[[&gt; ...-&gt;nocter5b]]</tw-passagedata><tw-passagedata pid="183" name="nocter5b" tags="final" position="6565,5112" size="100,100">$roomname[The Carriage - The Nocters]

With the departure of the trio of nocters, you see that the slit at the front of the carriage has slid open. Crusty, the lehlt driver peers at you through it with a grimace on his muzzle. He spits off the side of the carriage, then shrugs.

You can sense a hint of surprise at the turn of events - if not also a bit of disappointment at the lack of a show. He turns back around, but then tilts his head just enough to glance back at you over his shoulder.

$npc[&quot;You gettin&#39; out? Ride&#39;s over if there ain&#39;t a show, so time to get lost - or found. Whatever, just don&#39;t be here for it,&quot;] he grumbles.


[[&gt; Shakily disembark.-&gt;psiconclusion]] </tw-passagedata><tw-passagedata pid="184" name="nocter4d" tags="final" position="6550,4798" size="100,100">$roomname[The Carriage - The Nocters]

Your pulse races as you clench at the creature&#39;s neck with your digits, feeling the slow *throb* of its pulse beneath your grip. Whether or not nocters are truly alive aside, right here and now its existence dangles in the literal clutch of your grasp. You squeeze a bit, making the nocters body jerk in terror-

...but then you relent and let go. The nocter slumps, staggering backwards to stare at you. It gasps a deep breath of precious air as its clawed hands reach up to grab at its throat in lingering shock.

It looks at the other two, still embracing one another in mutual, if somewhat comical terror. They all exchange a silent glance, then rapidly scramble over each other to open the carriage&#39;s door and flee as swiftly as they can, happy to seek out less feisty victims.


[[&gt; ...-&gt;nocter5b]]</tw-passagedata><tw-passagedata pid="185" name="nocter5a" tags="final" position="6204,5445" size="100,100">$roomname[The Carriage - The Nocters]

Chime by chime the trio begin to finish as their respective orgasms taper off, each one looking all the more content and delighted at their use of your body, though no less manic even in their spent state. For a nocter, however, such a state may not last long at all.

(if: $cunt is true)[Your cunt is left loosened and drooling a slimy stream of purple fluids that cascade down in goopy strands, joining with the same from your ass, making an utter mess of the space between your thighs. You can&#39;t even quite manage to squeeze *either* of your holes closed.](else-if: $cock is true)[You end up slumped against the carriage, your aching and ruined cock twitching weakly against the cushion as the nocter smoothly withdraws inch after inch *after inch* of its still mostly-hard dick. Your shaft slumps over the cushion, gaping and drooling purplish cum that isn&#39;t your own. Your whole cock tingles and burns from the ordeal as a similar slime oozes from your ass, the fluids dripping from your urethra a mocking indication of what just happened. From your mouth leaks even more of the trio&#39;s spunk, making a mess of your body and the seat beneath you.][(else:)[With the pair nailing your ass finished you&#39;re left to slump into the seat, a veritable flood of nocter jizz glorping and leaking out of you to soak the cushioned carriage seat. The seat floods so much that it drools over the front edge in lazy strands to slap and splat onto the carriage floor below.]

The dopey nocter&#39;s orgasm is the last to finish, its shaft softening gradually to a point that it seems almost possible for him to lug it around. Its sheath sits noticeably fatter than the other two&#39;s, and several inches of dick remains poking from its sheath even when &quot;soft&quot;. You&#39;re too busy hacking and coughing in an attempt to clear your airway to do much as the three creatures finish up with your body and disengage, satisfied enough for now with you and eager to cause havoc elsewhere to other &quot;lucky&quot; citizens. The chatty leader shoves the door open and gestures to the others. The dopey one sits there, dick jutting forth, staring at you blankly until the other two grab its arms and haul it out the carriage door onto the streets.

As soon as the creatures are outside the carriage you hear a commotion in the street - surely that of several citizens recognizing and trying to avoid the nocters. The trio quickly scurry out of sight in search of another victim, though, and are gone.

It&#39;s then, bedraggled and cum-soaked, that you notice Crusty peering at you through the slit at the front of the carriage. $npc[&quot;You gettin&#39; out?&quot;] he grumbles, seeming to ignore the present situation. You can only answer with a slow, goopy *gush* of slime that rolls helplessly from your ass.

As you move to disembark you notice something upon the seat opposite of you where the nurk was sitting prior to your... nocter engagement.


[[&gt; Examine it more closely.-&gt;teacontainer]]</tw-passagedata><tw-passagedata pid="186" name="dreams5" tags="final" position="6202,4188" size="100,100">$roomname[The Carriage - The Nurk]

The nurk turns away slightly, muttering into his cup. $npcP[&quot;W-What do you know, anyway? *Ditch fodder.*&quot;]

The nurk&#39;s tail twitches in agitation and he gazes fastidiously out one of the windows. Now and then his eyes dip downwards and into his tea before he takes a sulking sip.

He seems to be ignoring you now. It looks as though the rest of the journey will be spent in silence.


[[&gt; Gaze out the window.-&gt;psilysiumwindow3]]</tw-passagedata><tw-passagedata pid="187" name="vorn3" tags="final" position="3515,3285" size="100,100">$roomname[The Carriage - The Duo]

Suddenly, the dark-haired lehlt catches on to what Linivia is doing and immediately whips her head around with an exasperated scowl. $npcV1[&quot;Linivia, put that dirty thing away.&quot;]

Linivia&#39;s expression becomes a pleading and upset one. $npcV2[&quot;But Laire!&quot;] she protests. $npcV2[&quot;You have (text-style: &quot;smear&quot;)[&#39;&#39;yours&#39;&#39;] out!&quot;]

Laire stops dead, primly arches her eyebrows, then stares at Linivia as though she had just accused her of a most unforgivable affront. Linivia&#39;s head shrinks a little away, neck bending beneath the weight of Laire&#39;s gaze.

Meekly she adds, $npcV2[&quot;I told her she&#39;d get to mingle...&quot;]


[[&gt; ...-&gt;vorn4]]</tw-passagedata><tw-passagedata pid="188" name="vorn4" tags="final" position="3515,3433" size="100,100">$roomname[The Carriage - The Duo]

With a squeeze that looks to be nearly bone-crushing to the poor microcitizen, Laire violently grasps the creature she had applied makeup with within her palm before mashing it forcefully against the compact holding the makeup. She has to pause in her visible fuming to concentrate, causing the compact, along with the microcitizen-applicator, to become slowly less solid in appearance before popping fully out of existence - in this present space, at least.

$npcV1[&quot;Mine is a tool, nothing more. Disposable. A distinction you seem unable to remember.&quot;]

A heavy silence settles over the interior of the carriage. It trundles along for a few moments. Linivia eventually turns her attention back to the micro.

$npcV1[&quot;Linivia... (text-style: &quot;smear&quot;)[**no one**] will be bringing their (text-style: &quot;smear&quot;)[**tenderlings**] along,&quot;] she continues.

$npcV1[&quot;Including you. There will be (text-style: &quot;smear&quot;)[**immortals**] there, for Nodd&#39;s sake. This isn&#39;t some... dinner party in the Slough.&quot;]

Laire glowers at Linivia, who pauses to turn to her, appearing a bit hurt. $npcV2[&quot;Y-you said you had fun at Sleetchy&#39;s last trisk.&quot;]

The dark-haired head lets out an impatient sigh. $npcV1[&quot;If you don&#39;t put it away this instant, I&#39;m throwing it out the window. That will be... what, number three? Just this phase?&quot;]

$npcV2[&quot;Mylla&#39;s special! Don&#39;t compare her to the others! She&#39;s never bit me, never pooped where she wasn&#39;t supposed-&quot;]

$npcV1[&quot;&#39;Mylla&#39; is a (text-style: &quot;smear&quot;)[**salad garnish**] you refused to eat,&quot;] Laire hisses. $npcV1[&quot;City&#39;s (text-style: &quot;smear&quot;)[**eyes**], Linivia, you&#39;re humiliating us in front of a stranger!&quot;]


[[&gt; &quot;I feel humiliated just watching this.&quot;-&gt;vorn5]]
[[&gt; &quot;Nothing wrong with a little fun.&quot;-&gt;vornFun]]</tw-passagedata><tw-passagedata pid="189" name="vorn5" tags="final" position="3431,3583" size="100,100">$roomname[The Carriage - The Duo]

You agree with Laire that it isn&#39;t particularly proper lehlt behavior to be playing with microcitizens in front of strangers. Laire snaps her gaze back to Linivia, equal parts validated and mortified. (set: $laire to 1)(set: $linivia to 0) 

$npcV1[&quot;See?&quot;] she says. Her gaze only grows more severe until the lighter-haired lehlt finally seems to surrender, drooping as gingerly snatches up &#39;Mylla&#39;, and her relevant accessories. While visibly holding back tears she begins to attempt focusing but ends up sobbing, fumbling her attention midway-through. The micro, half-ghostly, suddenly snaps back into full physicality and falls onto the seat, several inches away, along with several of its accessories.

The fumble seems to draw yet more of Laire&#39;s ire, causing her other half to hurriedly attempt again, pausing a few breaths to steady herself, before succeeding as the micro and items alike dematerialize with a faint shimmer, which leaves Linivia to sigh with slight relief.

$npcV1[&quot;Thank you. Now, I never want to see that thing again unless you&#39;re eating her or using her for something... you know. *Not* stupid,&quot;] she says. 

There&#39;s a brief silence in which Linivia appears to be trying to decide whether or not she wants to even bother.

$npcV2[&quot;They&#39;re not (text-style: &quot;smear&quot;)[**just**] tools and tenderlings,&quot;] Linivia finally says, attempting to push back, if sheepishly.


[[&gt; Agree with Laire - micros are for using or consuming.-&gt;vorn6]]
[[&gt; Agree with Linivia - micros can be citizens, too.-&gt;vornMicro]]</tw-passagedata><tw-passagedata pid="190" name="vorn6" tags="final" position="3426,3731" size="100,100">$roomname[The Carriage - The Duo]

(set: $laire to it + 1)You tell the dual lehlt that you agree with the darker haired of the two. Microcitizens aren&#39;t *real* people. And if they are real people, then they&#39;re the way they are for a *reason*, and you&#39;d be best suited to remember that. After all, everything has to eat, and the things being eaten don&#39;t *usually* want to be.

Linivia&#39;s expression falls, while Laire smiles a bit smugly.

$npcV1[&quot;See, Linivia? Even ditch fodder know better.&quot;]

Linivia looks out the window, then fidgets with her half of their plum-colored dress. It looks almost like she might cry - a curious thing to see in a lehlt. Laire hesitates, then softens her expression somewhat. She sighs emphatically.

$npcV1[&quot;Look, Linivia, I&#39;m just trying to watch out for us,&quot;] she assures. Linivia rolls her own eyes for a change, not meeting her gaze.

$npcV2[&quot;No, you&#39;re trying to watch out for (text-style: &quot;smear&quot;)[&#39;&#39;you&#39;&#39;].&quot;]

Laire frowns and reaches up to tilt Linivia&#39;s head back to face her. $npcV1[&quot;No, I&#39;m not. Do you have any idea how hard it is to get by as a wretched lehlt?&quot;] She gives the lighter-haired head a meaningful look.

$npcV2[&quot;I mean. Not... really that hard? I mean I have a friend who-&quot;]

$npcV1[&quot;(text-style: &quot;smear&quot;)[&#39;&#39;Extremely&#39;&#39;] hard, Linivia,&quot;] Laire interjects with a stern frown. $npcV1[&quot;And it&#39;s a fate I&#39;d like to save us both from. We survive because we are favored. Remember what mother taught us. Once a season, once a turn...&quot;]

(color: red)[*&quot;...but once seen, ever spurned,&quot;*] the two lehlt say in soft chorus, Linivia&#39;s shoulder slumping. Laire nods gravely.

$npcV1[&quot;I need *your* help to keep *us* out of the gutter, Linivia, figuratively and literally. Please, just... (text-style: &quot;smear&quot;)[**behave**] for this one party, and then you can... make tutus for Nylla out of tampons, or whatever you want.&quot;]

Linivia sniffles, then sighs. She lifts her arm and wipes both of her eyes carefully so as not to disturb the makeup present there, then crinkles her snout.


[[&gt; ...-&gt;vorn7]]</tw-passagedata><tw-passagedata pid="191" name="vorn7" tags="final" position="3515,3883" size="100,100">$roomname[The Carriage - The Duo]

$npcV2[&quot;It&#39;s Mylla, and that was once. And it was a condom.&quot;]

Linivia shakes her head. Laire rolls her eyes, then lifts her hand to brush a lock of her mane away from her eyes.

$npcV1[&quot;That&#39;s actually not much better, Lin.&quot;]

Linivia blushes, then looks out the window. She covers her mouth with the back of her hand. $npcV2[&quot;No, I suppose not. Should we really be discussing all of this in front of this stranger?&quot;] she asks. $npcV2[(if: $linivia is 2)[&quot;As pleasant company as they may be.&quot;](else-if: $linivia is 1)[&quot;Especially since I can&#39;t work out their stance.&quot;](else:)[&quot;Especially since they&#39;re so argumentative.&quot;]]

$npcV1[(if: $laire is 2)[&quot;Now who&#39;s being harsh, Linivia,&quot;](else-if: $laire is 1)[&quot;I think they might be trying to avoid taking either of our sides,&quot;](else:)[&quot;Pleasant for (text-style: &quot;smear&quot;)[**you**], maybe,&quot;]] Laire answers briefly.

$npcV2[&quot;I am a little interested in their opinion on microcitizen matters, though,&quot;] Linivia expresses, tilting her head a little towards you. Laire sighs, then waves her arm in assent.

$npcV1[&quot;Whatever. Just don&#39;t tell *them* anything about *us*... Word. Spreads.&quot;]

You see Linivia&#39;s eyes nearly sparkle.


[[&gt; &quot;Microcitizen matters?&quot;-&gt;vorn8]] </tw-passagedata><tw-passagedata pid="192" name="a" tags="final" position="4516,3150" size="100,100">{(if: $a is true)[(set: $a to false)](else:)[(set: $a to true)]
(if: $b is true)[(set: $b to false)](else:)[(set: $b to true)]
(if: $e is true)[(set: $e to false)](else:)[(set: $e to true)]}$roomname[The Carriage - A Misplaced Journal]

(if: ($a is true) and ($b is true) and ($c is true) and ($d is true) and ($e is true) and ($f is true) and ($g is true) and ($h is true) and ($i is true) and ($j is true) and ($k is true) and ($l is true) and ($m is true) and ($n is true) and ($o is true) and ($p is true))[&lt;center&gt;&lt;img src=&quot;https://nodd-arca.net/carriage/triangle_journal_unlocked.png&quot; width=400&gt;&lt;/center&gt;

With a satisfying *click*, the lock releases and pops open. The strap securing the book closed unlatches of its own accord and unfastens, slithering away from the triangular tome, leaving its contents entirely vulnerable to your eager, prying eyes.

Now you need but open it and read.

{&lt;audio autoplay&gt;
  &lt;source src=&quot;https://nodd-arca.net/carriage/unlock.wav&quot;&gt;
&lt;/audio&gt;}

[[&gt; Open the book.-&gt;psiAlt4]]
[[&gt; Disregard the book anyway.-&gt;psiAltClose]]](else:)[You attempt to open the journal.

{&lt;audio autoplay&gt;
  &lt;source src=&quot;https://nodd-arca.net/carriage/click.wav&quot;&gt;
&lt;/audio&gt;}

(if: $a is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;a]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;a]] ](if: $b is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;b]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;b]] ](if: $c is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;c]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;c]] ](if: $d is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;d]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;d]] ]
(if: $e is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;e]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;e]] ](if: $f is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;f]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;f]] ](if: $g is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;g]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;g]] ](if: $h is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;h]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;h]] ]
(if: $i is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;i]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;i]] ](if: $j is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;j]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;j]] ](if: $k is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;k]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;k]] ](if: $l is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;l]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;l]] ]
(if: $m is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;m]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;m]] ](if: $n is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;n]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;n]] ](if: $o is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;o]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;o]] ](if: $p is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;p]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;p]] ]


[[&gt; Stop tinkering with the lock.-&gt;psiAltClose]]]</tw-passagedata><tw-passagedata pid="193" name="b" tags="final" position="4731,3161" size="100,100">{(if: $a is true)[(set: $a to false)](else:)[(set: $a to true)]
(if: $b is true)[(set: $b to false)](else:)[(set: $b to true)]
(if: $c is true)[(set: $c to false)](else:)[(set: $c to true)]
(if: $f is true)[(set: $f to false)](else:)[(set: $f to false)]}$roomname[The Carriage - A Misplaced Journal]

(if: ($a is true) and ($b is true) and ($c is true) and ($d is true) and ($e is true) and ($f is true) and ($g is true) and ($h is true) and ($i is true) and ($j is true) and ($k is true) and ($l is true) and ($m is true) and ($n is true) and ($o is true) and ($p is true))[&lt;center&gt;&lt;img src=&quot;https://nodd-arca.net/carriage/triangle_journal_unlocked.png&quot; width=400&gt;&lt;/center&gt;

With a satisfying *click*, the lock releases and pops open. The strap securing the book closed unlatches of its own accord and unfastens, slithering away from the triangular tome, leaving its contents entirely vulnerable to your eager, prying eyes.

Now you need but open it and read.

{&lt;audio autoplay&gt;
  &lt;source src=&quot;https://nodd-arca.net/carriage/unlock.wav&quot;&gt;
&lt;/audio&gt;}

[[&gt; Open the book.-&gt;psiAlt4]]
[[&gt; Disregard the book anyway.-&gt;psiAltClose]]](else:)[You attempt to open the journal.

{&lt;audio autoplay&gt;
  &lt;source src=&quot;https://nodd-arca.net/carriage/click.wav&quot;&gt;
&lt;/audio&gt;}

(if: $a is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;a]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;a]] ](if: $b is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;b]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;b]] ](if: $c is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;c]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;c]] ](if: $d is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;d]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;d]] ]
(if: $e is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;e]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;e]] ](if: $f is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;f]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;f]] ](if: $g is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;g]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;g]] ](if: $h is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;h]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;h]] ]
(if: $i is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;i]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;i]] ](if: $j is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;j]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;j]] ](if: $k is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;k]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;k]] ](if: $l is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;l]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;l]] ]
(if: $m is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;m]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;m]] ](if: $n is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;n]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;n]] ](if: $o is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;o]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;o]] ](if: $p is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;p]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;p]] ]


[[&gt; Stop tinkering with the lock.-&gt;psiAltClose]]]
</tw-passagedata><tw-passagedata pid="194" name="c" tags="final" position="4893,3160" size="100,100">{(if: $b is true)[(set: $b to false)](else:)[(set: $b to true)]
(if: $c is true)[(set: $c to false)](else:)[(set: $c to true)]
(if: $d is true)[(set: $d to false)](else:)[(set: $d to true)]
(if: $g is true)[(set: $g to false)](else:)[(set: $g to true)]}$roomname[The Carriage - A Misplaced Journal]

(if: ($a is true) and ($b is true) and ($c is true) and ($d is true) and ($e is true) and ($f is true) and ($g is true) and ($h is true) and ($i is true) and ($j is true) and ($k is true) and ($l is true) and ($m is true) and ($n is true) and ($o is true) and ($p is true))[&lt;center&gt;&lt;img src=&quot;https://nodd-arca.net/carriage/triangle_journal_unlocked.png&quot; width=400&gt;&lt;/center&gt;

With a satisfying *click*, the lock releases and pops open. The strap securing the book closed unlatches of its own accord and unfastens, slithering away from the triangular tome, leaving its contents entirely vulnerable to your eager, prying eyes.

Now you need but open it and read.

{&lt;audio autoplay&gt;
  &lt;source src=&quot;https://nodd-arca.net/carriage/unlock.wav&quot;&gt;
&lt;/audio&gt;}

[[&gt; Open the book.-&gt;psiAlt4]]
[[&gt; Disregard the book anyway.-&gt;psiAltClose]]](else:)[You attempt to open the journal.

{&lt;audio autoplay&gt;
  &lt;source src=&quot;https://nodd-arca.net/carriage/click.wav&quot;&gt;
&lt;/audio&gt;}

(if: $a is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;a]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;a]] ](if: $b is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;b]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;b]] ](if: $c is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;c]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;c]] ](if: $d is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;d]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;d]] ]
(if: $e is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;e]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;e]] ](if: $f is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;f]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;f]] ](if: $g is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;g]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;g]] ](if: $h is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;h]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;h]] ]
(if: $i is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;i]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;i]] ](if: $j is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;j]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;j]] ](if: $k is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;k]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;k]] ](if: $l is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;l]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;l]] ]
(if: $m is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;m]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;m]] ](if: $n is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;n]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;n]] ](if: $o is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;o]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;o]] ](if: $p is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;p]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;p]] ]


[[&gt; Stop tinkering with the lock.-&gt;psiAltClose]]]</tw-passagedata><tw-passagedata pid="195" name="d" tags="final" position="5041,3163" size="100,100">{(if: $c is true)[(set: $c to false)](else:)[(set: $c to true)]
(if: $d is true)[(set: $d to false)](else:)[(set: $d to true)]
(if: $h is true)[(set: $h to false)](else:)[(set: $h to true)]}$roomname[The Carriage - A Misplaced Journal]

(if: ($a is true) and ($b is true) and ($c is true) and ($d is true) and ($e is true) and ($f is true) and ($g is true) and ($h is true) and ($i is true) and ($j is true) and ($k is true) and ($l is true) and ($m is true) and ($n is true) and ($o is true) and ($p is true))[&lt;center&gt;&lt;img src=&quot;https://nodd-arca.net/carriage/triangle_journal_unlocked.png&quot; width=400&gt;&lt;/center&gt;

With a satisfying *click*, the lock releases and pops open. The strap securing the book closed unlatches of its own accord and unfastens, slithering away from the triangular tome, leaving its contents entirely vulnerable to your eager, prying eyes.

Now you need but open it and read.

{&lt;audio autoplay&gt;
  &lt;source src=&quot;https://nodd-arca.net/carriage/unlock.wav&quot;&gt;
&lt;/audio&gt;}

[[&gt; Open the book.-&gt;psiAlt4]]
[[&gt; Disregard the book anyway.-&gt;psiAltClose]]](else:)[You attempt to open the journal.

{&lt;audio autoplay&gt;
  &lt;source src=&quot;https://nodd-arca.net/carriage/click.wav&quot;&gt;
&lt;/audio&gt;}

(if: $a is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;a]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;a]] ](if: $b is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;b]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;b]] ](if: $c is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;c]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;c]] ](if: $d is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;d]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;d]] ]
(if: $e is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;e]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;e]] ](if: $f is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;f]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;f]] ](if: $g is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;g]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;g]] ](if: $h is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;h]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;h]] ]
(if: $i is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;i]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;i]] ](if: $j is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;j]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;j]] ](if: $k is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;k]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;k]] ](if: $l is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;l]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;l]] ]
(if: $m is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;m]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;m]] ](if: $n is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;n]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;n]] ](if: $o is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;o]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;o]] ](if: $p is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;p]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;p]] ]


[[&gt; Stop tinkering with the lock.-&gt;psiAltClose]]]</tw-passagedata><tw-passagedata pid="196" name="e" tags="final" position="4506,3338" size="100,100">{(if: $a is true)[(set: $a to false)](else:)[(set: $a to true)]
(if: $e is true)[(set: $e to false)](else:)[(set: $e to true)]
(if: $f is true)[(set: $f to false)](else:)[(set: $f to true)]
(if: $i is true)[(set: $i to false)](else:)[(set: $i to true)]}$roomname[The Carriage - A Misplaced Journal]

(if: ($a is true) and ($b is true) and ($c is true) and ($d is true) and ($e is true) and ($f is true) and ($g is true) and ($h is true) and ($i is true) and ($j is true) and ($k is true) and ($l is true) and ($m is true) and ($n is true) and ($o is true) and ($p is true))[&lt;center&gt;&lt;img src=&quot;https://nodd-arca.net/carriage/triangle_journal_unlocked.png&quot; width=400&gt;&lt;/center&gt;

With a satisfying *click*, the lock releases and pops open. The strap securing the book closed unlatches of its own accord and unfastens, slithering away from the triangular tome, leaving its contents entirely vulnerable to your eager, prying eyes.

Now you need but open it and read.

{&lt;audio autoplay&gt;
  &lt;source src=&quot;https://nodd-arca.net/carriage/unlock.wav&quot;&gt;
&lt;/audio&gt;}

[[&gt; Open the book.-&gt;psiAlt4]]
[[&gt; Disregard the book anyway.-&gt;psiAltClose]]](else:)[You attempt to open the journal.

{&lt;audio autoplay&gt;
  &lt;source src=&quot;https://nodd-arca.net/carriage/click.wav&quot;&gt;
&lt;/audio&gt;}

(if: $a is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;a]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;a]] ](if: $b is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;b]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;b]] ](if: $c is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;c]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;c]] ](if: $d is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;d]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;d]] ]
(if: $e is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;e]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;e]] ](if: $f is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;f]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;f]] ](if: $g is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;g]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;g]] ](if: $h is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;h]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;h]] ]
(if: $i is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;i]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;i]] ](if: $j is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;j]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;j]] ](if: $k is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;k]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;k]] ](if: $l is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;l]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;l]] ]
(if: $m is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;m]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;m]] ](if: $n is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;n]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;n]] ](if: $o is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;o]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;o]] ](if: $p is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;p]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;p]] ]


[[&gt; Stop tinkering with the lock.-&gt;psiAltClose]]]</tw-passagedata><tw-passagedata pid="197" name="f" tags="final" position="4721,3353" size="100,100">{(if: $b is true)[(set: $b to false)](else:)[(set: $b to true)]
(if: $e is true)[(set: $e to false)](else:)[(set: $e to true)]
(if: $f is true)[(set: $f to false)](else:)[(set: $f to true)]
(if: $g is true)[(set: $g to false)](else:)[(set: $g to true)]
(if: $j is true)[(set: $j to false)](else:)[(set: $j to true)]}$roomname[The Carriage - A Misplaced Journal]

(if: ($a is true) and ($b is true) and ($c is true) and ($d is true) and ($e is true) and ($f is true) and ($g is true) and ($h is true) and ($i is true) and ($j is true) and ($k is true) and ($l is true) and ($m is true) and ($n is true) and ($o is true) and ($p is true))[&lt;center&gt;&lt;img src=&quot;https://nodd-arca.net/carriage/triangle_journal_unlocked.png&quot; width=400&gt;&lt;/center&gt;

With a satisfying *click*, the lock releases and pops open. The strap securing the book closed unlatches of its own accord and unfastens, slithering away from the triangular tome, leaving its contents entirely vulnerable to your eager, prying eyes.

Now you need but open it and read.

{&lt;audio autoplay&gt;
  &lt;source src=&quot;https://nodd-arca.net/carriage/unlock.wav&quot;&gt;
&lt;/audio&gt;}

[[&gt; Open the book.-&gt;psiAlt4]]
[[&gt; Disregard the book anyway.-&gt;psiAltClose]]](else:)[You attempt to open the journal.

{&lt;audio autoplay&gt;
  &lt;source src=&quot;https://nodd-arca.net/carriage/click.wav&quot;&gt;
&lt;/audio&gt;}

(if: $a is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;a]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;a]] ](if: $b is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;b]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;b]] ](if: $c is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;c]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;c]] ](if: $d is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;d]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;d]] ]
(if: $e is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;e]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;e]] ](if: $f is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;f]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;f]] ](if: $g is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;g]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;g]] ](if: $h is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;h]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;h]] ]
(if: $i is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;i]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;i]] ](if: $j is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;j]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;j]] ](if: $k is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;k]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;k]] ](if: $l is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;l]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;l]] ]
(if: $m is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;m]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;m]] ](if: $n is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;n]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;n]] ](if: $o is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;o]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;o]] ](if: $p is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;p]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;p]] ]


[[&gt; Stop tinkering with the lock.-&gt;psiAltClose]]]</tw-passagedata><tw-passagedata pid="198" name="g" tags="final" position="4891,3355" size="100,100">{(if: $c is true)[(set: $c to false)](else:)[(set: $c to true)]
(if: $k is true)[(set: $k to false)](else:)[(set: $k to true)]
(if: $f is true)[(set: $f to false)](else:)[(set: $f to true)]
(if: $g is true)[(set: $g to false)](else:)[(set: $g to true)]
(if: $h is true)[(set: $h to false)](else:)[(set: $h to true)]}$roomname[The Carriage - A Misplaced Journal]

(if: ($a is true) and ($b is true) and ($c is true) and ($d is true) and ($e is true) and ($f is true) and ($g is true) and ($h is true) and ($i is true) and ($j is true) and ($k is true) and ($l is true) and ($m is true) and ($n is true) and ($o is true) and ($p is true))[&lt;center&gt;&lt;img src=&quot;https://nodd-arca.net/carriage/triangle_journal_unlocked.png&quot; width=400&gt;&lt;/center&gt;

With a satisfying *click*, the lock releases and pops open. The strap securing the book closed unlatches of its own accord and unfastens, slithering away from the triangular tome, leaving its contents entirely vulnerable to your eager, prying eyes.

Now you need but open it and read.

{&lt;audio autoplay&gt;
  &lt;source src=&quot;https://nodd-arca.net/carriage/unlock.wav&quot;&gt;
&lt;/audio&gt;}

[[&gt; Open the book.-&gt;psiAlt4]]
[[&gt; Disregard the book anyway.-&gt;psiAltClose]]](else:)[You attempt to open the journal.

{&lt;audio autoplay&gt;
  &lt;source src=&quot;https://nodd-arca.net/carriage/click.wav&quot;&gt;
&lt;/audio&gt;}

(if: $a is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;a]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;a]] ](if: $b is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;b]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;b]] ](if: $c is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;c]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;c]] ](if: $d is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;d]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;d]] ]
(if: $e is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;e]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;e]] ](if: $f is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;f]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;f]] ](if: $g is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;g]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;g]] ](if: $h is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;h]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;h]] ]
(if: $i is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;i]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;i]] ](if: $j is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;j]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;j]] ](if: $k is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;k]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;k]] ](if: $l is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;l]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;l]] ]
(if: $m is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;m]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;m]] ](if: $n is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;n]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;n]] ](if: $o is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;o]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;o]] ](if: $p is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;p]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;p]] ]


[[&gt; Stop tinkering with the lock.-&gt;psiAltClose]]]</tw-passagedata><tw-passagedata pid="199" name="h" tags="final" position="5061,3351" size="100,100">{(if: $l is true)[(set: $l to false)](else:)[(set: $l to true)]
(if: $d is true)[(set: $d to false)](else:)[(set: $d to true)]
(if: $g is true)[(set: $g to false)](else:)[(set: $g to true)]
(if: $h is true)[(set: $h to false)](else:)[(set: $h to true)]}$roomname[The Carriage - A Misplaced Journal]

(if: ($a is true) and ($b is true) and ($c is true) and ($d is true) and ($e is true) and ($f is true) and ($g is true) and ($h is true) and ($i is true) and ($j is true) and ($k is true) and ($l is true) and ($m is true) and ($n is true) and ($o is true) and ($p is true))[&lt;center&gt;&lt;img src=&quot;https://nodd-arca.net/carriage/triangle_journal_unlocked.png&quot; width=400&gt;&lt;/center&gt;

With a satisfying *click*, the lock releases and pops open. The strap securing the book closed unlatches of its own accord and unfastens, slithering away from the triangular tome, leaving its contents entirely vulnerable to your eager, prying eyes.

Now you need but open it and read.

{&lt;audio autoplay&gt;
  &lt;source src=&quot;https://nodd-arca.net/carriage/unlock.wav&quot;&gt;
&lt;/audio&gt;}

[[&gt; Open the book.-&gt;psiAlt4]]
[[&gt; Disregard the book anyway.-&gt;psiAltClose]]](else:)[You attempt to open the journal.

{&lt;audio autoplay&gt;
  &lt;source src=&quot;https://nodd-arca.net/carriage/click.wav&quot;&gt;
&lt;/audio&gt;}

(if: $a is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;a]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;a]] ](if: $b is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;b]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;b]] ](if: $c is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;c]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;c]] ](if: $d is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;d]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;d]] ]
(if: $e is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;e]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;e]] ](if: $f is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;f]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;f]] ](if: $g is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;g]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;g]] ](if: $h is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;h]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;h]] ]
(if: $i is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;i]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;i]] ](if: $j is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;j]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;j]] ](if: $k is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;k]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;k]] ](if: $l is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;l]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;l]] ]
(if: $m is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;m]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;m]] ](if: $n is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;n]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;n]] ](if: $o is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;o]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;o]] ](if: $p is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;p]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;p]] ]


[[&gt; Stop tinkering with the lock.-&gt;psiAltClose]]]</tw-passagedata><tw-passagedata pid="200" name="i" tags="final" position="4505,3518" size="100,100">{(if: $e is true)[(set: $e to false)](else:)[(set: $e to true)]
(if: $i is true)[(set: $i to false)](else:)[(set: $i to true)]
(if: $j is true)[(set: $j to false)](else:)[(set: $j to true)]
(if: $m is true)[(set: $m to false)](else:)[(set: $m to true)]}$roomname[The Carriage - A Misplaced Journal]

(if: ($a is true) and ($b is true) and ($c is true) and ($d is true) and ($e is true) and ($f is true) and ($g is true) and ($h is true) and ($i is true) and ($j is true) and ($k is true) and ($l is true) and ($m is true) and ($n is true) and ($o is true) and ($p is true))[&lt;center&gt;&lt;img src=&quot;https://nodd-arca.net/carriage/triangle_journal_unlocked.png&quot; width=400&gt;&lt;/center&gt;

With a satisfying *click*, the lock releases and pops open. The strap securing the book closed unlatches of its own accord and unfastens, slithering away from the triangular tome, leaving its contents entirely vulnerable to your eager, prying eyes.

Now you need but open it and read.

{&lt;audio autoplay&gt;
  &lt;source src=&quot;https://nodd-arca.net/carriage/unlock.wav&quot;&gt;
&lt;/audio&gt;}

[[&gt; Open the book.-&gt;psiAlt4]]
[[&gt; Disregard the book anyway.-&gt;psiAltClose]]](else:)[You attempt to open the journal.

{&lt;audio autoplay&gt;
  &lt;source src=&quot;https://nodd-arca.net/carriage/click.wav&quot;&gt;
&lt;/audio&gt;}

(if: $a is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;a]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;a]] ](if: $b is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;b]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;b]] ](if: $c is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;c]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;c]] ](if: $d is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;d]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;d]] ]
(if: $e is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;e]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;e]] ](if: $f is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;f]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;f]] ](if: $g is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;g]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;g]] ](if: $h is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;h]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;h]] ]
(if: $i is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;i]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;i]] ](if: $j is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;j]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;j]] ](if: $k is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;k]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;k]] ](if: $l is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;l]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;l]] ]
(if: $m is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;m]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;m]] ](if: $n is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;n]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;n]] ](if: $o is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;o]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;o]] ](if: $p is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;p]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;p]] ]


[[&gt; Stop tinkering with the lock.-&gt;psiAltClose]]]</tw-passagedata><tw-passagedata pid="201" name="j" tags="final" position="4721,3518" size="100,100">{(if: $f is true)[(set: $f to false)](else:)[(set: $f to true)]
(if: $i is true)[(set: $i to false)](else:)[(set: $i to true)]
(if: $j is true)[(set: $j to false)](else:)[(set: $j to true)]
(if: $k is true)[(set: $k to false)](else:)[(set: $k to true)]
(if: $n is true)[(set: $n to false)](else:)[(set: $n to true)]}$roomname[The Carriage - A Misplaced Journal]

(if: ($a is true) and ($b is true) and ($c is true) and ($d is true) and ($e is true) and ($f is true) and ($g is true) and ($h is true) and ($i is true) and ($j is true) and ($k is true) and ($l is true) and ($m is true) and ($n is true) and ($o is true) and ($p is true))[&lt;center&gt;&lt;img src=&quot;https://nodd-arca.net/carriage/triangle_journal_unlocked.png&quot; width=400&gt;&lt;/center&gt;

With a satisfying *click*, the lock releases and pops open. The strap securing the book closed unlatches of its own accord and unfastens, slithering away from the triangular tome, leaving its contents entirely vulnerable to your eager, prying eyes.

Now you need but open it and read.

{&lt;audio autoplay&gt;
  &lt;source src=&quot;https://nodd-arca.net/carriage/unlock.wav&quot;&gt;
&lt;/audio&gt;}

[[&gt; Open the book.-&gt;psiAlt4]]
[[&gt; Disregard the book anyway.-&gt;psiAltClose]]](else:)[You attempt to open the journal.

{&lt;audio autoplay&gt;
  &lt;source src=&quot;https://nodd-arca.net/carriage/click.wav&quot;&gt;
&lt;/audio&gt;}

(if: $a is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;a]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;a]] ](if: $b is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;b]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;b]] ](if: $c is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;c]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;c]] ](if: $d is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;d]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;d]] ]
(if: $e is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;e]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;e]] ](if: $f is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;f]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;f]] ](if: $g is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;g]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;g]] ](if: $h is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;h]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;h]] ]
(if: $i is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;i]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;i]] ](if: $j is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;j]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;j]] ](if: $k is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;k]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;k]] ](if: $l is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;l]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;l]] ]
(if: $m is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;m]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;m]] ](if: $n is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;n]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;n]] ](if: $o is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;o]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;o]] ](if: $p is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;p]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;p]] ]


[[&gt; Stop tinkering with the lock.-&gt;psiAltClose]]]</tw-passagedata><tw-passagedata pid="202" name="k" tags="final" position="4896,3520" size="100,100">{(if: $g is true)[(set: $g to false)](else:)[(set: $g to true)]
(if: $j is true)[(set: $j to false)](else:)[(set: $j to true)]
(if: $k is true)[(set: $k to false)](else:)[(set: $k to true)]
(if: $l is true)[(set: $l to false)](else:)[(set: $l to true)]
(if: $o is true)[(set: $o to false)](else:)[(set: $o to true)]}$roomname[The Carriage - A Misplaced Journal]

(if: ($a is true) and ($b is true) and ($c is true) and ($d is true) and ($e is true) and ($f is true) and ($g is true) and ($h is true) and ($i is true) and ($j is true) and ($k is true) and ($l is true) and ($m is true) and ($n is true) and ($o is true) and ($p is true))[&lt;center&gt;&lt;img src=&quot;https://nodd-arca.net/carriage/triangle_journal_unlocked.png&quot; width=400&gt;&lt;/center&gt;

With a satisfying *click*, the lock releases and pops open. The strap securing the book closed unlatches of its own accord and unfastens, slithering away from the triangular tome, leaving its contents entirely vulnerable to your eager, prying eyes.

Now you need but open it and read.

{&lt;audio autoplay&gt;
  &lt;source src=&quot;https://nodd-arca.net/carriage/unlock.wav&quot;&gt;
&lt;/audio&gt;}

[[&gt; Open the book.-&gt;psiAlt4]]
[[&gt; Disregard the book anyway.-&gt;psiAltClose]]](else:)[You attempt to open the journal.

{&lt;audio autoplay&gt;
  &lt;source src=&quot;https://nodd-arca.net/carriage/click.wav&quot;&gt;
&lt;/audio&gt;}

(if: $a is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;a]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;a]] ](if: $b is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;b]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;b]] ](if: $c is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;c]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;c]] ](if: $d is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;d]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;d]] ]
(if: $e is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;e]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;e]] ](if: $f is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;f]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;f]] ](if: $g is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;g]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;g]] ](if: $h is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;h]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;h]] ]
(if: $i is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;i]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;i]] ](if: $j is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;j]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;j]] ](if: $k is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;k]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;k]] ](if: $l is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;l]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;l]] ]
(if: $m is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;m]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;m]] ](if: $n is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;n]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;n]] ](if: $o is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;o]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;o]] ](if: $p is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;p]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;p]] ]


[[&gt; Stop tinkering with the lock.-&gt;psiAltClose]]]</tw-passagedata><tw-passagedata pid="203" name="l" tags="final" position="5078,3511" size="100,100">{(if: $h is true)[(set: $h to false)](else:)[(set: $h to true)]
(if: $k is true)[(set: $k to false)](else:)[(set: $k to true)]
(if: $l is true)[(set: $l to false)](else:)[(set: $l to true)]
(if: $p is true)[(set: $p to false)](else:)[(set: $p to true)]}$roomname[The Carriage - A Misplaced Journal]

(if: ($a is true) and ($b is true) and ($c is true) and ($d is true) and ($e is true) and ($f is true) and ($g is true) and ($h is true) and ($i is true) and ($j is true) and ($k is true) and ($l is true) and ($m is true) and ($n is true) and ($o is true) and ($p is true))[&lt;center&gt;&lt;img src=&quot;https://nodd-arca.net/carriage/triangle_journal_unlocked.png&quot; width=400&gt;&lt;/center&gt;

With a satisfying *click*, the lock releases and pops open. The strap securing the book closed unlatches of its own accord and unfastens, slithering away from the triangular tome, leaving its contents entirely vulnerable to your eager, prying eyes.

Now you need but open it and read.

{&lt;audio autoplay&gt;
  &lt;source src=&quot;https://nodd-arca.net/carriage/unlock.wav&quot;&gt;
&lt;/audio&gt;}

[[&gt; Open the book.-&gt;psiAlt4]]
[[&gt; Disregard the book anyway.-&gt;psiAltClose]]](else:)[You attempt to open the journal.

{&lt;audio autoplay&gt;
  &lt;source src=&quot;https://nodd-arca.net/carriage/click.wav&quot;&gt;
&lt;/audio&gt;}

(if: $a is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;a]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;a]] ](if: $b is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;b]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;b]] ](if: $c is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;c]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;c]] ](if: $d is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;d]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;d]] ]
(if: $e is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;e]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;e]] ](if: $f is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;f]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;f]] ](if: $g is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;g]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;g]] ](if: $h is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;h]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;h]] ]
(if: $i is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;i]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;i]] ](if: $j is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;j]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;j]] ](if: $k is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;k]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;k]] ](if: $l is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;l]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;l]] ]
(if: $m is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;m]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;m]] ](if: $n is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;n]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;n]] ](if: $o is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;o]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;o]] ](if: $p is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;p]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;p]] ]


[[&gt; Stop tinkering with the lock.-&gt;psiAltClose]]]</tw-passagedata><tw-passagedata pid="204" name="m" tags="final" position="4508,3703" size="100,100">{(if: $i is true)[(set: $i to false)](else:)[(set: $i to true)]
(if: $m is true)[(set: $m to false)](else:)[(set: $m to true)]
(if: $n is true)[(set: $n to false)](else:)[(set: $n to true)]}$roomname[The Carriage - A Misplaced Journal]

(if: ($a is true) and ($b is true) and ($c is true) and ($d is true) and ($e is true) and ($f is true) and ($g is true) and ($h is true) and ($i is true) and ($j is true) and ($k is true) and ($l is true) and ($m is true) and ($n is true) and ($o is true) and ($p is true))[&lt;center&gt;&lt;img src=&quot;https://nodd-arca.net/carriage/triangle_journal_unlocked.png&quot; width=400&gt;&lt;/center&gt;

With a satisfying *click*, the lock releases and pops open. The strap securing the book closed unlatches of its own accord and unfastens, slithering away from the triangular tome, leaving its contents entirely vulnerable to your eager, prying eyes.

Now you need but open it and read.

{&lt;audio autoplay&gt;
  &lt;source src=&quot;https://nodd-arca.net/carriage/unlock.wav&quot;&gt;
&lt;/audio&gt;}

[[&gt; Open the book.-&gt;psiAlt4]]
[[&gt; Disregard the book anyway.-&gt;psiAltClose]]](else:)[You attempt to open the journal.

{&lt;audio autoplay&gt;
  &lt;source src=&quot;https://nodd-arca.net/carriage/click.wav&quot;&gt;
&lt;/audio&gt;}

(if: $a is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;a]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;a]] ](if: $b is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;b]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;b]] ](if: $c is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;c]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;c]] ](if: $d is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;d]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;d]] ]
(if: $e is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;e]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;e]] ](if: $f is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;f]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;f]] ](if: $g is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;g]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;g]] ](if: $h is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;h]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;h]] ]
(if: $i is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;i]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;i]] ](if: $j is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;j]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;j]] ](if: $k is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;k]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;k]] ](if: $l is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;l]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;l]] ]
(if: $m is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;m]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;m]] ](if: $n is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;n]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;n]] ](if: $o is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;o]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;o]] ](if: $p is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;p]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;p]] ]


[[&gt; Stop tinkering with the lock.-&gt;psiAltClose]]]</tw-passagedata><tw-passagedata pid="205" name="n" tags="final" position="4706,3703" size="100,100">{(if: $j is true)[(set: $j to false)](else:)[(set: $j to true)]
(if: $m is true)[(set: $m to false)](else:)[(set: $m to true)]
(if: $n is true)[(set: $n to false)](else:)[(set: $n to true)]
(if: $o is true)[(set: $o to false)](else:)[(set: $o to true)]}$roomname[The Carriage - A Misplaced Journal]

(if: ($a is true) and ($b is true) and ($c is true) and ($d is true) and ($e is true) and ($f is true) and ($g is true) and ($h is true) and ($i is true) and ($j is true) and ($k is true) and ($l is true) and ($m is true) and ($n is true) and ($o is true) and ($p is true))[&lt;center&gt;&lt;img src=&quot;https://nodd-arca.net/carriage/triangle_journal_unlocked.png&quot; width=400&gt;&lt;/center&gt;

With a satisfying *click*, the lock releases and pops open. The strap securing the book closed unlatches of its own accord and unfastens, slithering away from the triangular tome, leaving its contents entirely vulnerable to your eager, prying eyes.

Now you need but open it and read.

{&lt;audio autoplay&gt;
  &lt;source src=&quot;https://nodd-arca.net/carriage/unlock.wav&quot;&gt;
&lt;/audio&gt;}

[[&gt; Open the book.-&gt;psiAlt4]]
[[&gt; Disregard the book anyway.-&gt;psiAltClose]]](else:)[You attempt to open the journal.

{&lt;audio autoplay&gt;
  &lt;source src=&quot;https://nodd-arca.net/carriage/click.wav&quot;&gt;
&lt;/audio&gt;}

(if: $a is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;a]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;a]] ](if: $b is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;b]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;b]] ](if: $c is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;c]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;c]] ](if: $d is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;d]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;d]] ]
(if: $e is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;e]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;e]] ](if: $f is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;f]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;f]] ](if: $g is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;g]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;g]] ](if: $h is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;h]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;h]] ]
(if: $i is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;i]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;i]] ](if: $j is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;j]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;j]] ](if: $k is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;k]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;k]] ](if: $l is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;l]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;l]] ]
(if: $m is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;m]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;m]] ](if: $n is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;n]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;n]] ](if: $o is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;o]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;o]] ](if: $p is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;p]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;p]] ]


[[&gt; Stop tinkering with the lock.-&gt;psiAltClose]]]</tw-passagedata><tw-passagedata pid="206" name="o" tags="final" position="4893,3710" size="100,100">{(if: $k is true)[(set: $k to false)](else:)[(set: $k to true)]
(if: $n is true)[(set: $n to false)](else:)[(set: $n to true)]
(if: $o is true)[(set: $o to false)](else:)[(set: $o to true)]
(if: $p is true)[(set: $p to false)](else:)[(set: $p to true)]}$roomname[The Carriage - A Misplaced Journal]

(if: ($a is true) and ($b is true) and ($c is true) and ($d is true) and ($e is true) and ($f is true) and ($g is true) and ($h is true) and ($i is true) and ($j is true) and ($k is true) and ($l is true) and ($m is true) and ($n is true) and ($o is true) and ($p is true))[&lt;center&gt;&lt;img src=&quot;https://nodd-arca.net/carriage/triangle_journal_unlocked.png&quot; width=400&gt;&lt;/center&gt;

With a satisfying *click*, the lock releases and pops open. The strap securing the book closed unlatches of its own accord and unfastens, slithering away from the triangular tome, leaving its contents entirely vulnerable to your eager, prying eyes.

Now you need but open it and read.

{&lt;audio autoplay&gt;
  &lt;source src=&quot;https://nodd-arca.net/carriage/unlock.wav&quot;&gt;
&lt;/audio&gt;}

[[&gt; Open the book.-&gt;psiAlt4]]
[[&gt; Disregard the book anyway.-&gt;psiAltClose]]](else:)[You attempt to open the journal.

{&lt;audio autoplay&gt;
  &lt;source src=&quot;https://nodd-arca.net/carriage/click.wav&quot;&gt;
&lt;/audio&gt;}

(if: $a is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;a]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;a]] ](if: $b is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;b]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;b]] ](if: $c is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;c]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;c]] ](if: $d is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;d]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;d]] ]
(if: $e is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;e]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;e]] ](if: $f is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;f]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;f]] ](if: $g is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;g]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;g]] ](if: $h is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;h]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;h]] ]
(if: $i is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;i]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;i]] ](if: $j is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;j]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;j]] ](if: $k is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;k]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;k]] ](if: $l is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;l]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;l]] ]
(if: $m is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;m]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;m]] ](if: $n is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;n]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;n]] ](if: $o is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;o]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;o]] ](if: $p is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;p]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;p]] ]


[[&gt; Stop tinkering with the lock.-&gt;psiAltClose]]]</tw-passagedata><tw-passagedata pid="207" name="p" tags="final" position="5051,3713" size="100,100">{(if: $l is true)[(set: $l to false)](else:)[(set: $l to true)]
(if: $o is true)[(set: $o to false)](else:)[(set: $o to true)]
(if: $p is true)[(set: $p to false)](else:)[(set: $p to true)]}$roomname[The Carriage - A Misplaced Journal]

(if: ($a is true) and ($b is true) and ($c is true) and ($d is true) and ($e is true) and ($f is true) and ($g is true) and ($h is true) and ($i is true) and ($j is true) and ($k is true) and ($l is true) and ($m is true) and ($n is true) and ($o is true) and ($p is true))[&lt;center&gt;&lt;img src=&quot;https://nodd-arca.net/carriage/triangle_journal_unlocked.png&quot; width=400&gt;&lt;/center&gt;

With a satisfying *click*, the lock releases and pops open. The strap securing the book closed unlatches of its own accord and unfastens, slithering away from the triangular tome, leaving its contents entirely vulnerable to your eager, prying eyes.

Now you need but open it and read.

{&lt;audio autoplay&gt;
  &lt;source src=&quot;https://nodd-arca.net/carriage/unlock.wav&quot;&gt;
&lt;/audio&gt;}

[[&gt; Open the book.-&gt;psiAlt4]]
[[&gt; Disregard the book anyway.-&gt;psiAltClose]]](else:)[You attempt to open the journal.

{&lt;audio autoplay&gt;
  &lt;source src=&quot;https://nodd-arca.net/carriage/click.wav&quot;&gt;
&lt;/audio&gt;}

(if: $a is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;a]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;a]] ](if: $b is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;b]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;b]] ](if: $c is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;c]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;c]] ](if: $d is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;d]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;d]] ]
(if: $e is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;e]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;e]] ](if: $f is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;f]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;f]] ](if: $g is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;g]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;g]] ](if: $h is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;h]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;h]] ]
(if: $i is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;i]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;i]] ](if: $j is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;j]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;j]] ](if: $k is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;k]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;k]] ](if: $l is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;l]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;l]] ]
(if: $m is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;m]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;m]] ](if: $n is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;n]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;n]] ](if: $o is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;o]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;o]] ](if: $p is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;p]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;p]] ]


[[&gt; Stop tinkering with the lock.-&gt;psiAltClose]]]</tw-passagedata><tw-passagedata pid="208" name="puzzlestart" tags="final" position="4771,2871" size="100,100">$roomname[The Carriage - A Misplaced Journal]

You decide to take your best shot at releasing the lock. Doing so will require manipulating the illusory eyes in order to solve the puzzle, however.


(if: $a is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;a]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;a]] ](if: $b is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;b]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;b]] ](if: $c is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;c]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;c]] ](if: $d is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;d]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;d]] ]
(if: $e is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;e]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;e]] ](if: $f is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;f]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;f]] ](if: $g is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;g]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;g]] ](if: $h is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;h]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;h]] ]
(if: $i is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;i]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;i]] ](if: $j is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;j]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;j]] ](if: $k is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;k]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;k]] ](if: $l is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;l]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;l]] ]
(if: $m is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;m]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;m]] ](if: $n is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;n]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;n]] ](if: $o is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;o]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;o]] ](if: $p is true)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye1.png&quot;&gt;-&gt;p]] ](else:)[ [[&lt;img src=&quot;https://nodd-arca.net/carriage/eye2.png&quot;&gt;-&gt;p]] ]


[[&gt; Stop tinkering with the lock.-&gt;psiAltClose]] </tw-passagedata><tw-passagedata pid="209" name="A curiosity." tags="" position="11137,81" size="100,100">Hm hm! What&#39;s it doing all the way out here snooping about, hm? Looking for something?

What could

it
hope

to find all the way

out

here??

How very.. inquisitive. How far will you *wonder* before your wonderings wander too far? 

Wander back to where your wonders belong, seeker.

A wonder wandered far away
To where it went, though, none can say
It wandered back one day again
And brought with it a golden hen
The hen then wondered why it sought
To wander with the wondered thought
And so the two wondered anon
The golden hen and wondered one
Til umber burnt the skies to grey
And swept the wonderers away

Do watch your step.</tw-passagedata><tw-passagedata pid="210" name="fugue2" tags="final" position="1243,3565" size="100,100">$roomname[The Carriage - The Chimera&#39;s Jars]

You ask the chimera if the flies merely bite. The insider gives a slightly damp laugh, head shaking as they do.

$npcV[&quot;No. No, they do not. Once you are bitten,&quot;] they begin - only to hold up a finger. $npcV[&quot;Presuming that you were bitten wild, not by someone using their effects for an, mm, (text-style: &quot;smear&quot;)[ill purpose]... they will start to lay eggs on you, yes? And in, if they can. Anywhere they can.&quot;]

The chimera looks down at the vial, then makes a gentle tut-tutting noise.

$npcV[&quot;Of course, you will not remember all the places they laid... so it becomes very hard to find them all. Perhaps in someone&#39;s fur. Or between their legs. The back of the neck is common, yes. Be wary of letting them hatch,&quot;] the insider cautions. $npcV[&quot;For the larvae have similar effects, yes? But then you will lose (text-style: &quot;smear&quot;)[trisks], not bells.&quot;]

The insider chuckles, giving you a toothy smile.

$npcV[&quot;There are better ways to, mm, forget your troubles.&quot;](set: $fugueSeen to true)


[[&gt; Nod warily.-&gt;viviria conclusion]]
[[&gt; Ask about one of the other jars.-&gt;&gt; &quot;What&#39;s in the jars?&quot;]]</tw-passagedata><tw-passagedata pid="211" name="umbrasiawindow5" tags="final" position="2709,3693" size="100,100">$roomname[The Carriage - The Window]

As the growing scent of decay and gloom only grows, the miggwitch leads your carriage down a large and chilled street. It weaves its way around a slow and ponderous procession of citizens who all follow a large carriage of their own. All of them wear heavy, hooded masks and each carry a singular, slender candle, their flames protected by carefully lifted hands against any sudden winds. Two dozen slow and mournful voices join together in a melancholy hymn.

Passing by the head of the procession, you see that the slow-moving carriage appears to be some form of hearse led by a pair of masked miggwitches that have been either dyed or painted black, giving them a ghastly appearance.

Yet as you start to clear the procession, a large and somber building begins to reveal itself on the other side. You recognise some of the arcanograms as denoting it to belong to one of the official Council-sanctioned Courts, though which one is left unclear. What is clear is a singular, lonely sign in front of the sleepy building that reads &#39;(colour: #00ff8c)[**The Mausoleum**]&#39;. (if: $umbrasiawindow4 is true)[Unlike Black Ditch Couture](else:)[Unlike a shop], however, this building seems not to be selling or advertising anything at all.

Until you finish passing by the slow procession of citizens and their hearse-like carriage. Then you manage to spy a singular, small sign near the doorway to this Mausoleum that advertises a museum-like exhibit of &#39;notable&#39; deaths. While it doesn&#39;t seem like it could be large enough to serve as the establishment&#39;s only function, the small listed entry fee perhaps serves as a means of revenue.

Eventually this building too passes out of sight, and eventually even the mournful hymn-like singing of the procession fades away.


[[&gt; Continue gazing out the window.-&gt;umbrasiawindow6]]</tw-passagedata><tw-passagedata pid="212" name="umbrasia conclusion" tags="final" position="2569,4834" size="100,100">$roomname[The Umbrasia District]

With the carriage having finally halted at the end of its journey, you exchange a brief look with (if: $umbraTimer &gt; 0)[your pale](else:)[your mostly-silent] traveling companion. You hear Crusty call out that you&#39;ve arrived in the Umbrasia district, and shortly afterwards the carriage door swings open. (if: $miggwitchfucked is true)[He gives you a leering smile, eyes glancing over to the miggwitch, as if amused by your earlier antics. ]Then you and $umbraName carefully ease yourselves out and into the quiet, somber surroundings of your destination.

In short order, Crusty has collected another passenger and sped off into the gloom, leaving you behind with your pale companion. Gingerly, $umbraName looks at you, then gives a slow incline of her head.

$npcU[&quot;(if: $umbraTimer &gt; 0)[It has been surprisingly tolerable to speak with you. ]May the City speak your name.&quot;]

Producing a censer from her robes, $umbraName uses a slender wand to ignite the interior. In less than a tick, the censer begins to waft a sickly-looking smoke from its numerous slits and then she turns to leave. You watch her depart with a stately gait, vanishing into the muted ambiance.

Death. Is there a concept more terrifying, a thought more offensive, an utterance more repulsive to life than this one? Does it even have true meaning in a city where most can defy it? Or is the looming of some greater, *final* death somehow worse yet in its uncertainty?

Yet there is not rampant madness or utter bedlam upon the district&#39;s streets - quite the opposite, in fact. Several citizens stand in quiet vigil and more than a few seem oddly at peace - sitting on the streets, chatting outside a building, going about their lives. 

Some Umbrasians might argue that the end is precisely what gives anything that precedes it meaning. A song that never ends could never be interesting. A story that never finishes could never be compelling. To never find an end is to be trapped in neverending boredom. 

There is a sadness inherent in this ending and, yet, it too is part of the story. Perhaps the wisdom of Umbrasia lies in an almost ironic twist of *accepting* and revering the ultimate end such that life itself is given more meaning than it could ever have otherwise? Could it be the adherents of the very idea of death have the very secret to life? 

A truer irony there may not be, if so.

*You have arrived in the Umbrasia district - reflective, somber, and with a lingering sense of something somehow universal. Having completed your journey here all that remains is the question - now, where?*

&lt;img src=&quot;http://nodd-arca.net/carriage/carriage_umbrasia.jpg&quot; style=&quot;display: block; margin-left: auto; margin-right: auto; width: 100%;&quot;&gt;
&lt;br&gt;
&lt;br&gt;
&lt;center&gt;&lt;h3&gt;(text-style: &quot;smear&quot;)[END]&lt;/h3&gt;

&lt;font size=&quot;5em&quot;&gt;{(link:&quot;&gt; Commence another journey &lt;&quot;)[(reload:)]}&lt;/font&gt;&lt;/center&gt;</tw-passagedata><tw-passagedata pid="213" name="&gt; &quot;Where are you going?&quot;" tags="final" position="2164,3339" size="100,100">$roomname[The Carriage - The Chimera](set: $umbrasiaChat to it +0)

You ask your companion about their destination and watch as she seems to hesitate. The jiggle in her leg remains, but her expression shifts to be a thoughtful one. After several moments she offers you a nod, then turns her attention towards the carriage window instead.

Perhaps a different topic of conversation?


[[&gt; &quot;Do you take this carriage often?&quot;]]
[[&gt; &quot;What&#39;s your name?&quot;-&gt;name1]]
[[&gt; &quot;Is Umbrasia a depressing place?&quot;]]</tw-passagedata><tw-passagedata pid="214" name="&gt; &quot;What&#39;s with the clasp?&quot;" tags="final" position="2299,3342" size="100,100">$roomname[The Carriage - The Chimera](set: $umbrasiaChat to it +1)

As you ask about the adornments on her clothing she frowns at you. A tick or two of silence passes before her eyes suddenly widen and she lifts a hand to gently touch one of the dangling shapes decorating the crest sweeping around the hood of her robes. She gives you a bemused, brief smile, then shakes her head and gives one a flick, which makes a soft, ringing tone. In short order, she resumes gazing out the window.

Perhaps a different topic of conversation?


[[&gt; &quot;Do you take this carriage often?&quot;]]
[[&gt; &quot;What&#39;s your name?&quot;-&gt;name1]]
[[&gt; &quot;Is Umbrasia a depressing place?&quot;]]</tw-passagedata><tw-passagedata pid="215" name="&gt; &quot;What are you?&quot;" tags="final" position="2433,3340" size="100,100">$roomname[The Carriage - The Chimera](set: $umbrasiaChat to it -1)

You ask your companion what she is. Her eyes widen in surprise for a moment before her brow furrows in what might just be consternation. She adjusts her hands on her lap, then gives you a subtle shake of her head.

As the carriage rolls on through the streets of Nodd, the pale chimera says nothing.

Perhaps a different topic of conversation?


[[&gt; &quot;Do you take this carriage often?&quot;]]
[[&gt; &quot;What&#39;s your name?&quot;-&gt;name1]]
[[&gt; &quot;Is Umbrasia a depressing place?&quot;]]</tw-passagedata><tw-passagedata pid="216" name="&gt; &quot;Do you take this carriage often?&quot;" tags="final" position="2149,3490" size="100,100">$roomname[The Carriage - The Chimera](set: $umbrasiaChat to it +0)

Instead, you ask the robed and quiet chimera about her traveling habits. Perhaps she takes Crusty&#39;s carriage service frequently? Maybe Crusty and his miggwitch know her almost by name.

Your line of inquiry, however, is met only by her characteristically mute silence. She gazes at you with those weary eyes, then inclines her head.

Perhaps a different topic of conversation?


[[&gt; &quot;Have you ever died?&quot;]]
[[&gt; &quot;You look very tired.&quot;]]
[[&gt; &quot;Are there any interesting places to visit in Umbrasia?&quot;]]</tw-passagedata><tw-passagedata pid="217" name="name1" tags="final" position="2299,3492" size="100,100">$roomname[The Carriage - The Chimera](set: $umbrasiaChat to it -1)

You opt to ask something more basic. You introduce yourself, then ask the chimera for her name as well. It&#39;s simple courtesy, isn&#39;t it?

Yet as soon as you ask her name, the chimera&#39;s back straightens and she stares at you. Her brow furrows and her expression tightens.

She doesn&#39;t answer and, in fact, seems to be a little more on guard after your question.

Perhaps a different topic of conversation? (set: $name1 to true)


[[&gt; &quot;Have you ever died?&quot;]]
[[&gt; &quot;You look very tired.&quot;]]
[[&gt; &quot;Are there any interesting places to visit in Umbrasia?&quot;]]</tw-passagedata><tw-passagedata pid="218" name="&gt; &quot;Is Umbrasia a depressing place?&quot;" tags="final" position="2438,3492" size="100,100">$roomname[The Carriage - The Chimera](set: $umbrasiaChat to it +1)

You make idle conversation about your destination. You ask if Umbrasia is a depressing place to visit. The chimera looks at you in confusion, her head cocking to one side. Her brow furrowed, she discreetly looks around the carriage as though checking for any hidden surprises. After her check, she looks at you and then slowly shakes her head.

An answer, perhaps? Or maybe a denial.

Perhaps a different topic of conversation?


[[&gt; &quot;Have you ever died?&quot;]]
[[&gt; &quot;You look very tired.&quot;]]
[[&gt; &quot;Are there any interesting places to visit in Umbrasia?&quot;]]</tw-passagedata><tw-passagedata pid="219" name="&gt; &quot;Have you ever died?&quot;" tags="final" position="2438,3642" size="100,100">$roomname[The Carriage - The Chimera](set: $umbrasiaChat to it +0)

(if: $umbrasiaChat &lt; -1)[{&lt;!-- She&#39;s mad. --&gt; }Impossible in this node. If you&#39;re seeing this, did you cheat? You sly creature.
](else-if: $umbrasiaChat &gt; -2 and $umbrasiaChat &lt; 3)[{&lt;!-- She&#39;s still neutral. --&gt; }You ask your companion if she&#39;s ever died. The pale chimera gazes at you with her sunken, weary eyes, then slowly lifts her brow. Shaking her head, she turns her attention back to the carriage window.

Perhaps a different topic of conversation?


[[&gt; &quot;Do you know any spells?&quot;]]
[[&gt; &quot;Have you ever fucked Crusty&#39;s miggwitch?&quot;]]
[[&gt; &quot;Did your cloak come from Black Ditch Couture?&quot;]]
](else:)[{&lt;!-- She&#39;s willing to talk, now. --&gt; } (Impossible in this node: if you can see this, did you cheat? Be careful if you go digging too deep between the lines, wonderer.)]</tw-passagedata><tw-passagedata pid="220" name="&gt; &quot;You look very tired.&quot;" tags="final" position="2294,3640" size="100,100">$roomname[The Carriage - The Chimera](set: $umbrasiaChat to it -1)

(if: $umbrasiaChat &lt; -1)[{&lt;!-- She&#39;s mad. --&gt; }You comment on your companion&#39;s fatigue and ask if she&#39;s quite alright. The chimera furrows her brow deeper, giving you a puzzled look.

When you next move to open your mouth, she finally responds by slowly lifting one slender hand, her blunted claws signaling for you to hush.

$npcU[&quot;No more, thank you,&quot;] is all she says before she turns her attention to the window. Ticks stretch into chimes, and it soon becomes apparent that your companion has no more interest in talking. Perhaps you upset her, somehow? Given her lack of response, you aren&#39;t entirely certain yet it&#39;s quite clear at this point that the remainder of your journey will be a quiet one.


[[&gt; With nothing else to do, you gaze out the window as well.-&gt;umbrasiawindow5]]
](else-if: $umbrasiaChat &gt; -2 and $umbrasiaChat &lt; 3)[{&lt;!-- She&#39;s still neutral. --&gt; }You comment on your companion&#39;s fatigue and ask if she&#39;s quite alright. The chimera looks slightly puzzled by your question, but simply shakes her head ever so slightly with a frown. You aren&#39;t certain if that&#39;s in answer to her fatigue, her status, or you asking at all.

After a brief pause it becomes apparent that there is nothing else she has to say.

Perhaps a different topic of conversation?


[[&gt; &quot;Do you know any spells?&quot;]]
[[&gt; &quot;Have you ever fucked Crusty&#39;s miggwitch?&quot;]]
[[&gt; &quot;Did your cloak come from Black Ditch Couture?&quot;]]
](else:)[{&lt;!-- She&#39;s willing to talk, now. --&gt; } (Impossible in this node: if you can see this, did you cheat?)]</tw-passagedata><tw-passagedata pid="221" name="&gt; &quot;Are there any interesting places to visit in Umbrasia?&quot;" tags="final" position="2148,3647" size="100,100">$roomname[The Carriage - The Chimera](set: $umbrasiaChat to it +1)

(if: $umbrasiaChat &lt; -1)[{&lt;!-- She&#39;s mad. --&gt; }(Impossible in this node: if you can see this, did you cheat?)
](else-if: $umbrasiaChat &gt; -2 and $umbrasiaChat &lt; 3)[{&lt;!-- She&#39;s still neutral. --&gt; }You ask your companion if she knows of any interesting places to visit in Umbrasia. She peers at you for a few thoughtful moments, then gives a very faint nod.

It isn&#39;t much of an answer, but you suppose it&#39;s not *nothing*, either.

Perhaps a different topic of conversation?


[[&gt; &quot;Do you know any spells?&quot;]]
[[&gt; &quot;Have you ever fucked Crusty&#39;s miggwitch?&quot;]]
[[&gt; &quot;Did your cloak come from Black Ditch Couture?&quot;]]
](else:)[{&lt;!-- She&#39;s willing to talk, now. --&gt; }You ask your companion if she knows of any interesting places to visit in Umbrasia. She peers at you for a few thoughtful moments, then gives a soft and breathy sigh.

$npcU[&quot;The Umbrasia *District*,&quot;] she says. She shakes her head ever so slightly. $npcU[&quot;Umbrasia is the name of the House.&quot;] Then, finally, she offers you a faint smile. $npcU[&quot;You are quite persistent.&quot;]


[[&gt; It&#39;s true.-&gt;umbrasiaSuccess]]]</tw-passagedata><tw-passagedata pid="222" name="&gt; &quot;Do you know any spells?&quot;" tags="final" position="2144,3790" size="100,100">$roomname[The Carriage - The Chimera](set: $umbrasiaChat to it +0)

(if: $umbrasiaChat &lt; -1)[{&lt;!-- She&#39;s mad. --&gt; }(Impossible in this node. If you&#39;re seeing this, did you cheat?)
](else-if: $umbrasiaChat &gt; -2 and $umbrasiaChat &lt; 3)[{&lt;!-- She&#39;s still neutral. --&gt; }You ask if the pale chimera you ride with knows any spells. With a cloak like she wears, surely she must be some kind of mage? Though given the nature of House Umbrasia, perhaps riding in a carriage with a mage like that is a little dangerous.

The chimera peers at you, then just shakes her head again. You aren&#39;t certain if it&#39;s an answer or not, and she seems to have little inclination for elaborating.

Perhaps a different topic of conversation?


[[&gt; &quot;Do you hate Vivirians?&quot;]]
[[&gt; &quot;Long ride, isn&#39;t it?&quot;]]
[[&gt; &quot;Why are you going to Umbrasia?&quot;]]
](else:)[{&lt;!-- She&#39;s willing to talk, now. --&gt; }(Impossible in this node: if you can see this, did you cheat?)]</tw-passagedata><tw-passagedata pid="223" name="&gt; &quot;Have you ever fucked Crusty&#39;s miggwitch?&quot;" tags="final" position="2294,3790" size="100,100">$roomname[The Carriage - The Chimera](set: $umbrasiaChat to it +1)

(if: $umbrasiaChat &lt; -1)[{&lt;!-- She&#39;s mad. --&gt; }(Impossible in this node: if you can see this, did you cheat?)
](else-if: $umbrasiaChat &gt; -2 and $umbrasiaChat &lt; 3)[{&lt;!-- She&#39;s still neutral. --&gt; }You ask your companion if she&#39;s ever fucked Crusty&#39;s miggwitch.(if: $miggwitchfucked is true)[ After all, you can recommend it.]

She openly stares at you as you ask, as if contemplating the sharp turn your attempts at conversation have taken. Then, faintly, she shakes her head incredulously - yet you think you can almost see a hint of a smile there.

Perhaps a different topic of conversation?


[[&gt; &quot;Do you hate Vivirians?&quot;]]
[[&gt; &quot;Long ride, isn&#39;t it?&quot;]]
[[&gt; &quot;Why are you going to Umbrasia?&quot;]]
](else:)[{&lt;!-- She&#39;s willing to talk, now. --&gt; }You ask your companion if she&#39;s ever fucked Crusty&#39;s miggwitch.(if: $miggwitchfucked is true)[ After all, you can recommend it.]

She openly stares at you as you ask, as if contemplating the hard left your attempts at conversation have taken. Then, letting out a soft yet amused sigh that sounds somehow dusty, she speaks.

$npcU[&quot;I have not had the pleasure,&quot;] she says. She shakes her head ever so slightly. Then, finally, she offers you a faint smile. $npcU[&quot;You *are* quite persistent.&quot;]


[[&gt; It&#39;s true.-&gt;umbrasiaSuccess]]]</tw-passagedata><tw-passagedata pid="224" name="&gt; &quot;Did your cloak come from Black Ditch Couture?&quot;" tags="final" position="2429,3777" size="100,100">$roomname[The Carriage - The Chimera](set: $umbrasiaChat to it -1)

(if: $umbrasiaChat &lt; -1)[{&lt;!-- She&#39;s mad. --&gt; }You ask the chimera if her cloak came from Black Ditch Couture. Immediately, her expression sours and she straightens her back a little.

When you next move to open your mouth, she finally responds by slowly lifting one slender hand, her blunted claws signaling for you to hush.

$npcU[&quot;No more, thank you,&quot;] is all she says before she turns her attention to the window. Ticks stretch into chimes, and it soon becomes apparent that your companion has no more interest in talking. Perhaps you upset her, somehow? Given her lack of response, you aren&#39;t entirely certain yet it&#39;s quite clear at this point that the remainder of your journey will be a quiet one.


[[&gt; With nothing else to do, you gaze out the window as well.-&gt;umbrasiawindow6]]
](else-if: $umbrasiaChat &gt; -2 and $umbrasiaChat &lt; 3)[{&lt;!-- She&#39;s still neutral. --&gt; }You ask the chimera if her cloak came from Black Ditch Couture. Immediately, her expression sours a little and she closes her eyes for several moments. One set of dull claws lifts to touch the skull shaped clasp adorning her clothing.

For a time you almost expect some kind of response after a display like this, but nearly a full chime passes with no further motion from the insider across from you. Eventually it becomes apparent that there will be no answer regarding her cloak.

Perhaps a different topic of conversation?


[[&gt; &quot;Do you hate Vivirians?&quot;]]
[[&gt; &quot;Long ride, isn&#39;t it?&quot;]]
[[&gt; &quot;Why are you going to Umbrasia?&quot;]]
](else:)[{&lt;!-- She&#39;s willing to talk, now. --&gt; } (Impossible in this node: if you can see this, did you cheat?)]	</tw-passagedata><tw-passagedata pid="225" name="umbrasiaSuccess" tags="final" position="2024,4120" size="100,100">$roomname[The Carriage - The Chimera]

The chimera gazes at you curiously, her sunken eyes lingering on your own. There&#39;s a change in her posture, it seems - a slight adjustment in the way she sits and breathes before you. No longer do her eyes flick towards the window or idly drift downwards in thought.

You seem to have caught her attention.

$npcU[&quot;You have questions?&quot;] she asks, inclining her head ever so slightly. (set: $umbraName to &quot;the chimera&quot;)(set: $umbraTimer to 0)&lt;!--Timer just limits the player to asking only four questions--&gt;


[[&gt; &quot;Where are you going?&quot;-&gt;umbrasiaJourney]]
[[&gt; &quot;What *is* with the clasp, then?&quot;-&gt;umbrasiaClothing]]
[[&gt; &quot;Who are you?&quot;-&gt;umbrasiaBio]]
[[&gt; &quot;What&#39;s the Umbrasia District like?&quot;-&gt;umbrasiaPlace]]
[[&gt; &quot;Have you ever died?&quot;-&gt;umbrasiaDied]]
[[&gt; &quot;Have you ever fucked Crusty&#39;s miggwitch?&quot;-&gt;umbrasiaFuck]]</tw-passagedata><tw-passagedata pid="226" name="&gt; &quot;Do you hate Vivirians?&quot;" tags="final" position="2148,3914" size="100,100">$roomname[The Carriage - The Chimera](set: $umbrasiaChat to it -1)

(if: $umbrasiaChat &lt; -1)[{&lt;!-- She&#39;s mad. --&gt; }Given that Umbrasia is the House of Death, you ask your traveling companion if she hates Vivirians. She furrows her brow, then lets out a quiet and apprehensive sigh.

When you next move to open your mouth, she finally responds by slowly lifting one slender hand, her blunted claws signaling for you to hush.

$npcU[&quot;No more, thank you,&quot;] is all she says before she turns her attention to the window. Ticks stretch into chimes, and it becomes apparent that your companion has no more interest in talking. Perhaps you upset her, somehow? Given her lack of response, you aren&#39;t entirely certain yet it&#39;s quite clear at this point that the remainder of your journey will be a quiet one.


[[&gt; With nothing else to do, you gaze out the window as well.-&gt;umbrasiawindow7]]
](else-if: $umbrasiaChat &gt; -2 and $umbrasiaChat &lt; 3)[{&lt;!-- She&#39;s still neutral. --&gt; }Given that Umbrasia is the House of Death, you ask your traveling companion if she hates Vivirians. She furrows her brow, then lets out a quiet and apprehensive sigh.

She lapses back into silence afterwards, giving you a gaze that suggests that it might not have been the best topic of conversation to choose. However before you can ask more, the carriage begins to slow.

With a faint creak of the wheels, you hear Crusty call out to his miggwitch for a full stop. It appears that you have arrived.


[[&gt; Prepare to exit the carriage.-&gt;umbrasia conclusion]]
](else:)[{&lt;!-- She&#39;s willing to talk, now. --&gt; } (Impossible in this node: if you can see this, did you cheat?)]</tw-passagedata><tw-passagedata pid="227" name="&gt; &quot;Long ride, isn&#39;t it?&quot;" tags="final" position="2299,3907" size="100,100">$roomname[The Carriage - The Chimera](set: $umbrasiaChat to it +0)

(if: $umbrasiaChat &lt; -1)[{&lt;!-- She&#39;s mad. --&gt; }(Impossible in this node. If you&#39;re seeing this, did you cheat?)
](else-if: $umbrasiaChat &gt; -2 and $umbrasiaChat &lt; 3)[{&lt;!-- She&#39;s still neutral. --&gt; }Without success at having your companion talk thus far, and given how long you&#39;ve been trundling along in the carriage now, you try some idle banter with the pale insider. She doesn&#39;t seem responsive to this, either, however.

She gazes out the window idly, her leg slowly resuming its jiggle once again. You can&#39;t help but think that she might have opened up with some different topics. However before you can ask more, the carriage begins to slow.

With a faint creak of the wheels, you hear Crusty call out to his miggwitch for a full stop. It appears that you have arrived.


[[&gt; Prepare to exit the carriage.-&gt;umbrasia conclusion]]
](else:)[{&lt;!-- She&#39;s willing to talk, now. --&gt; }(Impossible in this node: if you can see this, did you cheat?)]</tw-passagedata><tw-passagedata pid="228" name="&gt; &quot;Why are you going to Umbrasia?&quot;" tags="final" position="2441,3909" size="100,100">$roomname[The Carriage - The Chimera](set: $umbrasiaChat to it +1)

(if: $umbrasiaChat &lt; -1)[{&lt;!-- She&#39;s mad. --&gt; }(Impossible in this node: if you can see this, did you cheat?)
](else-if: $umbrasiaChat &gt; -2 and $umbrasiaChat &lt; 3)[{&lt;!-- She&#39;s still neutral. --&gt; }You decide to ask the pale chimera why she&#39;s going to Umbrasia in the first place. She seems to stop and consider your question, then laces her claws together in her lap. 

$npcU[&quot;I am going home,&quot;] she answers you quietly, her voice soft and wispy.

An answer, at last. Unfortunately, before you can ask more you feel the carriage begin to slow as Crusty calls out to his miggwitch for a full stop. It appears that you have arrived.


[[&gt; Prepare to exit the carriage.-&gt;umbrasia conclusion]]
](else:)[{&lt;!-- She&#39;s willing to talk, now. --&gt; }You decide to ask the pale chimera why she&#39;s going to Umbrasia in the first place. She seems to stop and consider your question, then laces her claws together in her lap. 

$npcU[&quot;I am going home,&quot;] she answers you quietly, her voice soft and wispy. She shakes her head ever so slightly. Then, finally, she offers you a faint smile. $npcU[&quot;You are quite persistent.&quot;]


[[&gt; It&#39;s true.-&gt;umbrasiaSuccess]]]</tw-passagedata><tw-passagedata pid="229" name="umbrasiaClothing" tags="final" position="1769,4290" size="100,100">$roomname[The Carriage - The Chimera]

(if: $umbraTimer &gt; 3)[You make to ask another question of $umbraName, but before you can get so much as a word out the carriage starts to creak and slow. You hear Crusty call out for his loyal miggwitch to stop, and both you and $umbraName exchange a glance. It&#39;s time to disembark.


[[&gt; Get ready to exit the carriage.-&gt;umbrasia conclusion]]
](else:)[You ask about the conspicuous clasp adorning the robe that $umbraName is wearing. She lifts a hand and touches it, as she has several times before as a manner of habit. Her digits trace the shape of it - caressing the long bridge of the snout back and up along the broader portion of the cranial cavity, her caress unmistakably loving.

For a few moments she remains silent, with only the slow clacking of the carriage to fill the quiet. Eventually she nods her head.

$npcU[&quot;The skull is all that&#39;s left of her besides my memories,&quot;] she says, $npcU[&quot;It may seem a bit macabre but it brings me peace, comfort even. I touch it and I am touching *her.* Her *final* death has found her, yet still she is with me, and will be until mine comes. When she died that time... The Court of Resurrection did not elect to intervene.&quot;]

For a few somber ticks, $umbraName lapses into silence again. Then she touches her robes. $npcU[&quot;These robes signify my devotion to the House of Umbrasia.&quot;](set: $umbraTimer to it + 1)


[[&gt; &quot;Where are you going?&quot;-&gt;umbrasiaJourney]]
[[&gt; &quot;Who are you?&quot;-&gt;umbrasiaBio]]
[[&gt; &quot;What&#39;s the Umbrasia District like?&quot;-&gt;umbrasiaPlace]]
[[&gt; &quot;Have you ever died?&quot;-&gt;umbrasiaDied]]
[[&gt; &quot;Have you ever fucked Crusty&#39;s miggwitch?&quot;-&gt;umbrasiaFuck]]]</tw-passagedata><tw-passagedata pid="230" name="umbrasiaBio" tags="final" position="1952,4356" size="100,100">$roomname[The Carriage - The Chimera]

(if: $umbraTimer &gt; 3)[You make to ask another question of $umbraName, but before you can get so much as a word out the carriage starts to creak and slow. You hear Crusty call out for his loyal miggwitch to stop, and both you and $umbraName exchange a glance. It&#39;s time to disembark.


[[&gt; Get ready to exit the carriage.-&gt;umbrasia conclusion]]
](else:)[You ask $umbraName who she is, exactly. She frowns ever so slightly but, after weighing your question for a few turbulent ka-thunks of the carriage wheels, acquiesces.

$npcU[&quot;My name is Quillis, a chimera of no certain heritage.&quot;](if: $name1 is true)[ She pauses, then adds, $npcU[&quot;I hesitated before as there are those who would do me harm. A name can bring trouble amongst strangers.&quot;]] She waits as you exchange your own name, then bows her head slowly in acknowledgment.

$npcU[&quot;I am a savant of the House of Umbrasia.&quot;](set: $umbraName to &quot;Quillis&quot;)(set: $umbraTimer to it + 1)


[[&gt; &quot;Where are you going?&quot;-&gt;umbrasiaJourney]]
[[&gt; &quot;What *is* with the clasp, then?&quot;-&gt;umbrasiaClothing]]
[[&gt; &quot;What&#39;s the Umbrasia District like?&quot;-&gt;umbrasiaPlace]]
[[&gt; &quot;Have you ever died?&quot;-&gt;umbrasiaDied]]
[[&gt; &quot;Have you ever fucked Crusty&#39;s miggwitch?&quot;-&gt;umbrasiaFuck]]]</tw-passagedata><tw-passagedata pid="231" name="umbrasiaJourney" tags="final" position="2270,4289" size="100,100">$roomname[The Carriage - The Chimera]

(if: $umbraTimer &gt; 3)[You make to ask another question of $umbraName, but before you can get so much as a word out the carriage starts to creak and slow. You hear Crusty call out for his loyal miggwitch to stop, and both you and $umbraName exchange a glance. It&#39;s time to disembark.


[[&gt; Get ready to exit the carriage.-&gt;umbrasia conclusion]]
](else:)[You ask $umbraName where she is going. She looks out the window of the clattering carriage, then adjusts her heavy robes.

$npcU[&quot;I am journeying home. I was visiting a friend in their final hours.&quot;]

When you probe about these final hours, $umbraName arches her brow slightly beneath her hood. $npcU[&quot;Nothing so ghastly as you may think. Simple old age.&quot;] (set: $umbraTimer to it + 1)


[[&gt; &quot;What *is* with the clasp, then?&quot;-&gt;umbrasiaClothing]]
[[&gt; &quot;Who are you?&quot;-&gt;umbrasiaBio]]
[[&gt; &quot;What&#39;s the Umbrasia District like?&quot;-&gt;umbrasiaPlace]]
[[&gt; &quot;Have you ever died?&quot;-&gt;umbrasiaDied]]
[[&gt; &quot;Have you ever fucked Crusty&#39;s miggwitch?&quot;-&gt;umbrasiaFuck]]]</tw-passagedata><tw-passagedata pid="232" name="umbrasiaPlace" tags="final" position="2099,4353" size="100,100">$roomname[The Carriage - The Chimera]

(if: $umbraTimer &gt; 3)[You make to ask another question of $umbraName, but before you can get so much as a word out the carriage starts to creak and slow. You hear Crusty call out for his loyal miggwitch to stop, and both you and $umbraName exchange a glance. It&#39;s time to disembark.


[[&gt; Get ready to exit the carriage.-&gt;umbrasia conclusion]]
](else:)[You ask $umbraName about the Umbrasia District itself. She gazes out the window where slowly a gloomy-looking garden passes by. $npcU[&quot;It is a place of reflection,&quot;] she says. $npcU[&quot;Death is not shunned, but embraced. Our lives are given meaning by finality, yet the Courts deign to disrupt this cycle to further their own ends - though we respect the City&#39;s will in doing so. But in the Umbrasia District, we celebrate these endings - for each of us one such ending is eventually the *final* one, after all.&quot;]

Turning her attention to you, $umbraName&#39;s dark eyes crinkle ever so slightly in a smile. $npcU[&quot;Though not everyone accepts them when they happen. There are places within the district that you may visit to have a body reunited with its... other part. Essence? Self? Provided the Courts haven&#39;t yet done so, of course. Not true life, however, but a false one where the person persists though the body has died. So sometimes within the Umbrasia District you might see someone walking that would...&quot;] She pauses, choosing her words carefully. $npcU[&quot;...not be expected in another district. The Council does not take kindly to this dabbling, however, nor do we Umbrasians. Steer clear, if you see it.&quot;]

$npcU[&quot;The atmosphere is more solemn than other districts and some find it distressing at first. Once you come to understand it, though, it stops feeling oppressive and begins to feel *liberating*. The acceptance of the end brings life in the present. We know not when, but we will meet our ends. On that day, all that we already have been will be given meaning because of its finite nature.&quot;] She smiles briefly at you, then touches the clasp adorning her robe again, caressing the bony shape of it. $npcU[&quot;This reminds me of the meaning of my child&#39;s life - though hers is already over, she remains with me.&quot;] (set: $umbraTimer to it + 1)


[[&gt; &quot;Where are you going?&quot;-&gt;umbrasiaJourney]]
[[&gt; &quot;What *is* with the clasp, then?&quot;-&gt;umbrasiaClothing]]
[[&gt; &quot;Who are you?&quot;-&gt;umbrasiaBio]]
[[&gt; &quot;Have you ever died?&quot;-&gt;umbrasiaDied]]
[[&gt; &quot;Have you ever fucked Crusty&#39;s miggwitch?&quot;-&gt;umbrasiaFuck]]]</tw-passagedata><tw-passagedata pid="233" name="umbrasiaDied" tags="final" position="1875,4539" size="100,100">$roomname[The Carriage - The Chimera]

(if: $umbraTimer &gt; 3)[You make to ask another question of $umbraName, but before you can get so much as a word out the carriage starts to creak and slow. You hear Crusty call out for his loyal miggwitch to stop, and both you and $umbraName exchange a glance. It&#39;s time to disembark.


[[&gt; Get ready to exit the carriage.-&gt;umbrasia conclusion]]
](else:)[You ask $umbraName if she herself has ever died. She closes her eyes by way of response, then simply nods her head with a long sigh.

$npcU[&quot;Several turns ago I visited a park with my child. We were beset by a gang, perhaps cultists? I know not. They absconded with us both, took us away, hurt us. Neither of us survived.&quot;] She idly reaches her hand up and strokes along the cranial portion of the skull shaped clasp. $npcU[&quot;The Courts brought me back. But only me. I waited outside. And waited... but she never came. I... spent several turns to find this one piece of her - do not ask what I had to do in order to find it,&quot;] she says, coldly.

$npcU[&quot;Then I nearly died again several phases later. A kudzu plant. It was a Viviria mage who rescued me and nursed me back to health. An act that was most unexpected. I learned much of life that trisk.&quot;]

Opening her eyes, she peers curiously at you.

$npcU[&quot;If you are afraid of death, then you need not be. You may be brought back by the Courts, of course. And should your passing be final, I will burn a censer for you.&quot;] (set: $umbraTimer to it + 1)


[[&gt; &quot;Where are you going?&quot;-&gt;umbrasiaJourney]]
[[&gt; &quot;What *is* with the clasp, then?&quot;-&gt;umbrasiaClothing]]
[[&gt; &quot;Who are you?&quot;-&gt;umbrasiaBio]]
[[&gt; &quot;What&#39;s the Umbrasia District like?&quot;-&gt;umbrasiaPlace]]
[[&gt; &quot;Have you ever fucked Crusty&#39;s miggwitch?&quot;-&gt;umbrasiaFuck]]]</tw-passagedata><tw-passagedata pid="234" name="umbrasiaFuck" tags="final" position="2188,4546" size="100,100">$roomname[The Carriage - The Chimera]

(if: $umbraTimer &gt; 3)[You make to ask another question of $umbraName, but before you can get so much as a word out the carriage starts to creak and slow. You hear Crusty call out for his loyal miggwitch to stop, and both you and $umbraName exchange a glance. It&#39;s time to disembark.


[[&gt; Get ready to exit the carriage.-&gt;umbrasia conclusion]]
](else:)[You inquire if $umbraName has ever fucked Crusty&#39;s miggwitch to pay for her ride. She gives you a very faint smile, and though she makes not a sound you can&#39;t help but sense that she finds your question quite hilarious.

$npcU[&quot;I have not,&quot;] she tells you. $npcU[&quot;Truthfully, I have little interest in the living, let alone beasts.&quot;](if: $miggwitchfucked is true)[ She arches her brow for a moment at you, her eyes dipping downwards. $npcU[&quot;I don&#39;t judge those who indulge, of course, though you may wish to invest in a bath.&quot;]]

Shaking her head ever so slightly, $umbraName folds her hands in her lap. $npcU[&quot;If one wishes to indulge in that way, though, perhaps they would find enjoyment in the squalls that roam the district.&quot;] (set: $umbraTimer to it + 1)


[[&gt; &quot;Where are you going?&quot;-&gt;umbrasiaJourney]]
[[&gt; &quot;What *is* with the clasp, then?&quot;-&gt;umbrasiaClothing]]
[[&gt; &quot;Who are you?&quot;-&gt;umbrasiaBio]]
[[&gt; &quot;What&#39;s the Umbrasia District like?&quot;-&gt;umbrasiaPlace]]
[[&gt; &quot;Have you ever died?&quot;-&gt;umbrasiaDied]]]</tw-passagedata><tw-passagedata pid="235" name="&gt; &quot;That sounds awesome! Because you&#39;re made of rock?&quot;" tags="final" position="7311,3337" size="100,100">$roomname[The Carriage - The Hero](set: $confidence to it + 1)

The petrid - The Pounder - opens his mouth and laughs. It sounds a little like deep gravel, your words apparently provoking quite the amusement from the hero. He takes a moment to get a hold of himself, then grins in your direction.
$npcO[&quot;I *am* awesome,&quot;] he says. $npcO[&quot;But made of rock? Petrids are only rock when we petrify, citizen! When we&#39;re not, well,&quot;] he lifts a hand and peers at it, clenching and unclenching his fist. $npcO[&quot;We&#39;re flesh and blood, just like any ravel or lehlt.&quot;] He looks you over appraisingly, then lifts a thick and leathery hand to rub his chin. $npcO[&quot;I figure you haven&#39;t heard of me?&quot;] he asks.


[[&gt; &quot;I don&#39;t know much about heroes, honestly.&quot;]]
(link: &#39;&gt; &quot;No, but I\&#39;m glad I have, now!&quot;&#39;)[(set: $pounderHeardOf to false)(go-to: &quot;heardof&quot;)]
(link: &#39;&gt; &quot;Actually, I have!&quot;&#39;)[(set: $pounderHeardOf to true)(go-to: &quot;heardof&quot;)]</tw-passagedata><tw-passagedata pid="236" name="&gt; &quot;You. Look. So. Cool.&quot;" tags="final" position="7178,3187" size="100,100">$roomname[The Carriage - The Hero](set: $confidence to it + 1)

The petrid looks at you from beneath his hood-like mask, then straightens his back. He places his arms on his knees and sits almost resplendently for a few rocking gaits of the carriage.

$npcO[&quot;I,&quot;] he announces, $npcO[&quot;am The Pounder.&quot;] Despite sitting down, he appears to strike a pose for you, head tilted upwards and frozen in place so precisely that you almost wonder if he&#39;s used his race&#39;s innate petrification ability.

Then you see him crack one eye open, as if to make certain that you are sufficiently impressed.


[[&gt; &quot;That sounds awesome! Because you&#39;re made of rock?&quot;]]
[[&gt; &quot;Because of that huge dick you&#39;re packing, right?&quot;]]</tw-passagedata><tw-passagedata pid="237" name="&gt; &quot;Because of that huge dick you&#39;re packing, right?&quot;" tags="final" position="7168,3346" size="100,100">$roomname[The Carriage - The Hero](set: $omniLust to it + 1)

The petrid hesitates for a moment as you comment on his frankly *impressive* package. Each one of his orbs looks like they could fill more than a palm. He looks to the side, then crosses his arms as his legs spread a little.

$npcO[&quot;No, I&#39;m the Pounder because I pound my foes into the dirt, citizen. I hammer and hammer and break the opponents I go up against! People hear the name *The Pounder* and they know who&#39;ll come out on top!&quot;] He stops for a tick or two. $npcO[&quot;It&#39;s me, by the way,&quot;] he adds. $npcO[&quot;The Pounder is hard-hitting. The Pounder is a winner. The Pounder is *unstoppable*,&quot;] he boasts proudly, puffing his chest out.

Then he glances at you with a little good-natured mirth to his gaze. $npcO[&quot;My endowment is just a happy accident.&quot;] He lifts and drops his masked brow at you, the leathery, plated tip of his tail twitching. $npcO[&quot;Have you heard of me?&quot;] he asks, suddenly.


[[&gt; &quot;I don&#39;t know much about heroes, honestly.&quot;]]
(link: &#39;&gt; &quot;No, but I\&#39;m glad I have, now!&quot;&#39;)[(set: $pounderHeardOf to false)(go-to: &quot;heardof&quot;)]
(link: &#39;&gt; &quot;Actually, I have!&quot;&#39;)[(set: $pounderHeardOf to true)(go-to: &quot;heardof&quot;)]</tw-passagedata><tw-passagedata pid="238" name="&gt; &quot;I don&#39;t know much about heroes, honestly.&quot;" tags="final" position="7311,3487" size="100,100">$roomname[The Carriage - The Hero]

You explain that you don&#39;t know much about heroes, and the Pounder immediately straightens where he sits.

$npcO[&quot;Don&#39;t know much about heroes?&quot;] he asks. He slaps his knee hard. He crosses his arms across his barrel-like chest, then lifts his chin. $npcO[&quot;Allow me to fix that!&quot;] He sucks in a deep breath, as though preparing for a spiel you&#39;re quite certain he&#39;s given on more than one occasion before.

$npcO[&quot;The City of Nodd is a diabolical place, citizen! Full of crime, injustice, and cruelty. The strong rule the weak! The smart rule the stupid! The rich rule the poor! So when the poor, stupid and weak cry out for help, who will answer them?&quot;] He looks at you.

He glances to the side.

The Pounder quickly uses his tail to catch on his cape and make it rustle a bit behind him, emulating (text-style: &quot;sway&quot;)[billowing] in the wind.

$npcO[&quot;That&#39;s right: heroes! We who help those less fortunate. After all,&quot;] he says, as if about to unveil some grandiose secret. $npcO[&quot;It&#39;s *expected* that the strong will win, so when a greater force - such as myself - intervenes to help the pitiful prevail? That just adds to the chaos, don&#39;t you think?&quot;]

He settles down in his seat at last, then places his stony claws upon his knees. $npcO[&quot;Heroes fight off the villains of Nodd for the downtrodden and the helpless. It comes with quite a bit of fame, too,&quot;] he says, giving you a wink.

$npcO[&quot;And I am Omnillian&#39;s finest hero! Much better than The Machinist,&quot;] he says, huffing haughtily with his final statement. Then he fixes you with a glance. $npcO[&quot;And you are lucky enough to see some of my finest gadgets.&quot;]


[[&gt; &quot;What do you have?&quot;]]
[[&gt; &quot;I&#39;m not really a gadget person.&quot;]]</tw-passagedata><tw-passagedata pid="239" name="heardof" tags="final" position="7173,3498" size="100,100">$roomname[The Carriage - The Hero](set: $confidence to it + 1)

(if: $pounderHeardOf is true)[You insist that you have in fact already heard of The Pounder. His expression brightens even further, and he looks rather pleased for his name to have found you before he did.{

}](else:)[You admit that you haven&#39;t heard of The Pounder, and the petrid nods his head once. $npcO[&quot;And now you have,&quot;] he tells you.]

$npcO[&quot;I am Omnillian&#39;s finest hero. Much better than The Machinist,&quot;] he says, huffing haughtily with his final statement. Then he fixes you with a glance. $npcO[&quot;Would you like to see a few of my gadgets?&quot;] he asks and, without waiting for you to respond, he begins focusing upon his ego bracer intently. As he does he holds up his arm up in front of himself across his chest with fist clenched.


[[&gt; &quot;Sure, why not!&quot;-&gt;&gt; &quot;What do you have?&quot;]]
[[&gt; &quot;I&#39;m not really a gadget person.&quot;]]</tw-passagedata><tw-passagedata pid="240" name="&gt; &quot;What do you have?&quot;" tags="final" position="7171,3632" size="100,100">$roomname[The Carriage - The Hero]

The petrid smirks at you in anticipation, then returns his focus full to the task at hand. It takes several passing breaths as he holds his arm in place and you begin to see a subtle shimmer in the air in front of his arm, taking on a vaguely broad shape, wide and tall, but not too thick. It shimmers as if the *suggestion* of a thing manifests before anything else and then slowly fills in the space. Parts of it coalesce into seemingly solid material and discernable colors slowly at first then swiftly begin spread outwards with a faint sound and a sense of *something* shifting as it manifests. 

In but a few ticks the petrid is now equipped with a sizable shield on full display, which he peeks up over to keep eye contact with you as he speaks.

$npcO[&quot;Behold!&quot;] he intones, brandishing it with gusto. $npcO[&quot;The Omen Shield! I used this to withstand a direct assault by The Mind Melter two turns ago. I brought the vile dastard to their knees for three full sleeps!&quot;]


[[&gt; &quot;That&#39;s amazing! What else is in there?&quot;]]
[[&gt; &quot;You could bring me to *my* knees...&quot;]]</tw-passagedata><tw-passagedata pid="241" name="&gt; &quot;I&#39;m not really a gadget person.&quot;" tags="final" position="7315,3625" size="100,100">$roomname[The Carriage - The Hero](set: $confidence to it - 1)

As you inform the Pounder that gadgets aren&#39;t really your thing, a look of consternation crosses his face. He shifts about in his seat to the rhythm of the carriage, then waves one hand dismissively. $npcO[&quot;Pah. You&#39;ll change your mind after you see them.&quot;]

The Pounder turns to his ego bracer. He gazes into the large and lustrous eye for several moments before, as though dropping out of thin air with a soft pulse of teal-green light, a chitinous and polished shield falls into his grasp.

$npcO[&quot;Behold!&quot;] he intones, brandishing it with gusto. $npcO[&quot;The Omen Shield! I used this to withstand a direct assault by The Mind Melter two turns ago. I brought the vile dastard to their knees for three full sleeps!&quot;]


[[&gt; &quot;That&#39;s amazing! What else is in there?&quot;]]
[[&gt; &quot;You could bring me to *my* knees...&quot;]]</tw-passagedata><tw-passagedata pid="242" name="&gt; &quot;That&#39;s amazing! What else is in there?&quot;" tags="final" position="7171,3772" size="100,100">$roomname[The Carriage - The Hero](set: $confidence to it + 1)

Seemingly pleased at your response to his shield, The Pounder cracks his neck by rolling it on his shoulders. His masked face twists into a slight smirk as he holds the shield before himself to focus upon it and concentrates. The shape of the sturdy armament begins to subtly waver after a tick or two and the very physicality of it almost seems to fade bit by bit until, as his clenched fist releases, it pops fully and utterly out of existence, once more stored away.

$npcO[&quot;These,&quot;] he rumbles, his voice practically resonating in your chest as much as the carriage motions do, $npcO[&quot;are magical restraints.&quot;] He summons forth a set of four chitinous-looking manacles connected by a thick, hexagonal link chain. A pair of thicker cuffs seem to be connected to the set, looking as though they might clamp around someone&#39;s neck and tail, should they have one.

$npcO[&quot;Omnillian&#39;s finest craftsmanship. They&#39;re designed to reinforce the ambient spellthreads around anyone wearing them. With them on you&#39;d have a much harder time affecting *any* real change in the vicinity,&quot;] he says with a distinct note of pride, but then does something of a doubletake, as if realizing his explanation might be too technical, $npcO[&quot;Er, *if* you know what spellthreads are? Suffice to say - they&#39;re designed to make magic all but impossible,&quot;] he adds, not offering to explain further.

He dangles them in front of you. $npcO[&quot;Look, but do not touch, citizen.&quot;]


[[&gt; &quot;And what if I *want* to touch them?&quot;]]
[[&gt; &quot;I have no intention of doing that.&quot;]]</tw-passagedata><tw-passagedata pid="243" name="&gt; &quot;And what if I *want* to touch them?&quot;" tags="final" position="7300,3912" size="100,100">$roomname[The Carriage - The Hero](set: $omniLust to it + 1)

The Pounder pauses at your suggestion (if: $omniLust &gt; 2)[and you see his leathery sheath begin to swell](else-if: $omniLust &gt; 1)[and his legs spread a little more](else:)[and he swallows]. Then he adjusts his cape and flourishes the manacles he summoned up and into the air. The motion seems well practiced and, even as he makes it, his gaze looks beyond you, completely focused upon the task of returning the cuffs from whence they came. They spin and twirl in the air before, with an abrupt sweep of his arm, they decorporealizes into a faint hint of greenish mist that disperses soon after.

$npcO[&quot;You would be in *quite* a bind, citizen. Let me show you something even more impressive, now. A hero is nothing without three things: an image, an audience, and a nemesis.&quot;] His stony face twists into a smile. $npcO[&quot;I have a nemesis out there, an audience in here, and as for an image?&quot;] He pauses, then *claps* his hands together in front of himself as if gripping around something he can barely fit his digits around and then dips his head in focus.

Between the petrid&#39;s thick hands appears a towering greathammer that fills the entire carriage cabin. The handle looks carved and ornate, as though hewn from a stone not dissimilar to the Pounder&#39;s own architectural stylizations. The top of the hammer looks to be bigger than your torso with intricate arcanogram-like carvings all across its surface. 

You can see the Pounder&#39;s masked eyes staring at you from the other side of the hammer&#39;s towering handle, one on each side peering from behind his clasped hands.

$npcO[&quot;The Stonebreaker. With this, I sent my first nemesis to their final death. It&#39;s born of the same building that I awoke from. This, citizen, is my brother in arms.&quot;]

It&#39;s then that you notice that the top of the hammer looks remarkably shaped like a very large petrid&#39;s head, complete with blank and unseeing eyes. Perhaps the Pounder is quite literal about the *brother* statement. A deceased sibling? A failed excision? Potential that was never born or saw life? Or simply a grim implication? 

Then the Pounder straightens his back, smirks confidently, and awaits your reaction as you consider his weapon.


[[&gt; &quot;Isn&#39;t that a little stereotypical?&quot;]]
[[&gt; &quot;That&#39;s the perfect weapon!&quot;]]</tw-passagedata><tw-passagedata pid="244" name="&gt; &quot;I have no intention of doing that.&quot;" tags="final" position="7168,3915" size="100,100">$roomname[The Carriage - The Hero](set: $confidence to it - 1)

The Pounder&#39;s confident expression fades slightly and he gives you a more serious nod. As if he hadn&#39;t expected you to *actually* pay attention to his warning, he gives a curt nod.

$npcO[&quot;Good,&quot;] he says. Then he dangles the restraints over his ego bracer for several breaths until they begin to dematerialize before fully fading back away from existence.

$npcO[&quot;Then let me show you something even more impressive, now. A hero is nothing without three things: an image, an audience, and a nemesis.&quot;] His stony face twists into a smile. $npcO[&quot;I have a nemesis out there, an audience in here, and as for an image?&quot;] He pauses, then *claps* his hands together in front of himself as if gripping around something he can barely fit his digits around and then dips his head in focus.

Between the petrid&#39;s thick hands appears a towering greathammer that fills the entire carriage cabin. The handle looks carved and ornate, as though hewn from a stone not dissimilar to the Pounder&#39;s own architectural stylizations. The top of the hammer looks to be bigger than your torso with intricate arcanogram-like carvings all across its surface. 

You can see the Pounder&#39;s masked eyes staring at you from the other side of the hammer&#39;s towering handle, one on each side peering from behind his clasped hands.

$npcO[&quot;The Stonebreaker. With this, I sent my first nemesis to their final death. It&#39;s born of the same building that I awoke from. This, citizen, is my brother in arms.&quot;]

It&#39;s then that you notice that the top of the hammer looks remarkably shaped like a very large petrid&#39;s head, complete with blank and unseeing eyes. Perhaps the Pounder is quite literal about the *brother* statement. A deceased sibling? A failed excision? Potential that was never born or saw life? Or simply a grim implication?  

Then the Pounder straightens his back, smirks confidently, and awaits your reaction.


[[&gt; &quot;Isn&#39;t that a little stereotypical?&quot;]]
[[&gt; &quot;That&#39;s the perfect weapon!&quot;]]</tw-passagedata><tw-passagedata pid="245" name="&gt; &quot;That&#39;s the perfect weapon!&quot;" tags="final" position="7295,4057" size="100,100">$roomname[The Carriage - The Hero](set: $confidence to it + 1)

The Pounder&#39;s stony teeth flash again as he grins from around his hammer. He thumps it against the rocking base of the carriage, then sits up in his seat. $npcO[&quot;It&#39;s always good to see a citizen who recognizes flair when they see it.&quot;]

Given the apparent weight and awkwardness of his hammer in such a relatively cramped space, he quickly returns his focus to it and concentrates, dematerializing the massive weapon. He taps on his knees a couple of times(if: $omniLust &gt; 1)[ as his sheath swells ever so slightly,] his thighs lightly squeezing either side of his pendulously oversized balls.


[[&gt; &quot;...So, is that it?&quot;]]
[[&gt; &quot;You look like you have another weapon down there.&quot;]]</tw-passagedata><tw-passagedata pid="246" name="&gt; &quot;You could bring me to *my* knees...&quot;" tags="final" position="7310,3777" size="100,100">$roomname[The Carriage - The Hero](set: $omniLust to it + 1)

You teasingly suggest that the Pounder could bring more than a villain to their knees right now. He seems momentarily disappointed that you aren&#39;t impressed by his shield right up until he realizes the weight of your implication. Then, his nostrils flare and his legs spread a tiny bit. (if: $confidence &gt; 0)[A little smirk plays about his snout before he shakes his head.](else:)[A slight frown crosses his snout, but it doesn&#39;t diminish the suggestiveness of his pose.]

The Pounder holds the shield before himself to focus upon it and concentrates. The shape of the solid armament begins to subtly waver after a tick or two and the very physicality of it almost seems to fade bit by bit until, as his clenched fist releases, it pops fully and utterly out of existence, once more stored away. $npcO[(if: $confidence &gt; 0)[&quot;I am pleased to leave a good impression, citizen, but I would hate to cut short your demonstration,&quot;](else:)[&quot;A hero has more important things to do, you know. But if the Omen Shield is not of interest, then perhaps...&quot;]] he rumbles. 

$npcO[&quot;These,&quot;] the petrid continues, $npcO[&quot;are magical restraints.&quot;] He summons forth a set of four chitinous-looking manacles connected by a thick, hexagonal link chain. A pair of thicker cuffs seem to be connected to the set, looking as though they might clamp around someone&#39;s neck and tail, should they have one.

$npcO[&quot;Omnillian&#39;s finest craftsmanship. They&#39;re designed to reinforce the ambient spellthreads around anyone wearing them. With them on you&#39;d have a much harder time affecting *any* real change in the vicinity,&quot;] he says with a distinct note of pride, but then does something of a doubletake, as if realizing his explanation might be too technical, $npcO[&quot;Er, *if* you know what spellthreads are? Suffice to say, they&#39;re designed to make magic all but impossible.,&quot;] he adds, not offering to explain further.

He dangles them in front of you. $npcO[&quot;Look, but do not touch, citizen.&quot;]


[[&gt; &quot;And what if I *want* to touch them?&quot;]]
[[&gt; &quot;I have no intention of doing that.&quot;]]</tw-passagedata><tw-passagedata pid="247" name="&gt; &quot;Isn&#39;t that a little stereotypical?&quot;" tags="final" position="7161,4057" size="100,100">$roomname[The Carriage - The Hero](set: $confidence to it - 1)

At your question, the Pounder&#39;s shoulders slump a little and his snout crinkles. His tailtip twitches rapidly for a few moments as he draws himself back. $npcO[&quot;No, it&#39;s unique,&quot;] he says. (if: $confidence &lt; 0)[He sneers slightly, then gives a displeased grumble.](else:)[He visibly tries not to let it bother him too much, though, and presses his best attempt at a charming smile back to his snout again.]

Given the apparent weight and awkwardness of his hammer in such a relatively cramped space, he quickly returns his focus to it and concentrates, dematerializing the massive weapon. He taps on his knees a couple of times(if: $omniLust &gt; 1)[ as his sheath swells ever so slightly,] his thighs lightly squeezing either side of his pendulously oversized balls.


[[&gt; &quot;...So, is that it?&quot;]]
[[&gt; &quot;You look like you have another weapon down there.&quot;]]</tw-passagedata><tw-passagedata pid="248" name="&gt; &quot;...So, is that it?&quot;" tags="final" position="7293,4190" size="100,100">$roomname[The Carriage - The Hero](set: $confidence to it - 1)

You question if there is anything more forthcoming from the petrid. He narrows his eyes, staring at you for a few ticks as the motions of the carriage rock you both back and forth, then tightens his jaws.
$npcO[&quot;A hero shouldn&#39;t reveal all of his arsenal, citizen,&quot;] he rumbles, his voice gravelly and measured. (if: $omniLust &gt; 1)[As he sits there, you can see a distinct fattening to his sheath](else:)[He alternates between watching out the window and watching you], (if: $confidence &gt; 2)[smiling faintly to himself with a calm and confident expression](else-if: $confidence &lt; -2)[scowling a little irritably and fidgeting](else:)[drumming idly on his knee with his fingers].

The carriage bounces and trundles along the road through the streets of the Omnillian District, slowly approaching your final destination as a poignant silence passes between you and the Pounder. (if: $omniLust &gt; 2)[And before long the jostling and jolting of the carriage, coupled with your steady teasing, stir him to the point that his heavy and plump spire starts to jut free from his sheath. In a few heartbeats it throbs there between you and him, silently demanding.

(if: $confidence &lt; -2)[With a grimace he looks down at you, then sucks in a deep breath.

$npcO[&quot;Now look at what you&#39;ve done to me, citizen,&quot;] he rumbles darkly. $npcO[&quot;You know, as a hero, it&#39;s my duty to teach people lessons about *responsibility*.&quot;] Then he stands up in the moving carriage and reaches for you. $npcO[&quot;And *you* are going to take responsibility for this right now.&quot;]](else:)[{

}With an almost trepidous lick of his leathery lips, the petrid looks you up and down and slowly spreads his legs that little bit more. He draws in a deep breath, then flashes you one of his heroic, winning smiles.

$npcO[&quot;Now look at what you&#39;ve done to me, citizen,&quot;] he rumbles coyly. $npcO[&quot;You know, as a hero, it&#39;s my duty to teach people lessons about responsibility...&quot;] He trails off, then uses one hand to pat his groin. $npcO[&quot;Perhaps you could take some for this problem you&#39;ve given me,&quot;] his dark voice teases.]]


(if: $omniLust &gt; 2 and $confidence &lt; -2)[
[[&gt; Uh oh.-&gt;omniFuck]] [CW: dubcon]](else-if: $omniLust &gt; 2)[
[[&gt; Take a seat in the petrid&#39;s lap.-&gt;omniFuck]]]
(unless: $omniLust &gt; 2 and $confidence &lt; -2)[{}[[&gt; Say nothing.]]]</tw-passagedata><tw-passagedata pid="249" name="&gt; &quot;You look like you have another weapon down there.&quot;" tags="final" position="7165,4199" size="100,100">$roomname[The Carriage - The Hero](set: $omniLust to it + 1)

Your eyes dip downwards as you comment on the Pounder&#39;s hefty sheath. He looks at you in silence for a long, ponderous tick... (if: $omniLust &gt; 2)[before a thick, glistening tip begins to peek from his sheath, fattening up as it throbs slowly into view. (if: $confidence &gt; 2)[Slowly he licks his lips, then spreads his legs to show off his rising spire, deliberately making it bob for you.](else-if: $confidence &lt; -2)[With a grimace, he spreads his legs and fixes his gaze on you. $npcO[&quot;Yes, stare if you wish, even heroes have needs. What of it?&quot;]](else:)[Uncertainly, he watches you as if not entirely sure what to say as he steadily thickens up.]](else:)[before his sheath swells a little, and he looks away.]

The carriage bounces and trundles along the road through the streets of the Omnillian District, slowly approaching your final destination as a poignant silence passes between you and the Pounder. (if: $omniLust &gt; 2)[And before long the jostling and jolting of the carriage, coupled with your steady teasing, bring his heavy and plump spire to jut completely free from his sheath. It throbs there between you and him, silently demanding.

(if: $confidence &lt; -2)[With a grimace he looks down at you, then sucks in a deep breath and lets out an irritable growl.

$npcO[&quot;You know, as a hero, it&#39;s my duty to teach people lessons about *responsibility*.&quot;] Then, just list that he stands up in the moving carriage and reaches for you. $npcO[&quot;And *you* are going to take responsibility for this right now.&quot;]](else:)[{

}With an almost trepidous lick of his leathery lips, the petrid looks you up and down and slowly spreads his legs that little bit more. He draws in a deep breath, then flashes you one of his heroic, winning smiles.

$npcO[&quot;Now look at what you&#39;ve done to me, citizen,&quot;] he rumbles coyly. $npcO[&quot;You know, as a hero, it&#39;s my duty to teach people lessons about responsibility...&quot;] He trails off, then uses one hand to pat his groin. $npcO[&quot;Perhaps you could take some for this problem you&#39;ve given me,&quot;] his dark voice teases.]]


(if: $omniLust &gt; 2 and $confidence &lt; -2)[
[[&gt; Uh oh.-&gt;omniFuck]] [CW: dubcon]](else-if: $omniLust &gt; 2)[
[[&gt; Take a seat in the petrid&#39;s lap.-&gt;omniFuck]]]
(unless: $omniLust &gt; 2 and $confidence &lt; -2)[{}[[&gt; Say nothing.]]]</tw-passagedata><tw-passagedata pid="250" name="&gt; Say nothing." tags="final" position="7162,4345" size="100,100">$roomname[The Carriage - The Hero]

You opt to say nothing and let the remainder of the journey proceed in relative silence.

(if: $omniLust &gt; 2)[The Pounder sits there, his cock stiffly jutting upwards from his lap as he awaits some sort of response from you. Yet after a short while, it becomes apparent that he&#39;ll have to handle his problem himself, despite your teasing.

(if: $confidence &gt; 0)[He gives you an understanding, almost apologetic smile as his fat and fleshy spire pulses and throbs on display, but is polite enough not to deal with it there in front of you like that.](else:)[He grumbles at you, his expressing somewhat accusatory - as if to say *this is your fault*. Still, he doesn&#39;t seem inclined to do anything about it himself, and instead grumbles in silent desire as the carriage ride trundles onwards.]](else:)[{

}The Pounder entertains himself for the remainder of the ride by alternating between window-gazing and peering into the eye of his ego bracer. (if: $confidence &gt; 2)[He occasionally glances back at you and grins, only to run through some mental checklist of his items, equipment, and apparently his contingencies.](else-if: $confidence is &lt;-2)[He barely seems able to focus on any one thing for long, his leathery leg jiggling as he gazes anywhere but at you.](else:)[He seems content to relax for the most part, taking the silence of the carriage ride as time to reflect and unwind.]]

Eventually though, the carriage begins to slow down. You feel it in the jostling and jolting of the journey - it isn&#39;t the temporary halting of the wheels as Crusty waits for some beast or traffic to pass by but rather a gradual halt.

Your suspicions are confirmed only a few moments later when the driver&#39;s voice cries out for the miggwitch pulling your carriage to stop.

(if: $confidence &gt; 2 AND $omniLust &lt; 2)[[[&gt; Get out of the carriage.-&gt;minipounder]]
][[&gt; Get out of the carriage.-&gt;omnillian petrid conclusion]]</tw-passagedata><tw-passagedata pid="251" name="omnillian petrid conclusion" tags="final" position="7347,5103" size="100,100">$roomname[The Omnillian District]

(if: $omniLust is 10)[{&lt;!--COMMENT! This is what prints if you made the Pounder very happy *and* very horny. He knots you, so waddles home with you.--&gt;

}You manage to stall for nearly two full chimes before Crusty himself comes and opens the door. Outside, you can see that there are two customers already waiting to board. They stare in at you and the Pounder, your (if: $cunt is true)[cunt](else:)[ass] affixed firmly to his sheath, a thick layer of cum seemingly gluing you together.

$npc[&quot;Out, out!&quot;] Crusty urges you. The Pounder looks at you almost ashamed - though you aren&#39;t entirely certain why in a city like Nodd. Perhaps something like this might mar his reputation as a hero? Yet, there isn&#39;t anything for it, either.

The Pounder wraps his arms around you to support you, then slowly, shakily stands. You feel his knot *tug* on your hole as he does, **firmly** reminding you both that there is no chance of separating. He clears his throat, then boldly waddles (as boldly as one can waddle) out of the carriage.

$npcO[&quot;Never fear, citizens!&quot;] he announces to the two waiting customers - a lehlt and chimera - $npcO[&quot;I am merely escorting this citizen back to their, uh... brothel.&quot;]

With that, he hurries away from the carriage, his every step making his fat and heated dick flex and throb inside you - pulsing more thick and gloopy cum into your body. He shudders visibly in pleasure several times as you jointly walk away.

You ask him about the brothel comment, and he glances away.
$npcO[&quot;A hero needs to think on their feet, citizen,&quot;] he explains, though his voice sounds somewhat apologetic. Then he gives a thoughtful grumble. $npcO[&quot;...All of this walking has excited me more. I think we&#39;ll be stuck together for quite some time. (if: $cunt is true)[I hope you don&#39;t mind little hero-lings.](else:)[I hope you don&#39;t mind looking bloated.]&quot;]

The Pounder glances up and down the street you find yourself on, looking at the various other people who peer over at the pair of you, idly curious about the public spectacle you seem to be putting on. Then he straightens up, clutches you tight, and nods. $npcO[&quot;Come, then. Let&#39;s find a spot out of sight so we can wait this out,&quot;] he suggests. $npcO[&quot;After we separate, in case you ever need help, I shall give you my personal arcanogram.&quot;] He lifts his chin proudly, then pats your rather swollen-looking belly. $npcO[&quot;Or even if you simply want to spend some more (text-style: &quot;smear&quot;)[**time**] together.&quot;]

With that, he resumes waddling and turns the corner around a building, your rump firmly affixed to his knot. The trip is short but shiver-inducing, and you&#39;re all the more rounded by the time he&#39;s pressed you against a wall, waiting out the rest of his tie.

After some time he *finally* manages to soften enough to pluck his partially swollen knot free with a slick sound and a mutual gasp. After giving you his arcanogram, and tidying himself up, he takes his leave with a backwards glance and a smile at you.

You have arrived in the Omnillian district. Or at least, been carried into it.{

}](else-if: $confidence &gt; 2)[{&lt;!--COMMENT! This is what happens if you boost the Pounder&#39;s confidence up, but either don&#39;t fuck him *or* he&#39;s not horny enough to be fucked. He beats Sweetbeak in a (brief) encounter.--&gt;

}(if: $omniLust &gt; 2)[(if: $petridFucked is true)[The Pounder walks out of the carriage with a pleased smile on his snout, still rubbing his sheath as his spent cock finishes retracting into it. You shakily stagger out after him, cum dripping from between your legs as you try to get your wobbly limbs under control, feeling thoroughly satisfied as well.](else:)[The Pounder walks out of the carriage, still sporting a very fat, throbbing erection. He seems aware of the fact, but not abashed despite a few heads visibly turning his way. You follow him out of the carriage.]](else:)[The Pounder climbs out of the carriage with a confident smirk, glancing this way and that as he steps onto the street. He oozes an aura of confidence, and you can&#39;t help but feel that part of it is your doing.]

Just as you&#39;re about to walk past the Pounder though, he throws an arm out to block your passage. You start to question what he&#39;s doing when he suddenly pushes you a little back and urges you away with his plated, leathery tail.

$npcO[&quot;Sweetbeak! We meet again,&quot;] his voice booms with all the bombastic grandeur he can muster.

Right before your eyes a lamppost starts to *quiver*. You realize that the top of it is off-colored, and that there&#39;s something not entirely normal about the light fixture. The effect fades, though, as a brightly-colored ravel slinks out from behind the thin pole, somehow having disguised himself with it.

The ravel looks to be vivid purple and has numerous candies and sweets adorning his body. He holds a bright, swirly lollipop in one set of talons which he licks with deliberate showmanship, before he grins toothily at the Pounder.

$npcM[&quot;Pooouuundcake! How fortunate a meeting!&quot;] he cackles. He plucks a set of three wrapped candies from seemingly nowhere, brandishing them between his slender claws. $npcM[&quot;Sweetbeak will have it licked this time!&quot;]

Without hesitation the ravel *hurls* the candies your way. In the same instant the Pounder bodily shoves you out of the way, keeping you both out of the trajectory of the undoubtedly dangerous treats. The candies scatter about the street&#39;s surface, each exploding in a puff of colorful light. One strikes a greep, enveloping it in shimmering mist, and by the time it clears all that remains is a very greep-shaped cake - which its fellow greep immediately begin to gruesomely gobble. Seeing as how his ambush has failed the ravel quickly beats a retreat towards a nearby alley to look for another opportunity.

$npcO[&quot;I hate to sour the moment, but-&quot;] the Pounder replies. He crouches into a slightly lower stance with a practiced motion and focuses intently. For several breaths the ravel gets further away and seems liable to escape from view, but after but a couple ticks the Pounder is holding the freshly rematerialized manacles in his grasp which he spins overhead and flings towards the fleeing villain.

As quickly as the battle began, it ends - the magical cuffs collide with the ravel from behind and secure themselves in an instant, cinching around the bird&#39;s legs, neck, tail, and arms, all from behind, causing him to stumble immediately and fall into a squirming heap.

$npcM[&quot;Sour?&quot;] Sweetbeak cries. $npcM[&quot;**(text-style: &quot;rumble&quot;)[Sour?!]** Does it KNOW how much CANDY Sweetbeak eats?&quot;] he fumes at the Pounder.
The petrid, meanwhile, turns to you as the remaining crowd nearby begins to applaud.

$npcO[&quot;My apologies, citizen,&quot;] he offers. $npcO[&quot;That was far too brief a battle! I should have sparred longer. Now the crowds aren&#39;t as engaged. Hmph.&quot;] He hesitates, looking disappointed that he defeated Sweetbeak too quickly. His disappointment is fleeting, though, and he gives you a large thumbs up.

$npcO[&quot;If you are ever in need, remember to call upon the Pounder!&quot;] he urges - before walking across and picking Sweetbeak up. He hefts the ravel over his shoulder, ass-end towards you, then walks into the crowd. You watch the squirming confection-based ravel wriggle unhappily as he&#39;s taken away.

Eventually you are on your own again in the orderly and efficient Omnillian district, Crusty&#39;s carriage having long ago disappeared with a new set of passengers.

You have arrived.{

}](else-if: $confidence &lt; -2)[{&lt;!--COMMENT! This is what happens if you piss off the Pounder and smash his confidence. He either forcefully fucks you (if he&#39;s horny), or doesn&#39;t - but either way Sweetbeak makes short work of him.--&gt;

}(if: $omniLust &gt; 2)[The Pounder stalks out of the carriage cockily, still rubbing his sheath as his spent cock retracts into it. You shakily stagger out after him, cum dripping from between your legs as you try to get your wobbly limbs under control.

You catch the petrid leaning against a lamppost with a pleasured yet still grumpy sneer on his face. He apparently did not particularly enjoy his journey with you, other than perhaps the *very* protracted sex, and appears to be distracted by focusing on his ego bracer.{

}](else:)[The petrid exits the carriage before you, still grumbling to himself about your journey as he pauses near a lamppost. He glances down at his ego bracer with a scowl and begins interacting with it, as though checking his bearings, or perhaps communicating on the Arcanet.]

Were he not so grumpy and distracted, he may have noticed the lamppost&#39;s curious design - a splash more colorful towards the top half than the bottom, but as it is he seems unaware. Before you can even think of commenting on the unusual appearance of the light, the colorful portion at the top slithers down the post like a serpent, changing shape as it goes. By the time it reaches the lowest portions it has shifted into the bulky form of a large, garishly colorful, and oddly dressed ravel!

The Pounder suddenly perks up and spins around, eyes wide, but it&#39;s already too late. The colorful ravel draws forth a wand that looks particularly like a lollipop, and could easily be confused with several others he holds in his other hand. The bird gestures dramatically as the wand gives off a flash of purple light, tendrils of magic licking across the petrid.

The Pounder cries out, but doesn&#39;t have time to react. His very digits soften and become less rigid, sagging a bit. His cries become a gurgle as his form begins to soften all over, his features growing semi-transparent and losing shape. The colorful ravel prances in small circles around the melting petrid, who looks increasingly like some form of amorphous after-dinner gelatin dessert.

Eventually the Pounder is no more, and in his place is simply a colorful, translucent pile. To its credit, it looks just like the Pounder - were he laying down, sugary, and edible. The ravel grins delightedly and licks his beak with a long, sinuous tongue, then dashes off into the distance, victorious, leaving you and the Pounder, or what&#39;s left of him, behind.

You are now in the orderly and efficient Omnillian district, standing on your own. In short order, Crusty&#39;s carriage vanishes with a new set of passengers in tow, leaving you to explore your new locale.{

}](else:)[(if: $omniLust &gt; 2)[{&lt;!--COMMENT! !Resume here! This might be the longest stint - it&#39;s what happens if you&#39;re &#39;neutral&#39; overall. Either the Pounder fucks you or not, but either way, he fights Sweetbeak and neither of them win. It&#39;s a bit silly, but if any of it doesn&#39;t feel &#39;right&#39; then I&#39;m not super attached to any of the writing. &lt;3 --&gt;

}(if: $petridFucked is true)[The Pounder walks out of the carriage with a pleased smile on his snout, still rubbing his sheath as his spent cock finishes retracting into it. You shakily stagger out after him, cum dripping from between your legs as you try to get your wobbly limbs under control, feeling thoroughly satisfied as well.](else:)[The Pounder walks out of the carriage, still sporting a very fat, throbbing erection. He seems aware of the fact, but not abashed despite a few heads visibly turning his way. You follow him out of the carriage.]](else:)[The Pounder climbs out of the carriage thoughtfully, idly fussing with his ego bracer as he steps onto the street.]

The petrid walks across to a lamppost and leans against it. He stops and takes some time to address something to do with his ego bracer - perhaps sorting through some of the items he showed you. It&#39;s then that you notice that there&#39;s something... *odd* about the lamppost.

Before you can even think of commenting on the unusual appearance of the light, the colorful portion at the top slithers down the post like a serpent, changing shape as it goes. By the time it reaches the lowest portions it has shifted into the bulky form of a large, garishly colorful, and oddly dressed ravel!

The Pounder suddenly perks up and spins around, eyes wide, but it&#39;s already too late. The colorful ravel draws forth a wand that looks particularly like a lollipop and gestures with a flash of tealish-green light, tendrils of magic racing towards the petrid.

Yet with astonishing dexterity, the leathery insider suddenly dodges backwards and out of reach of the spell. The ravel&#39;s expression twists into one of pouting disappointment.

$npcO[&quot;Sweetbeak! We meet again,&quot;] the Pounder&#39;s voice booms with all the bombastic grandeur he can muster.

The ravel looks to be vivid purple and has numerous candies and sweets adorning his body. He holds a bright, swirly lollipop in one set of talons which he licks with deliberate showmanship, before his disappointment twists back into a toothy grin.

$npcM[&quot;Pooouuundcake! How fortunate a meeting!&quot;] he cackles. He plucks a set of three wrapped candies from seemingly nowhere, brandishing them between his slender claws. $npcM[&quot;Sweetbeak will have it licked this time!&quot;]

Without hesitation the ravel *hurls* the candies your way. In an instant, the Pounder has summoned his Omen Shield and uses it to block the trio of candies. They bounce off of it and crash into the street, exploding in a puff of tealish light. One strikes a greep, enveloping it in gloamy mist, and by the time it clears all that remains is a very greep-shaped cake - which its fellow greep immediately begin to gruesomely gobble, unaware and uncaring of their cannibalistic act.

$npcO[&quot;I hate to sour the moment, but-&quot;] the Pounder retorts. He wrenches forth his auto-restraints, then makes to sling them at Sweetbeak. Sweetbeak catches on to the Pounder&#39;s ploy, though, and hurls forth a shower of gumballs. They crash into the restraints and burst into a thick, bright pink gum that sends the Pounder&#39;s tool hurtling to the ground with a wet *splat*.

The Pounder growls and summons forth his hammer, wielding it in one hand as his shield hangs off his other arm.

$npcM[&quot;Sour?&quot;] Sweetbeak cries. $npcM[&quot;**(text-style: &quot;rumble&quot;)[Sour?!]** Does it KNOW how much CANDY Sweetbeak eats?&quot;] he fumes at the Pounder. He immediately starts grabbing hold of lollipops, gumballs, and candies of all sorts and begins shoveling them into his beak by the fistful. $npcM[&quot;It is (text-style: &quot;smear&quot;)[**impossible!**]&quot;] he declares, stomping the ground angrily as colored, sugary saliva splatters from his beak. He continues stuffing candy into his beak so urgently you think he might choke.

$npcO[&quot;Impossible?&quot;] the Pounder demands. $npcO[&quot;No, villain, I am a hero!&quot;]

$npcM[&quot;Yeth yeth yeth,&quot;] Sweetbeak caws mockingly with a roll of his eyes, his beak too stuffed to speak properly. $npcM[&quot;Sweethbeak ith noth even ih the *moodth* now. If it can&#39;t even *bother* tho be clether then it ith no thun to play with,&quot;] the ravel huffs. He swallows audibly, a visible bulge *oozing* down his feathered neck, bright wattle wobbling. Then he flashes *you* a sickly-sweet smile directly. $npcM[&quot;Even this one seems unimpressed of the stoned bore,&quot;] he cackles. He flicks his fan-tipped tail at you and the Pounder both. $npcM[&quot;It does not want to hang out with this stinky old sour candy. (text-style: &quot;smear&quot;)[***And neither does Sweetbeak!***]&quot;] He grins, then lifts a gumball to his beak not unlike the ones he threw. $npcM[&quot;How about seconds?!&quot;]

With a flick of his wrist, Sweetbeak&#39;s other hand gestures with a wand, causing the petrid hero to brace himself into a defensive posture... but nothing happens. Using the distraction the ravel takes a deep, nasally breath and hacks forth an enormous and disgusting splatter of mucousy substance from his beak that&#39;s tinged with the colorful hue of the gumball. The ravel&#39;s improvised spell creates an immense patch of a gelatinously glistening, lumpy substance that covers most of the street in a several inch thick layer.

The ravel takes off in the opposite direction and passes by a pair of slyne standing nearby. One looks up with a gasp and nudges the other. 
$npc[&quot;(text-style: &quot;smear&quot;)[**Sweetbeak**]! It&#39;s that crazy ravel I told you I saw a few sleeps ago!&quot;] one says. 
$npc[&quot;... his legwarmers really (text-style: &quot;smear&quot;)[**are**] a bit tacky,]&quot; the other responds. The ravel starts to slow down as a scowl crosses his features, but a quick glance back towards the petrid hero makes him roll his eyes and continue running, rounding a corner and out of sight.

One of the roaming greeps, now satisfied after consuming its confected companion, has wandered into Sweetbeak&#39;s glistening trap and gotten very much stuck. It falls forwards and plants its &#39;face&#39; straight into the gunk, squirming for a brief moment before going still, evidently suffocating. The edges of the large puddle of sugary glaze have already begun to visibly dry and harden, losing its sticky glisten.

Eventually the Pounder sighs and turns to you as the bystanders around you slowly begin to notice the Pounder&#39;s presence, scurrying forwards to pester him for attention or autographs.

$npcO[&quot;My apologies,&quot;] the petrid offers as the locals begin to crowd. $npcO[&quot;I was taken by surprise.&quot;] He shakes his head, then gazes off into the distance. You aren&#39;t certain what it is that he&#39;s gazing at, but he still manages to do so dramatically. It certainly seems to impress those around you.

$npcO[&quot;If you are ever in need, remember to call upon the Pounder!&quot;] he says - before he lets himself be accosted by the crowd fully.

Eventually you are on your own again in the orderly and efficient Omnillian district, Crusty&#39;s carriage also disappearing with a new set of passengers.

{

}]

&lt;img src=&quot;http://nodd-arca.net/carriage/carriage_omnillian.jpg&quot; style=&quot;display: block; margin-left: auto; margin-right: auto; width: 100%;&quot;&gt;
&lt;br&gt;
&lt;br&gt;
&lt;center&gt;&lt;h3&gt;(text-style: &quot;smear&quot;)[END]&lt;/h3&gt;

&lt;font size=&quot;5em&quot;&gt;{(link:&quot;&gt; Commence another journey &lt;&quot;)[(reload:)]}&lt;/font&gt;&lt;/center&gt;</tw-passagedata><tw-passagedata pid="252" name="omniFuck" tags="final" position="7308,4358" size="100,100">$roomname[The Carriage - The Hero](set: $petridFucked to true)

(if: $confidence &gt; 2)[(set: $omniLust to 10)You *did* tease the poor hero. It&#39;s only right that you help him out with his problem. With a returned smile, you step forward and turn around to take a seat in his lap.

The Pounder, however, stops you with his rather large hands. He wraps them around your hips and instead guides you as you move, positioning you. With his firm guidance it takes only a few heavy heartbeats before you feel the very fat presence of his crown *squash* against your (if: $cunt is true)[pussy](else:)[ass]. You hear him give a pleased rumble before his hands begin to press downwards.

$npcO[&quot;That&#39;s the spirit, citizen... Let&#39;s get my dick inside you.&quot;]

The pressure starts to grow, and you feel the toe-curling, slimy force of his rock-hard cock threaten to squelch inside.


[[&gt; &quot;Aahh!&quot;-&gt;omniFuck2]]
](else-if: $confidence &lt; -2)[You don&#39;t have much say in the matter as the petrid grabs a hold of you with both of his very thick, very powerful arms. He hefts you up and tugs you closer to him until you can feel the heat radiating from his masked, leathery body. His expression is not a happy one, and the almost architecturally textured, pulsating spire jutting from between his legs tells you everything you need to know about what&#39;s going to come next.

This is going to *ache*.

Suddenly there&#39;s a flash of tealish-green light as the Pounder materializes the restraints that he demonstrated not long ago - and before you can so much as blink, they&#39;ve *snicked* tightly around your wrists as they&#39;re wrenched uncomfortably behind your back.

The Pounder wastes no time in spinning you around and shoving you face-first against your seat. Your breath explodes from your lungs as you&#39;re smushed up against the crusty cushion, then sucks straight back in when you feel the (colour: red)[hot], (text-style: &quot;shudder&quot;)[throbbing], (text-style: &quot;smear&quot;)[slimy] shaft of the petrid slap against your ass.

$npcO[&quot;Consider this a lesson in heroes, citizen,&quot;] the Pounder rumbles as his broad hand wraps around your trapped wrists. His other hand, meanwhile, digs down and physically gropes the curve of your ass, one thick and leathery finger digging into your (if: $cunt is true)[cunt](else:)[pucker].


[[&gt; &quot;Nnghk!&quot;-&gt;omniFuck2]]
](else:)[You *did* tease the poor hero. It&#39;s only right that you help him out with his problem. With a returned smile, you step forward and turn around to take a seat in his lap.

The Pounder, however, stops you with his rather large hands. He wraps them around your hips and instead guides you as you move, positioning you. With his firm guidance it takes only a few heavy heartbeats before you feel the very fat presence of his crown *squash* against your (if: $cunt is true)[pussy](else:)[ass]. You hear him give a pleased rumble before his hands begin to press downwards.

$npcO[&quot;That&#39;s the spirit, citizen... Let&#39;s get my dick inside you.&quot;]

The pressure starts to grow, and you feel the toe-curling, slimy force of his rock-hard cock threaten to squelch inside.


[[&gt; &quot;Aahh!&quot;-&gt;omniFuck2]]]</tw-passagedata><tw-passagedata pid="253" name="omniFuck2" tags="final" position="7369,4497" size="100,100">$roomname[The Carriage - The Hero]

(if: $confidence &lt; -2)[There&#39;s nothing you can do to stop him like this. His strength is undeniable, and it really feels like struggling against stone whenever you try to move in a way he doesn&#39;t want. With his free hand, he grips his fat and rigid cock, letting it find the cleft of your ass. With a growl, he *squashes* it against your (if: $cunt is true)[ass, then drags it down to kiss against your pussy](else:)[ass, rubbing it around until his blunt tip meets your pucker directly].

$npcO[&quot;The best lessons are (text-style: &quot;smear&quot;)[**hard earned**],&quot;] he growls at you, but the tone of his voice sounds anything but soothing. The rocking rhythm of the carriage keeps you jostling back and forth, increasing and decreasing the pressure of his drooling and heated cocktip against your entrance. $npcO[&quot;So do try to relax, citizen.&quot;]

Then he leans his body weight over yours and, with the force of a brick wall, **forces** the fat crown of his cock into you.

The (text-style: &quot;stretch&quot;)[stretch] is intense and your (if: $cunt is true)[pussy](else:)[ass] aches in protest, but the petrid behind you brokers no mercy. You try to look back over your shoulder at him as you feel that first powerful **throb** spasm inside you, a copious (text-style: &quot;smear&quot;)[splurt] of precum flooding your passage - but the petrid&#39;s thick hand grips your skull and keeps you from looking back at him.

$npcO[&quot;Eyes forward, citizen. You just focus on taking your (text-style: &quot;smear&quot;)[**lesson**].&quot;]

And without a further word, he starts to *thrust*.


[[&gt; &quot;AahH!&quot;-&gt;omniFuck3]]
](else:)[(text-style: &quot;smear&quot;,&quot;shudder&quot;)[***Schlrk!***]

His immense, slick crown sinks into you and stretches you out all at once. He presses his snout against your neck and groans, hot breath wafting across your body. Eager to feel more of you around his fat and twitching cock, he presses his thick hands against your hips and gently digs his claws in, starting to push you urgently down.

His strength is undeniable, and it really feels like struggling against stone whenever you try to move in a way he doesn&#39;t want. You feel that first powerful **throb** spasm inside you, a copious (text-style: &quot;smear&quot;)[splurt] of precum flooding your passage and forcing a quiet groan out of you both. You see his tail thumping the seat beside you both enthusiastically.

$npcO[&quot;Are, nnh, you ready, citizen?&quot;] his deep voice rumbles. $npcO[&quot;I&#39;m going to fuck you now.&quot;] You try to relax your muscles, nodding your head.


[[&gt; &quot;I am *very* ready.&quot;-&gt;omniFuck3]]]</tw-passagedata><tw-passagedata pid="254" name="omniFuck3" tags="final" position="7417,4637" size="100,100">$roomname[The Carriage - The Hero]

(if: $confidence &gt; 2)[$npcO[&quot;Good,&quot;] the Pounder grunts into your ear. Then he wraps his arms around you... and starts to *thrust* upwards into your (if: $cunt is true)[quivering snatch](else:)[aching rump].

Your world devolves into a frenzy of eager, panting growls as the Pounder proves that his name isn&#39;t merely combat-related. His hips piston up and down against you with enough force that the carriage would surely jolt around even were it *not* being pulled by a miggwitch right now.(if: $cock is true)[ Slowly under his eager ministrations, your body starts to respond as you feel your own cock begin to fatten up and twitch between your legs.]

(if: $cunt is true)[Your folds tingle and quake with mounting pleasure as he squelches deeper and deeper into you, seeming to take his time with depth so as not to overwhelm you.(unless: $cock is true)[ One of his hands strays downwards, a claw starting to toy with your clit.]](else:)[Your ass aches and tenses as he drills deeper and deeper into you, but he seems to take his time working himself inside you(if: $cock is true)[, making sure to angle his crown to squash against your prostate].] You can feel it in the way he *rails* you - he wants you to enjoy it, too. What a heroic quality.

His precum starts to slop and drool out from your hole as he fills you over and over, and eventually you find yourself starting to bounce against his sheath. ... No. Not his sheath.

***His knot.***

The petrid&#39;s breath coats the back of your neck, and he groans out eagerly as he squashes it against you again and again.


(link: &quot;&gt; Remain silent, even though he might knot you.&quot;)[(set: $omniKnot to true)(go-to: &quot;omniFuck4&quot;)]
(link: &quot;&gt; Warn him that knotting in a short carriage ride might not be a good idea.&quot;)[(set: $omniKnot to false)(go-to: &quot;omniFuck4&quot;)]
](else-if: $confidence &lt; -2)[Your world devolves into a frenzy of eager, panting growls as the Pounder proves that his name isn&#39;t merely combat-related. His hips piston back and forth against you with enough force that the carriage would surely jolt around even were it *not* being pulled by a miggwitch right now.(if: $cock is true)[ Slowly under his rough ministrations, your body starts to respond as you feel your own cock begin to fatten up and twitch between your legs.]

What starts as thick, heated pain in your (if: $cunt is true)[cunt, your lips squeezing shakily around it](else:)[ass, your plush ring burning as it tries vainly to close around the fat and pillar-like cock] soon starts to fade to a dull ache. He doesn&#39;t let up, and his snout leans in to press to the side of your head.

$npcO[&quot;I am going to give you a (text-style: &quot;smear&quot;)[**gift**], citizen,&quot;] he pants, *grinding* his hips forward until you feel the fat swell of the beginnings of a *knot* squish against your (if: $cunt is true)[folds](else:)[rim]. He pants, then pulls back until just his crown is nestled inside you - and then **humps** forward, his full weight slamming against your (if: $cunt is true)[g-spot](else:)[prostate] and making you see spots. You can&#39;t help but cry out.

$npcO[&quot;I&#39;m going to give you a hero&#39;s essence,&quot;] the petrid grumbles into your ear, his breath hot. Then without another word he grabs your hips and *pulls*.


[[&gt; Fall backwards.-&gt;omniFuck4]]
](else:)[$npcO[&quot;Good,&quot;] the Pounder grunts into your ear. Then he wraps his arms around you... and starts to *thrust* upwards into your (if: $cunt is true)[quivering snatch](else:)[aching rump].

Your world devolves into a frenzy of eager, panting growls as the Pounder proves that his name isn&#39;t merely combat-related. His hips piston up and down against you with enough force that the carriage would surely jolt around even were it *not* being pulled by a miggwitch right now.(if: $cock is true)[ Slowly under his eager ministrations, your body starts to respond as you feel your own cock begin to fatten up and twitch between your legs.]

(if: $cunt is true)[Your folds tingle and quake with mounting pleasure as he squelches deeper and deeper into you, seeming to take his time with depth so as not to overwhelm you.(unless: $cock is true)[ One of his hands strays downwards, a claw starting to toy with your clit.]](else:)[Your ass aches and tenses as he drills deeper and deeper into you, but he seems to take his time working himself inside you(if: $cock is true)[, making sure to angle his crown to squash against your prostate].] You can feel it in the way he *rails* you - he wants you to enjoy it, too. What a heroic quality.

His precum starts to slop and drool out from your hole as he fills you over and over, but eventually you start to realize that he&#39;s holding something back. He&#39;s keeping you lifted slightly and deliberately stopping you from sinking all the way down on his cock. It takes you nearly a solid chime to realize that he&#39;s trying to avoid knotting you.


(link: &quot;&gt; Ask him to knot you.&quot;)[(set: $omniKnot to true)(go-to: &quot;omniFuck4&quot;)]
(link: &quot;&gt; Relax and *ride* the petrid - knotting in a short carriage ride probably isn&#39;t sensible.&quot;)[(set: $omniKnot to false)(go-to: &quot;omniFuck4&quot;)]]</tw-passagedata><tw-passagedata pid="255" name="omniFuck4" tags="final" position="7466,4773" size="100,100">$roomname[The Carriage - The Hero]

(if: $confidence &gt; 2)[(if: $omniKnot is true)[You can feel the kiss of his knot against your (if: $cunt is true)[cunt](else:)[tight-stretched ass] each and every time it squashes against you. *Just a little deeper,* and he&#39;ll pop inside. He&#39;ll fill you so utterly, so completely. A petrid hero, glued against you crotch-to-rump, on a carriage ride that might end any chime.

The thought is hot enough to make your toes curl.

You say nothing and just try to relax your body, letting that thick knot dance a little closer to *slipping all the way in* each time. ](else:)[Feeling his knot squashing against you with each wet, sloppy thrust, you shakily pat at the Pounder and groan out that he needs to get himself under control. You don&#39;t know how long it is to the Omnillian district, but if he knots you then it might get in the way.

The Pounder groans out, holding you tightly, then nods against your neck.

$npcO[&quot;A s-sensible point, citizen,&quot;] he pants. $npcO[&quot;I do not intend... intend to tie. But a little stimulation to my knot...&quot;] he trails off, giving a pleasured rumble.] He lifts you up, then drops you down until your (if: $cunt is true)[cunt](else:)[pucker] *grinds* into his knot, stretching slowly around it. He lets out a noise of longing, but pushes no deeper and lets you sink no further.

Until the carriage unexpectedly (text-style: &quot;rumble&quot;)[**jolts.**]


[[&gt; ***Pop!***-&gt;omniFuck5]]
](else-if: $confidence &lt; -2)[You land in the Pounder&#39;s lap and his cock sinks so deep into you that you all but *sit* on his knot. One of his arms locks around your chest as the other one slides down between your legs (if: $cock is true)[to wrap around your dick](else:)[to press lightly on your groin] before he physically relaxes... then *moans*. You feel his cock fatten so much that it *aches* all over again, and the crown of his dick swells a little inside you.

$npcO[&quot;Cumming!&quot;] he gasps.

And then he stops breathing.

He stops moving at all, in fact. What seems at first to be intense throes of pleasure quickly reveal themselves to be something entirely different.

***The Pounder has petrified.***


[[&gt; Writhe uselessly.-&gt;omniFuck5]]
](else:)[(if: $omniKnot is true)[You groan aloud and ask the petrid to stop holding back. You want him to pop that fat, dense bulb of a *knot* inside you already!

$npcO[&quot;Mmnh! Citizen,&quot;] he moans. $npcO[&quot;(text-style: &quot;smear&quot;)[**Believe me**], nothing would feel better right now...&quot;] He shudders and *drops* your body down until you feel the fat swell of his knot squash against your hole. Then, just as suddenly, he slides you back up with a wet *schlrk*.

$npcO[&quot;But I, ahh! I must remain, mmh... vigilant...&quot;] He pants into your neck, the petrid refusing your request despite how much it seems he wants to assent to it.](else:)[Feeling his cock fill you so utterly with each wet, sloppy thrust, you shakily pat at the Pounder and groan out that he shouldn&#39;t get *too* enthusiastic. You don&#39;t know how long it is to the Omnillian district, but if he knots you then it might get in the way.

The Pounder groans out, holding you tightly, then nods against your neck.

$npcO[&quot;A s-sensible point, citizen,&quot;] he pants. $npcO[&quot;I do not intend... intend to tie. Your (if: $cunt is true)[cunt](else:)[ass] wrapped around my cock is... is...&quot;] he trails off, finishing his sentence with a pleasured groan.] 

$npcO[&quot;(text-style: &quot;smear&quot;)[**Cumming!**]&quot;]


[[&gt; Squirm.-&gt;omniFuck5]]]</tw-passagedata><tw-passagedata pid="256" name="omniFuck5" tags="final" position="7518,4907" size="100,100">$roomname[The Carriage - The Hero]

(if: $confidence &gt; 2)[As the carriage bounces, the Pounder&#39;s knot **pops** in through your tenderized muscles. Both of you gasp as his fat, sensitive bulb *squeezes* into your body before, barely a heartbeat later, it (text-style: &quot;expand&quot;)[***swells***].

In an instant, the Pounder&#39;s claws are under your legs and he&#39;s pulling. You&#39;re being lifted - but it&#39;s already too late. His claws dig into your body as he sucks in a deep, loud gasp, his knot doubling in size until you nearly see *spots*. His knot becomes overwhelmingly large in barely two powerful throbs, overpowering your body&#39;s internal resistances with ease until the two of you are stickily, sloppily ***tied***.

No sooner has the Pounder realized this than his own resistances crumble. His grip on you shifts from a near-painful pull to an iron-clad *hold*, and all at once he starts urgently, desperately *humping* into your sore (if: $cunt is true)[pussy](else:)[ass].

His thrusts are so desperate, so intense that you can barely breathe, (unless: $cock is false and $cunt is false)[and in less than a chime you&#39;re helplessly pushed into orgasming **hard** around him.(if: $cock is true)[ Your cock fattens up and starts throbbing with urgent abandon, spraying your own cum across the carriage interior.(if: $cunt is true)[ At the same time, you feel your pussy give out.](if: $cunt is true)[ Your cunt clamps down so hard that you nearly white out, pleasure robbing you of muscle control as your legs shakily kick and you nearly wet yourself in ecstasy, gushing around his fat and twitching dick.]]](else:)[but without any genitals of your own to channel the pleasure through, all you feel is the overwhelming *stretch*. It becomes all you can think about as he humps and bucks his way towards his own orgasm, climax seemingly the only thing on his mind.]

Then finally, it happens. His cock swells even further, overwhelming your thoughts. You can almost *hear* his balls pull tight, gurgling with the thick swell of his cum before his urethra fattens - and the powerful, rapid *twitches* of a cock mid-climax fill your core.

The Pounder *shouts*, his voice filling the carriage as he cums hard inside you, flooding your insides with his heated, gooey essence. It floods your (if: $cunt is true)[passage and sprays against your cervix](else:)[guts and puts a pressure in your insides] until it begins to backwash, splurting messily around his groin.

But with his knot locked tight inside you, there&#39;s no way for the two of you to separate without doing serious damage to one or both of you. You&#39;re very, very stuck, the petrid unloading the contents of his heavy orbs into you.

Which becomes a more pressing problem when the carriage begins to slow, and you hear Crusty call out that you have arrived.

The petrid&#39;s climax begins to taper down, but with his knot lodged deep inside of you it doesn&#39;t *stop*, either. You know that his orgasm won&#39;t end until his knot reduces - however long *that* might be.

There isn&#39;t anything for it, though. A few moments more and the carriage rolls to a stop.


[[&gt; You have to get out.-&gt;omnillian petrid conclusion]]
](else-if: $confidence &lt; -2)[You squirm. You wriggle. You writhe.

Nothing changes the fact though that you are now being held securely and tightly by a literal stone statue - one with a dizzyingly prodigious and fat cock lodged knot-deep inside your (if: $cunt is true)[cunt](else:)[ass]. You couldn&#39;t escape with even double your strength - you are trapped, wholly and completely.

And the jostling and jiggling of the carriage as you ride doesn&#39;t stop, either. You&#39;re trapped, impaled on a fat and stony-textured dildo. There isn&#39;t a thing you can do as the jolting and bouncing makes the petrified Pounder shift and slide inside you, just a little. Just enough to tenderize and stimulate you.

Harder ...

And harder ...

**And harder.**

(if: $cunt is false and $cock is false)[The pressure in your ass doesn&#39;t let up, no matter how you squirm. Without any genitals there&#39;s little effect being a growing and unending discomfort, and time bleeds on for nearly a full bell before finally you feel the petrid suddenly and abruptly regain his fleshy, leathery countenance.{

}](else:)[After five long, aching chimes, you cum.(if: $cock is true)[ Your cock jerks and splutters and you pump your seed across the floor of the carriage helplessly. (if: $cunt is true)[At the same time, your cunt helplessly gives out.]](if: $cunt is true)[ Your folds clamp around the fat spire of the Pounder&#39;s stone cock and you *gush* across his stony lap, helplessly orgasming to the unyielding rod lodged deep in your pussy.]

After fifteen, you do again. And then *again*. There&#39;s no escape and no resisting it - the jostling, jolting motions are more than your body can take, and the stone form of the petrid is unforgiving. 

By your fourth orgasm, your muscles are achingly protesting and it hurts as much as it feels good. Nearly a full bell passes, leaving you writhing and trembling, before you suddenly feel softness bleed back into the Pounder&#39;s form.]

His cock loses its stony rigidity and suddenly, urgently begins pulsing with so much intensity that you can&#39;t help but gasp - right as a *flood* of hot, gooey petrid cum *pumps* in(if: $cunt is true)[ and against your cervix](else:)[to your guts]. There&#39;s so much that after just a few, powerful spurts, it splurts back out and makes a mess of his groin.

$npcO[&quot;Aaah!&quot;] the Pounder groans. $npcO[&quot;Frozen orgasms are the (text-style: &quot;smear&quot;)[**best**], City&#39;s (text-style: &quot;smear&quot;)[**eyes**] that felt (text-style: &quot;smear&quot;)[**good**]!&quot;]

He holds you there for a long, shuddering chime until his orgasm tapers fully off before, with a shove, he pushes you forwards and off of his dick. He groans and rubs his shaft with one hand, then looks down at you as you slump to the floor, exhausted.

$npcO[&quot;And let that be a lesson to you, citizen,&quot;] he rumbles. Then he begins to adjust his cape, as though preparing to leave.

Only a few more moments pass before you hear Crusty call out that the carriage is coming to a stop - you have arrived. Apparently you were so distracted by the Pounder&#39;s unyielding embrace that you didn&#39;t notice the signs that you were stopping.

With as much composure as you can manage - oozing a copious amount of petrid cum - you prepare to disembark.


[[&gt; Get out of the carriage.-&gt;omnillian petrid conclusion]]
](else:)[The Pounder&#39;s cock suddenly, urgently begins pulsing with so much intensity that you can&#39;t help but gasp - right as a *flood* of hot, gooey petrid cum *pumps* in(if: $cunt is true)[ and against your cervix](else:)[to your guts]. There&#39;s so much that after just a few, powerful spurts, it splurts back out and makes a mess of his groin. He thrusts in and out of you desperately, his eyes rolling back and his lips curled back in pleasure.

His thrusts are so intense that you can barely breathe, (unless: $cock is false and $cunt is false)[and in less than a chime you&#39;re helplessly pushed into orgasming **hard** around him.(if: $cock is true)[ Your cock fattens up and starts throbbing with urgent abandon, spraying your own cum across the carriage interior.(if: $cunt is true)[ At the same time, you feel your pussy give out.](if: $cunt is true)[ Your cunt clamps down so hard that you nearly white out, pleasure robbing you of muscle control as your legs shakily kick and you nearly wet yourself in ecstasy, gushing around his fat and twitching dick.]]](else:)[but without any genitals of your own to channel the pleasure through, all you feel is the overwhelming *stretch*. It becomes all you can think about as he humps and bucks his way through his own seemingly mind-blowing orgasm.]

Eventually, his climax tapers off. Not having knotted you, there isn&#39;t anything prolonging it, and eventually you feel him start to go soft. With a groan, he eases you off of his lap, then urges you forwards to your own seat. A copious *flood* of cum pours out from your loosened hole and spills across the floor of the carriage.

Right when you&#39;re about to ask about his sudden separation, you hear Crusty call out that you have arrived in the Omnillian district. You realise that you were so caught up in the sloppy, slimy fucking that you didn&#39;t notice the carriage slowing to a halt.

$npcO[&quot;Thanks, citizen,&quot;] the Pounder groans. $npcO[&quot;I needed that...&quot;]

The Pounder prepares to disembark, his cock retreating to its leathery home, and you soon do the same.


[[&gt; Get ready to leave.-&gt;omnillian petrid conclusion]]
]</tw-passagedata><tw-passagedata pid="257" name="omnillian window conclusion" tags="final" position="7795,5129" size="100,100">$roomname[The Omnillian District]

Once the carriage has stopped, you slowly step out from the door and down onto the plain, sturdy streets of the district. People move to and fro along the roadways, yet you notice that they do so with surprisingly little chaos for the city&#39;s usual habit.

Citizens stay to assigned walkways and regions and patiently wait when mechanical signs indicate that it isn&#39;t their turn to pass. Large, gloam-powered boards offer notices of changing rules and information, and mechanical avians occasionally whirr up or down pathways on predetermined errands or tasks.

Occasionally someone breaks from the patterns you see, suddenly barging into the street or casting some sort of spell on either an informational sign or a fellow citizen, but these outbursts seem to have an almost mad sense of *design* to them.

You aren&#39;t certain how the Omnillian district exists in the city of Nodd - how a place that strives to order itself can harmoniously live in a world that mandates and even *needs* chaos, yet it does. Yet, you feel as though you glimpse a hint, as the petrid gets off the carriage behind you.

In the distance, you see a meticulously-dressed nurk standing in front of a cluster of small, slug-like creatures of various colors. The nurk appears to be gathering up all of the blue-hued ones and putting them in a group, marking something on a compact-looking board with some kind of writing tool. You can see several groups already made - all of the green ones are together, as are all of the brown ones. Yet as the nurk works, you see several of the brown ones begin to turn blue, and several more begin to turn green. The green ones begin undulating their colors as well, until eventually the nurk notices and throws their grubby hands up in the air.

With diligence, the nurk begins scooping up all of the brown ones instead, putting them into a new pile. Then the green, and finally turning towards the blue - only to find that, again, the slugs have changed their colors and defied all sense of order.

Perhaps Omnillian exists to be thwarted, or to thwart. An endless, unwinnable striving to order the unorderable, to know the unknowable, to contain the uncontainable. Or, perhaps, order is itself an ironic, occult form of chaos - after all, what is order but a satisfaction at an arbitrarily pleasing pattern? If one were to zoom out enough, is not all order chaos, or is all chaos truly order? How much can one organize existence itself before madness replaces duty?

Regardless of such musings and thoughts you stand in this demesne of struggle, near the heart of order, rationale and control: Omnillian. While it may never be truly victorious, the struggle is arguably a virtue in itself.

*You have arrived in the Omnillian district - a bastion of order amid the chaos that is, itself, its own form of chaos. A neverending quest to know things which might never be known, madness through and through. Having completed your journey here all that remains is the question - now, where?*

&lt;img src=&quot;http://nodd-arca.net/carriage/carriage_omnillian.jpg&quot; style=&quot;display: block; margin-left: auto; margin-right: auto; width: 100%;&quot;&gt;
&lt;br&gt;
&lt;br&gt;
&lt;center&gt;&lt;h3&gt;(text-style: &quot;smear&quot;)[END]&lt;/h3&gt;

&lt;font size=&quot;5em&quot;&gt;{(link:&quot;&gt; Commence another journey &lt;&quot;)[(reload:)]}&lt;/font&gt;&lt;/center&gt;</tw-passagedata><tw-passagedata pid="258" name="sagberry5" tags="final" position="8612,3856" size="100,100">$roomname[The Carriage - The Sweets]

Unfortunately, you&#39;re unable to move. The ravel moves to leave, but hesitates, then turns to take your immobilized toy of a body with him. You feel yourself being picked up by his slightly sticky talons as he looks you over, turning your plushified form around and around. He squeezes you lovingly, even going so far as to rub his beak along your features during his affectionate squeeze - which you answer with a forced (text-style: &quot;sway&quot;)[&#39;**squeak**!&#39;] 

$npcM[&quot;Oh! Is that so? It is too kind, to flatter the bird so in public,&quot;] the ravel says, feigning a look of embarrassment as he glances around. $npcM[&quot;What a sweet little friend it will be, yes,&quot;] $morphName adds musingly, playing out the entire little scene in his head that you&#39;re unwillingly a part of. He then tucks you away into a satchel at his side, burying you in darkness along with several of his choice confections.


&lt;br&gt;
&lt;br&gt;
&lt;center&gt;&lt;h3&gt;(color: red)[(text-style: &quot;smear&quot;)[GAME OVER]]&lt;/h3&gt;

&lt;font size=&quot;5em&quot;&gt;{(link:&quot;&gt; Commence another journey &lt;&quot;)[(reload:)]}&lt;/font&gt;&lt;/center&gt;</tw-passagedata><tw-passagedata pid="259" name="hornsquat5" tags="final" position="8749,3877" size="100,100">$roomname[The Carriage - The Sweets]

You&#39;re picked up as $morphName pinches two talons around you. You&#39;re tiny, no bigger than the oggorus candy had been, with no way to escape or resist the bird&#39;s sinister machinations. He cackles delightedly, then opens up his gooey satchel.

You see the yawning chasm below you, filled to the brim with various sweets and candies and goods. Without hesitating, he drops you down and you plummet into his bag before he summarily closes it once again.

The ravel exits the vehicle, laughing delightedly as he ferries you away to destinations unknown. You&#39;re not able to do much of anything but wobble in his satchel, though even your ability to move seems to be fading with each passing tick - and your future seems almost certain at this point. Another gummy in the twisted cycle that $morphName seems to exult in.

You can only wonder how long the oggorus must have been waiting before you came along.


&lt;br&gt;
&lt;br&gt;
&lt;center&gt;&lt;h3&gt;(color: red)[(text-style: &quot;smear&quot;)[GAME OVER]]&lt;/h3&gt;

&lt;font size=&quot;5em&quot;&gt;{(link:&quot;&gt; Commence another journey &lt;&quot;)[(reload:)]}&lt;/font&gt;&lt;/center&gt;</tw-passagedata><tw-passagedata pid="260" name="pfoff5" tags="final" position="8880,3855" size="100,100">$roomname[The Carriage - The Sweets]

There&#39;s barely time to process what&#39;s about to happen before it does. The ravel&#39;s warm, cloyingly sweet breath washes over you as your body hovers before his gaping craw. His pillowy tongue extends beneath you for a moment, the humidity of his breath softening your surface. Then all at once there&#39;s a distinct (text-style: &quot;rumble&quot;)[(color: red)[*SNAP*]]. His beak crunches shuts. A searing sensation rips its way through the &#39;nerves&#39; of your lower half, leaving your world white-hot and razor sharp. The sensation quickly crumbles away to something not-quite-pain but still achingly unpleasant, ending somewhere around your waist. After that, there is simply nothing. Numbness.

Your world turns back rightside up as $morphName brings you to hover before his beak, grinning broadly even as he scarfs and chews noisily. You are graced with several glimpses into his glistening maw, where the remains of your lower half are chewed and gnashed together, crust and frosting and all. The delight in his eyes oozes how he savors each brush of your baked body along his tastebuds before he gulps audibly, then emphasizes his pleasure with another sweep of his tongue over his beak. $npcM[&quot;Not bad! It is a tasty thing indeed, Sweetbeak thinks,&quot;] he states, his voice all the more booming. You feel little fragments of yourself tumbling away from your break, joining the numbness and eating away at your waist. The ravel mockingly bobs you side to side, miming you walking in the air before he realizes that your lack of a lower half makes you look ridiculous. The world stops tilting for only a moment before he tilts you onto your side with a look of mock horror, even adding a mocking and deranged $npcM[&quot;aaahh!&quot;]

$npcM[&quot;Sweetbeak has made an error! It is well known that the head is always the first bite to be had,&quot;] the bird concludes aloud, entirely for your benefit. He doesn&#39;t immediately take his next bite however, letting it sink in.


[[&gt; !!-&gt;pfoff8]]</tw-passagedata><tw-passagedata pid="261" name="pfoff8" tags="final" position="8880,3972" size="100,100">$roomname[The Carriage - The Sweets]

The bird bobs you about in the air with smirks and giggles of amusement, toying with your utterly helpless form for a bit longer. He brings you close to his beak once more and abruptly mashes the light-blue fatness of his tongue against the front of your transformed body, smearing it upwards and across.

It feels almost.. (color: cyan)[**pleasant**]? in an odd, subtly dulled way - even if it leaves your frosted features smeared. You can feel the warmth of his saliva *oozing* into you. The ravel smacks his beak several times, frosting clinging to several patches messily.

It&#39;s about then that the carriage abruptly (text-style: &quot;shudder&quot;)[clatters] to a halt, causing the ravel to perk up slightly. $npcM[&quot;Keh. Playtime is over, sweet treat,&quot;] the bird says with ominous plainness.

In a simple motion the ravel&#39;s head tilts back as he throws you into the air and his beak parts wide. Your entire world spins in a disorienting manner, your view swiftly spinning from wall to seat to ceiling to wall to seat - to the ravel&#39;s gaped, glistening maw below. You arc gracefully into the air before plummeting into the eager mouth below, right upon $morphName&#39;s immense tongue.

Darkness descends around you as his beak snaps shut with a resounding *clack*, his breath and hot saliva suddenly oozing all around. His tongue moves upwards and pushes your body in the humid, moist darkness, shifting you to one side against something unseen and hard, rigid. 
(color: red)[(text-style: &quot;bold&quot;,&quot;smear&quot;)[Hungry.]] 
Light streams in as his beak parts ever so slightly as he catches parts of you between fangs and beak alike and then crunches down. In a silent, helpless agony of intense sensations and confused senses you are crunched and crushed apart, your awareness becoming increasingly scattered and indistinct until it begins to fade entirely. Your thoughts crumble to silence as you&#39;re masticated away into a mouthful of savory delight for the ravel.

The bird gulps audibly as he climbs from the carriage, the inside of which is now auspiciously lacking its other passenger.


&lt;br&gt;
&lt;br&gt;
&lt;center&gt;&lt;h3&gt;(color: red)[(text-style: &quot;smear&quot;)[GAME OVER]]&lt;/h3&gt;

&lt;font size=&quot;5em&quot;&gt;{(link:&quot;&gt; Commence another journey &lt;&quot;)[(reload:)]}&lt;/font&gt;&lt;/center&gt;</tw-passagedata><tw-passagedata pid="262" name="morphwho" tags="final" position="9255,3335" size="100,100">$roomname[The Carriage - $morphTitle]
(set: $morphQ to it + (a: &quot;who&quot;))
You ask the ravel who he is. As the carriage continues bouncing and trundling along the roadway, the only answer you receive is more sloppy, delighted slurps of his tongue along the spiraling lollipop and a burningly intense stare.

Then, just when you feel certain you&#39;re not going to receive any answer at all, the ravel pulls the sucker slowly back from the depths of his beak, and then thrusts it back forwards with a squelch. He pulls it back again, his tongue slithering out over it, then pushes it back in once more, actively fellating the treat before you for long, slurp-filled seconds. He even rolls one eye back, just one, in a look of pleasure that may or may not be genuine.

$npcM[&quot;This one is... |sb&gt;[**Sweetbeak**]!&quot;] he finally says, his voice positively *dripping* with nectar. So much so that as he makes his dramatic introduction, complete with an upwards sweep of one of his claws, you almost hear a soft, just barely off-key chord that you can&#39;t be entirely sure you actually heard or not. (change: ?sb&#39;s chars, via (text-color:(hsl: pos * 30, 1, 0.5)))(set: $morphName to &quot;Sweetbeak&quot;)


(unless: $morphQ contains &quot;who&quot;)[{}[[&gt; &quot;Who are you?&quot;-&gt;morphwho]]
](unless: $morphQ contains &quot;candy&quot;)[{}[[&gt; &quot;So, you like candy?&quot;-&gt;morphCandy]]
](unless: $morphQ contains &quot;legwarmer&quot;)[{}[[&gt; &quot;Are those stockings natural?&quot;-&gt;morphLegwarmer]]
](unless: $morphQ contains &quot;destination&quot;)[{}[[&gt; &quot;Where are you going, anyway?&quot;-&gt;morphDestination]]
](if: $morphQ contains &quot;villain open&quot;)[(unless: $morphQ contains &quot;villain close&quot;)[{}[[&gt; &quot;Are you... a villain?&quot;-&gt;morphVillain]]
]](if: $morphQ contains &quot;heard open&quot;)[(unless: $morphQ contains &quot;heard close&quot;)[{}[[&gt; Tell $morphName that you&#39;ve heard of him.-&gt;morphHeardof]]
]](if: $morphQ contains &quot;heard open&quot;)[(unless: $morphQ contains &quot;heard close&quot;)[{}[[&gt; Tell $morphName that you haven&#39;t heard of him.-&gt;morphNotHeardof]]
]](if: $morphQ contains &quot;life open&quot;)[(unless: $morphQ contains &quot;life close&quot;)[{}[[&gt; &quot;So what is it like to be a villain here?&quot;-&gt;morphLife]]
]](if: $morphQ contains &quot;nemesis open&quot;)[(unless: $morphQ contains &quot;nemesis close&quot;)[{}[[&gt; &quot;Do you have a nemesis?&quot;-&gt;morphNemesis]]
]](if: $morphQ contains &quot;point open&quot;)[(unless: $morphQ contains &quot;point close&quot;)[{}[[&gt; &quot;Why did you become a villain?&quot;-&gt;morphPoint]]
]](if: $morphQ contains &quot;gloam open&quot;)[(unless: $morphQ contains &quot;gloam close&quot;)[{}[[&gt; &quot;Does being a villain earn much gloam?&quot;-&gt;morphGloam]]
]](if: $morphQ contains &quot;HQ open&quot;)[(unless: $morphQ contains &quot;HQ close&quot;)[{}[[&gt; &quot;What&#39;s the Lair of Villainy like?&quot;-&gt;morphHQ]]
]](if: $morphQ contains &quot;sweet open&quot;)[(unless: $morphQ contains &quot;sweet close&quot;)[{}[[&gt; &quot;So, all that candy... are you sweet?&quot;-&gt;morphSweet]]
]][[&gt; Ask $morphName if you can have some candy.-&gt;candy1]]
[[&gt; Ask to suck $morphName&#39;s dick.-&gt;suckravel1]](if:$cock is true)[
[[&gt; Ask $morphName to suck your dick.-&gt;ravelsuck1]]]
[[&gt; Cease conversing with $morphName and watch out the window, instead.-&gt;morphoriawindow1]]</tw-passagedata><tw-passagedata pid="263" name="morphCandy" tags="final" position="9309,3483" size="100,100">$roomname[The Carriage - $morphTitle]
(set: $morphQ to it + (a: &quot;candy&quot;))
You ask $morphName if he likes candy. The ravel blinks at you for a few awkwardly long moments. His fan-tipped tail twitches to and fro before he laughs delightedly. He then pauses abruptly as if realizing the question was genuine, and stares blankly at you and then glances down at himself, in disbelief, then back at you, then down at himself again... before taking on a more pitious look as his gaze finds you once more. 

The ravel then begins to laugh. $npcM[&quot;KahahaheuHAHAHA AHEU HAHAH A AHAUE HRUAHA HAHKRK HAHAK HRHRKRH RRAHHKKhh KKKHrAAA h hA hah AHAHARKRh..! ....?&quot;] he howls and nearly doubles over in laughter, before stopping abruptly bent forwards mid-cackle, completely silent as he stares at you intently.

$npcM[&quot;Oh. Is it stupid? Sweetbeak did not realize,&quot;] he coos in a comforting tone that is anything but and straightens back up in his seat. As he speaks he draws two suckers from his bag and stuffs them into one side of his beak, audibly licking and sucking at them.

$npcM[&quot;Is there some reason it asks?&quot;] he continues, and in doing so withdraws several more suckers from his bag. His talons lift upwards and cram the treats, three of them, into the other side of his beak. The entire time he never ceases his direct, intent eye contact with you.

$npcM[&quot;Skhksh hrkhg mnhmh,&quot;] the ravel suggests as syrupy, candy-tinted saliva drools down over the sides of his beak and chin. His talons dip back into his bag and withdraw several more suckers, despite nearly a dozen already sticking out of his beak at varying angles. 

He crams another several into the side of his beak less occupied, but still seems discontent as he&#39;s left with several in hand and no room for them. He blinks one large, wide eye and then the other as he leans in closer to you.

As you watch, utterly rapt, the ravel reaches up to pluck one of the suckers from his beak, dripping saliva, and swaps it for one in hand. His expression never changes the entire time. He takes the one he removed, glistening and oozing, and lifts into the air before tilting it to the side and mashing it into the feathers on the side of his head. It sticks defiantly in place, stem jutting out, as he releases it.


[[&gt; Observe.-&gt;morphCandy2]]</tw-passagedata><tw-passagedata pid="264" name="morphVillain" tags="final" position="9048,3632" size="100,100">$roomname[The Carriage - $morphTitle]
(set: $morphQ to it + (a: &quot;villain close&quot;))
$npcM[&quot;A villain?&quot;] the ravel asks, stopping completely still. The oily-feathered creature looks aghast, his free talon lifting to press against his chest, just below his wattle. $npcM[&quot;(text-style: &quot;smear&quot;)[***Sweetbeak?***]&quot;] he asks, voice rising an octave.

Then his entire demeanor *melts* into a strangely predatory grin.(set: $morphTitle to &quot;The Villain&quot;)
$npcM[&quot;Why, yeees,&quot;] he says with a pause, then adds, $npcM[&quot;Probably,&quot;] positively delighted at the prospect. His tongue continues assaulting the lollipop as the carriage bounces and jolts along the streets of Nodd. $npcM[&quot;Perhaps it has heard of Sweetbeak, hmm?&quot;] The ravel&#39;s yellow eyes burrow into you with a manic intensity that you&#39;ve seen only in the most unhinged of citizens. Which does happen to be something of a sizable percentage, but still.(set: $morphQ to it + (a: &quot;heard open&quot;))(set: $morphQ to it + (a: &quot;life open&quot;))(set: $morphQ to it + (a: &quot;nemesis open&quot;))(set: $morphQ to it + (a: &quot;point open&quot;))(set: $morphName to &quot;Sweetbeak&quot;)


(unless: $morphQ contains &quot;who&quot;)[{}[[&gt; &quot;Who are you?&quot;-&gt;morphwho]]
](unless: $morphQ contains &quot;candy&quot;)[{}[[&gt; &quot;So, you like candy?&quot;-&gt;morphCandy]]
](unless: $morphQ contains &quot;legwarmer&quot;)[{}[[&gt; &quot;Are those stockings natural?&quot;-&gt;morphLegwarmer]]
](unless: $morphQ contains &quot;destination&quot;)[{}[[&gt; &quot;Where are you going, anyway?&quot;-&gt;morphDestination]]
](if: $morphQ contains &quot;villain open&quot;)[(unless: $morphQ contains &quot;villain close&quot;)[{}[[&gt; &quot;Are you... a villain?&quot;-&gt;morphVillain]]
]](if: $morphQ contains &quot;heard open&quot;)[(unless: $morphQ contains &quot;heard close&quot;)[{}[[&gt; Tell $morphName that you&#39;ve heard of him.-&gt;morphHeardof]]
]](if: $morphQ contains &quot;heard open&quot;)[(unless: $morphQ contains &quot;heard close&quot;)[{}[[&gt; Tell $morphName that you haven&#39;t heard of him.-&gt;morphNotHeardof]]
]](if: $morphQ contains &quot;life open&quot;)[(unless: $morphQ contains &quot;life close&quot;)[{}[[&gt; &quot;So what is it like to be a villain here?&quot;-&gt;morphLife]]
]](if: $morphQ contains &quot;nemesis open&quot;)[(unless: $morphQ contains &quot;nemesis close&quot;)[{}[[&gt; &quot;Do you have a nemesis?&quot;-&gt;morphNemesis]]
]](if: $morphQ contains &quot;point open&quot;)[(unless: $morphQ contains &quot;point close&quot;)[{}[[&gt; &quot;Why did you become a villain?&quot;-&gt;morphPoint]]
]](if: $morphQ contains &quot;gloam open&quot;)[(unless: $morphQ contains &quot;gloam close&quot;)[{}[[&gt; &quot;Does being a villain earn much gloam?&quot;-&gt;morphGloam]]
]](if: $morphQ contains &quot;HQ open&quot;)[(unless: $morphQ contains &quot;HQ close&quot;)[{}[[&gt; &quot;What&#39;s the Lair of Villainy like?&quot;-&gt;morphHQ]]
]](if: $morphQ contains &quot;sweet open&quot;)[(unless: $morphQ contains &quot;sweet close&quot;)[{}[[&gt; &quot;So, all that candy... are you sweet?&quot;-&gt;morphSweet]]
]][[&gt; Ask $morphName if you can have some candy.-&gt;candy1]]
[[&gt; Ask to suck $morphName&#39;s dick.-&gt;suckravel1]](if:$cock is true)[
[[&gt; Ask $morphName to suck your dick.-&gt;ravelsuck1]]]
[[&gt; Cease conversing with $morphName and watch out the window, instead.-&gt;morphoriawindow1]]</tw-passagedata><tw-passagedata pid="265" name="morphHeardof" tags="final" position="9425,3784" size="100,100">$roomname[The Carriage - $morphTitle]
(set: $morphQ to it + (a: &quot;heard close&quot;))
You tell $morphName that you actually have heard of him. His eyes grow wide, but not in surprise. It gives him an even more manic look as he begins to positively (text-style: &quot;shudder&quot;)[vibrate] in delight. He plucks several ropes of some kind of blue candy from his pouch, then begins to shovel them into his beak.

When he smiles at you, there&#39;s a taffy-like gum stringing several of his teeth together.
$npcM[&quot;How sweet must it find it to meet Sweetbeak, then,&quot;] he says. Then he seems to stop, think about something for a moment, before laughing loudly again. He digs a claw into his beak and fishes around for a few moments before managing to pull out a half-chewed, glistening and slobbery piece of blue sludge. He holds the gooey cord out to you, impaled on the end of one claw.(set: $morphName to &quot;Sweetbeak&quot;)

$npcM[&quot;For a fan, yes?&quot;] he grins.

You decide not to take him up on his (text-style: &quot;buoy&quot;)[generous] offer however, and after a moment he shrugs and horfs the sugary rope back into his gullet.


(unless: $morphQ contains &quot;who&quot;)[{}[[&gt; &quot;Who are you?&quot;-&gt;morphwho]]
](unless: $morphQ contains &quot;candy&quot;)[{}[[&gt; &quot;So, you like candy?&quot;-&gt;morphCandy]]
](unless: $morphQ contains &quot;legwarmer&quot;)[{}[[&gt; &quot;Are those stockings natural?&quot;-&gt;morphLegwarmer]]
](unless: $morphQ contains &quot;destination&quot;)[{}[[&gt; &quot;Where are you going, anyway?&quot;-&gt;morphDestination]]
](if: $morphQ contains &quot;villain open&quot;)[(unless: $morphQ contains &quot;villain close&quot;)[{}[[&gt; &quot;Are you... a villain?&quot;-&gt;morphVillain]]
]](if: $morphQ contains &quot;heard open&quot;)[(unless: $morphQ contains &quot;heard close&quot;)[{}[[&gt; Tell $morphName that you&#39;ve heard of him.-&gt;morphHeardof]]
]](if: $morphQ contains &quot;heard open&quot;)[(unless: $morphQ contains &quot;heard close&quot;)[{}[[&gt; Tell $morphName that you haven&#39;t heard of him.-&gt;morphNotHeardof]]
]](if: $morphQ contains &quot;life open&quot;)[(unless: $morphQ contains &quot;life close&quot;)[{}[[&gt; &quot;So what is it like to be a villain here?&quot;-&gt;morphLife]]
]](if: $morphQ contains &quot;nemesis open&quot;)[(unless: $morphQ contains &quot;nemesis close&quot;)[{}[[&gt; &quot;Do you have a nemesis?&quot;-&gt;morphNemesis]]
]](if: $morphQ contains &quot;point open&quot;)[(unless: $morphQ contains &quot;point close&quot;)[{}[[&gt; &quot;Why did you become a villain?&quot;-&gt;morphPoint]]
]](if: $morphQ contains &quot;gloam open&quot;)[(unless: $morphQ contains &quot;gloam close&quot;)[{}[[&gt; &quot;Does being a villain earn much gloam?&quot;-&gt;morphGloam]]
]](if: $morphQ contains &quot;HQ open&quot;)[(unless: $morphQ contains &quot;HQ close&quot;)[{}[[&gt; &quot;What&#39;s the Lair of Villainy like?&quot;-&gt;morphHQ]]
]](if: $morphQ contains &quot;sweet open&quot;)[(unless: $morphQ contains &quot;sweet close&quot;)[{}[[&gt; &quot;So, all that candy... are you sweet?&quot;-&gt;morphSweet]]
]][[&gt; Ask $morphName if you can have some candy.-&gt;candy1]]
[[&gt; Ask to suck $morphName&#39;s dick.-&gt;suckravel1]](if:$cock is true)[
[[&gt; Ask $morphName to suck your dick.-&gt;ravelsuck1]]]
[[&gt; Cease conversing with $morphName and watch out the window, instead.-&gt;morphoriawindow1]]</tw-passagedata><tw-passagedata pid="266" name="morphNotHeardof" tags="final" position="9368,3623" size="100,100">$roomname[The Carriage - $morphTitle]
(set: $morphQ to it + (a: &quot;heard close&quot;))
You tell $morphName that you haven&#39;t heard of him after all, and his eyes narrow dangerously. $npcM[&quot;Oh? It has not heard of Sweetbeak?&quot;] His tail lashes and his little wings flutter as he wriggles down in the carriage seat. You can&#39;t help but notice that where his feathers touch, a slightly sticky sheen seems to remain. Then he cackles outrageously, talons coming together to press into his slightly bloated belly as though he can barely contain his delight.

$npcM[&quot;It wi-ill,&quot;] he sing-songs at you, lifting a talon to wipe a tear away from his eye. $npcM[&quot;(text-style: &quot;smear&quot;)[**It wi-ill!**]&quot;]

How ominous.


(unless: $morphQ contains &quot;who&quot;)[{}[[&gt; &quot;Who are you?&quot;-&gt;morphwho]]
](unless: $morphQ contains &quot;candy&quot;)[{}[[&gt; &quot;So, you like candy?&quot;-&gt;morphCandy]]
](unless: $morphQ contains &quot;legwarmer&quot;)[{}[[&gt; &quot;Are those stockings natural?&quot;-&gt;morphLegwarmer]]
](unless: $morphQ contains &quot;destination&quot;)[{}[[&gt; &quot;Where are you going, anyway?&quot;-&gt;morphDestination]]
](if: $morphQ contains &quot;villain open&quot;)[(unless: $morphQ contains &quot;villain close&quot;)[{}[[&gt; &quot;Are you... a villain?&quot;-&gt;morphVillain]]
]](if: $morphQ contains &quot;heard open&quot;)[(unless: $morphQ contains &quot;heard close&quot;)[{}[[&gt; Tell $morphName that you&#39;ve heard of him.-&gt;morphHeardof]]
]](if: $morphQ contains &quot;heard open&quot;)[(unless: $morphQ contains &quot;heard close&quot;)[{}[[&gt; Tell $morphName that you haven&#39;t heard of him.-&gt;morphNotHeardof]]
]](if: $morphQ contains &quot;life open&quot;)[(unless: $morphQ contains &quot;life close&quot;)[{}[[&gt; &quot;So what is it like to be a villain here?&quot;-&gt;morphLife]]
]](if: $morphQ contains &quot;nemesis open&quot;)[(unless: $morphQ contains &quot;nemesis close&quot;)[{}[[&gt; &quot;Do you have a nemesis?&quot;-&gt;morphNemesis]]
]](if: $morphQ contains &quot;point open&quot;)[(unless: $morphQ contains &quot;point close&quot;)[{}[[&gt; &quot;Why did you become a villain?&quot;-&gt;morphPoint]]
]](if: $morphQ contains &quot;gloam open&quot;)[(unless: $morphQ contains &quot;gloam close&quot;)[{}[[&gt; &quot;Does being a villain earn much gloam?&quot;-&gt;morphGloam]]
]](if: $morphQ contains &quot;HQ open&quot;)[(unless: $morphQ contains &quot;HQ close&quot;)[{}[[&gt; &quot;What&#39;s the Lair of Villainy like?&quot;-&gt;morphHQ]]
]](if: $morphQ contains &quot;sweet open&quot;)[(unless: $morphQ contains &quot;sweet close&quot;)[{}[[&gt; &quot;So, all that candy... are you sweet?&quot;-&gt;morphSweet]]
]][[&gt; Ask $morphName if you can have some candy.-&gt;candy1]]
[[&gt; Ask to suck $morphName&#39;s dick.-&gt;suckravel1]](if:$cock is true)[
[[&gt; Ask $morphName to suck your dick.-&gt;ravelsuck1]]]
[[&gt; Cease conversing with $morphName and watch out the window, instead.-&gt;morphoriawindow1]]</tw-passagedata><tw-passagedata pid="267" name="morphLife" tags="final" position="9057,3784" size="100,100">$roomname[The Carriage - $morphTitle]
(set: $morphQ to it + (a: &quot;life close&quot;))
You ask $morphName what it&#39;s like to be a villain in the city of Nodd. He turns his head one way and then the other as the carriage bounces and bobs.

Outside, you see a building spontaneously shrink down to half the size it was before. None of the walking citizens seem to bat an eye.

$npcM[&quot;Such fun! Sweetbeak has such (text-style: &quot;smear&quot;)[**fun**],&quot;] he delights, clutching his talons together with enough gusto that his wattle wobbles mightily. $npcM[&quot;Sweetbeak goes where it pleases. Tastes who it pleases. Takes what it pleases! And all the people love, love, (text-style: &quot;smear&quot;)[**love**] Sweetbeak&#39;s sweet treats, yesss,&quot;] he says with a burning intensity. A little candy-tinted saliva drools out from the side of his beak. He quickly wipes it away, smearing his saliva into his already sticky-looking feathers.

$npcM[&quot;Once, Sweetbeak did what Sweetbeak wanted and was punished! But then it found the tastiest of places: the Lair of Villainy!&quot;] He plucks a sticky-looking lollipop from (if: $suckercrown is true)[the top of his head, the candy coming away with two little feathers even](else:)[his satchel] and then shoves it into his beak, ***crunching*** it in half. $npcM[&quot;Sweetbeak became a proper villain and no-ow? No-ow everyone cheers when Sweetbeak wins, yesss. *And* the bird can do as it pleases. Freely.&quot;] His smile never fades for a moment. $npcM[&quot;Sweetbeak wants for nothing, now.&quot;](set: $morphQ to it + (a: &quot;gloam open&quot;))(set: $morphName to &quot;Sweetbeak&quot;)


(unless: $morphQ contains &quot;who&quot;)[{}[[&gt; &quot;Who are you?&quot;-&gt;morphwho]]
](unless: $morphQ contains &quot;candy&quot;)[{}[[&gt; &quot;So, you like candy?&quot;-&gt;morphCandy]]
](unless: $morphQ contains &quot;legwarmer&quot;)[{}[[&gt; &quot;Are those stockings natural?&quot;-&gt;morphLegwarmer]]
](unless: $morphQ contains &quot;destination&quot;)[{}[[&gt; &quot;Where are you going, anyway?&quot;-&gt;morphDestination]]
](if: $morphQ contains &quot;villain open&quot;)[(unless: $morphQ contains &quot;villain close&quot;)[{}[[&gt; &quot;Are you... a villain?&quot;-&gt;morphVillain]]
]](if: $morphQ contains &quot;heard open&quot;)[(unless: $morphQ contains &quot;heard close&quot;)[{}[[&gt; Tell $morphName that you&#39;ve heard of him.-&gt;morphHeardof]]
]](if: $morphQ contains &quot;heard open&quot;)[(unless: $morphQ contains &quot;heard close&quot;)[{}[[&gt; Tell $morphName that you haven&#39;t heard of him.-&gt;morphNotHeardof]]
]](if: $morphQ contains &quot;life open&quot;)[(unless: $morphQ contains &quot;life close&quot;)[{}[[&gt; &quot;So what is it like to be a villain here?&quot;-&gt;morphLife]]
]](if: $morphQ contains &quot;nemesis open&quot;)[(unless: $morphQ contains &quot;nemesis close&quot;)[{}[[&gt; &quot;Do you have a nemesis?&quot;-&gt;morphNemesis]]
]](if: $morphQ contains &quot;point open&quot;)[(unless: $morphQ contains &quot;point close&quot;)[{}[[&gt; &quot;Why did you become a villain?&quot;-&gt;morphPoint]]
]](if: $morphQ contains &quot;gloam open&quot;)[(unless: $morphQ contains &quot;gloam close&quot;)[{}[[&gt; &quot;Does being a villain earn much gloam?&quot;-&gt;morphGloam]]
]](if: $morphQ contains &quot;HQ open&quot;)[(unless: $morphQ contains &quot;HQ close&quot;)[{}[[&gt; &quot;What&#39;s the Lair of Villainy like?&quot;-&gt;morphHQ]]
]](if: $morphQ contains &quot;sweet open&quot;)[(unless: $morphQ contains &quot;sweet close&quot;)[{}[[&gt; &quot;So, all that candy... are you sweet?&quot;-&gt;morphSweet]]
]][[&gt; Ask $morphName if you can have some candy.-&gt;candy1]]
[[&gt; Ask to suck $morphName&#39;s dick.-&gt;suckravel1]](if:$cock is true)[
[[&gt; Ask $morphName to suck your dick.-&gt;ravelsuck1]]]
[[&gt; Cease conversing with $morphName and watch out the window, instead.-&gt;morphoriawindow1]]</tw-passagedata><tw-passagedata pid="268" name="morphNemesis" tags="final" position="9241,3981" size="100,100">$roomname[The Carriage - $morphTitle]
(set: $morphQ to it + (a: &quot;nemesis close&quot;))
You ask $morphName if he has a current nemesis at all. The ravel immediately claps his talons together rapidly, sitting up straight.

$npcM[&quot;Poundcake! Oh, sweet Poundcake,&quot;] the ravel delights. He chews on a lollipop with a distinct **crunch**. $npcM[&quot;Sweetbeak&#39;s latest nemesis is a petrid, does it not know. Big and dumb and oh so foolish, but Sweetbeak has such (text-style: &quot;smear&quot;)[***fun***] with it.&quot;] The ravel tilts his head to the left, wattle dangling to the side.

$npcM[&quot;Sweetbeak battled it last trisk, but it got away. It can be such a dull, boring *rock*,&quot;] the ravel burbles. $npcM[&quot;But don&#39;t worry, if it wishes to be Sweetbeak&#39;s nemesis, it is (text-style: &quot;smear&quot;)[***sure***] that Poundcake will not be around for long... Sweetbeak just cannot decide if it is more delicious to make it into a cookie or a jelly or a cake! A real Poundcake, and then Sweetbeak will find another nemesis to enjoy - for a time,&quot;] he cackles.(set: $morphName to &quot;Sweetbeak&quot;)


(unless: $morphQ contains &quot;who&quot;)[{}[[&gt; &quot;Who are you?&quot;-&gt;morphwho]]
](unless: $morphQ contains &quot;candy&quot;)[{}[[&gt; &quot;So, you like candy?&quot;-&gt;morphCandy]]
](unless: $morphQ contains &quot;legwarmer&quot;)[{}[[&gt; &quot;Are those stockings natural?&quot;-&gt;morphLegwarmer]]
](unless: $morphQ contains &quot;destination&quot;)[{}[[&gt; &quot;Where are you going, anyway?&quot;-&gt;morphDestination]]
](if: $morphQ contains &quot;villain open&quot;)[(unless: $morphQ contains &quot;villain close&quot;)[{}[[&gt; &quot;Are you... a villain?&quot;-&gt;morphVillain]]
]](if: $morphQ contains &quot;heard open&quot;)[(unless: $morphQ contains &quot;heard close&quot;)[{}[[&gt; Tell $morphName that you&#39;ve heard of him.-&gt;morphHeardof]]
]](if: $morphQ contains &quot;heard open&quot;)[(unless: $morphQ contains &quot;heard close&quot;)[{}[[&gt; Tell $morphName that you haven&#39;t heard of him.-&gt;morphNotHeardof]]
]](if: $morphQ contains &quot;life open&quot;)[(unless: $morphQ contains &quot;life close&quot;)[{}[[&gt; &quot;So what is it like to be a villain here?&quot;-&gt;morphLife]]
]](if: $morphQ contains &quot;nemesis open&quot;)[(unless: $morphQ contains &quot;nemesis close&quot;)[{}[[&gt; &quot;Do you have a nemesis?&quot;-&gt;morphNemesis]]
]](if: $morphQ contains &quot;point open&quot;)[(unless: $morphQ contains &quot;point close&quot;)[{}[[&gt; &quot;Why did you become a villain?&quot;-&gt;morphPoint]]
]](if: $morphQ contains &quot;gloam open&quot;)[(unless: $morphQ contains &quot;gloam close&quot;)[{}[[&gt; &quot;Does being a villain earn much gloam?&quot;-&gt;morphGloam]]
]](if: $morphQ contains &quot;HQ open&quot;)[(unless: $morphQ contains &quot;HQ close&quot;)[{}[[&gt; &quot;What&#39;s the Lair of Villainy like?&quot;-&gt;morphHQ]]
]](if: $morphQ contains &quot;sweet open&quot;)[(unless: $morphQ contains &quot;sweet close&quot;)[{}[[&gt; &quot;So, all that candy... are you sweet?&quot;-&gt;morphSweet]]
]][[&gt; Ask $morphName if you can have some candy.-&gt;candy1]]
[[&gt; Ask to suck $morphName&#39;s dick.-&gt;suckravel1]](if:$cock is true)[
[[&gt; Ask $morphName to suck your dick.-&gt;ravelsuck1]]]
[[&gt; Cease conversing with $morphName and watch out the window, instead.-&gt;morphoriawindow1]]</tw-passagedata><tw-passagedata pid="269" name="morphLegwarmer" tags="final" position="9231,3805" size="100,100">$roomname[The Carriage - $morphTitle]
(set: $morphQ to it + (a: &quot;legwarmer&quot;))
You ask $morphName if the stockings he wears are natural. He immediately leans back in his seat, lifting his legs up to present his toes to you.
$npcM[&quot;Yessss,&quot;] he hisses with what might be a note of pride. $npcM[&quot;One hundred percent natural! Made from the hide of Sweetbeak&#39;s sweetest friend,&quot;] he tells you. Then he plants his feet back on the ground and digs a talon into the side of his legwarmers, only to pluck several thin bars of brightly colored, sugary delights from within. He holds four or five in each talon and swiftly starts biting off one chunk at a time from first one fist and then the other.


(unless: $morphQ contains &quot;who&quot;)[{}[[&gt; &quot;Who are you?&quot;-&gt;morphwho]]
](unless: $morphQ contains &quot;candy&quot;)[{}[[&gt; &quot;So, you like candy?&quot;-&gt;morphCandy]]
](unless: $morphQ contains &quot;legwarmer&quot;)[{}[[&gt; &quot;Are those stockings natural?&quot;-&gt;morphLegwarmer]]
](unless: $morphQ contains &quot;destination&quot;)[{}[[&gt; &quot;Where are you going, anyway?&quot;-&gt;morphDestination]]
](if: $morphQ contains &quot;villain open&quot;)[(unless: $morphQ contains &quot;villain close&quot;)[{}[[&gt; &quot;Are you... a villain?&quot;-&gt;morphVillain]]
]](if: $morphQ contains &quot;heard open&quot;)[(unless: $morphQ contains &quot;heard close&quot;)[{}[[&gt; Tell $morphName that you&#39;ve heard of him.-&gt;morphHeardof]]
]](if: $morphQ contains &quot;heard open&quot;)[(unless: $morphQ contains &quot;heard close&quot;)[{}[[&gt; Tell $morphName that you haven&#39;t heard of him.-&gt;morphNotHeardof]]
]](if: $morphQ contains &quot;life open&quot;)[(unless: $morphQ contains &quot;life close&quot;)[{}[[&gt; &quot;So what is it like to be a villain here?&quot;-&gt;morphLife]]
]](if: $morphQ contains &quot;nemesis open&quot;)[(unless: $morphQ contains &quot;nemesis close&quot;)[{}[[&gt; &quot;Do you have a nemesis?&quot;-&gt;morphNemesis]]
]](if: $morphQ contains &quot;point open&quot;)[(unless: $morphQ contains &quot;point close&quot;)[{}[[&gt; &quot;Why did you become a villain?&quot;-&gt;morphPoint]]
]](if: $morphQ contains &quot;gloam open&quot;)[(unless: $morphQ contains &quot;gloam close&quot;)[{}[[&gt; &quot;Does being a villain earn much gloam?&quot;-&gt;morphGloam]]
]](if: $morphQ contains &quot;HQ open&quot;)[(unless: $morphQ contains &quot;HQ close&quot;)[{}[[&gt; &quot;What&#39;s the Lair of Villainy like?&quot;-&gt;morphHQ]]
]](if: $morphQ contains &quot;sweet open&quot;)[(unless: $morphQ contains &quot;sweet close&quot;)[{}[[&gt; &quot;So, all that candy... are you sweet?&quot;-&gt;morphSweet]]
]][[&gt; Ask $morphName if you can have some candy.-&gt;candy1]]
[[&gt; Ask to suck $morphName&#39;s dick.-&gt;suckravel1]](if:$cock is true)[
[[&gt; Ask $morphName to suck your dick.-&gt;ravelsuck1]]]
[[&gt; Cease conversing with $morphName and watch out the window, instead.-&gt;morphoriawindow1]]</tw-passagedata><tw-passagedata pid="270" name="morphPoint" tags="final" position="9352,4143" size="100,100">$roomname[The Carriage - $morphTitle]
(set: $morphQ to it + (a: &quot;point close&quot;))
You ask $morphName why he became a villain. The ravel lifts one of his lollipops and presses it to the underside of his beak, as though using it to stroke his &#39;chin&#39; in thought. $npcM[&quot;Hmm,&quot;] he says.

His other talon fishes out another lollipop, adding it to his first and squashing it to his beak, too. Now stroking his chin with two lollipops, he narrows his eyes. $npcM[&quot;HmmMmm,&quot;] he croons.

He adds a third. Then a fourth, and a fifth - eventually having to start squashing them to his wattle, too. $npcM[&quot;HmMMmMMmmmmMMMmm,&quot;] he trills.$suckercrown[ With the numerous lollipops stuck to his head, it looks almost like he&#39;s nearly wearing a demented, sugary helmet.]

$npcM[&quot;It is so much more (text-style: &quot;smear&quot;)[***fun***] than just living, *surviving*,&quot;] $morphName finally answers, nearly spitting that last word with disdain. $npcM[&quot;Yes... Sweetbeak gets fans! And the (text-style: &quot;smear&quot;)[***best***] candy, now. Sweetbeak takes what it wants, does what it wants, and is revered for it. Why would any *clever* citizen be anything else?&quot;](set: $morphName to &quot;Sweetbeak&quot;)


(unless: $morphQ contains &quot;who&quot;)[{}[[&gt; &quot;Who are you?&quot;-&gt;morphwho]]
](unless: $morphQ contains &quot;candy&quot;)[{}[[&gt; &quot;So, you like candy?&quot;-&gt;morphCandy]]
](unless: $morphQ contains &quot;legwarmer&quot;)[{}[[&gt; &quot;Are those stockings natural?&quot;-&gt;morphLegwarmer]]
](unless: $morphQ contains &quot;destination&quot;)[{}[[&gt; &quot;Where are you going, anyway?&quot;-&gt;morphDestination]]
](if: $morphQ contains &quot;villain open&quot;)[(unless: $morphQ contains &quot;villain close&quot;)[{}[[&gt; &quot;Are you... a villain?&quot;-&gt;morphVillain]]
]](if: $morphQ contains &quot;heard open&quot;)[(unless: $morphQ contains &quot;heard close&quot;)[{}[[&gt; Tell $morphName that you&#39;ve heard of him.-&gt;morphHeardof]]
]](if: $morphQ contains &quot;heard open&quot;)[(unless: $morphQ contains &quot;heard close&quot;)[{}[[&gt; Tell $morphName that you haven&#39;t heard of him.-&gt;morphNotHeardof]]
]](if: $morphQ contains &quot;life open&quot;)[(unless: $morphQ contains &quot;life close&quot;)[{}[[&gt; &quot;So what is it like to be a villain here?&quot;-&gt;morphLife]]
]](if: $morphQ contains &quot;nemesis open&quot;)[(unless: $morphQ contains &quot;nemesis close&quot;)[{}[[&gt; &quot;Do you have a nemesis?&quot;-&gt;morphNemesis]]
]](if: $morphQ contains &quot;point open&quot;)[(unless: $morphQ contains &quot;point close&quot;)[{}[[&gt; &quot;Why did you become a villain?&quot;-&gt;morphPoint]]
]](if: $morphQ contains &quot;gloam open&quot;)[(unless: $morphQ contains &quot;gloam close&quot;)[{}[[&gt; &quot;Does being a villain earn much gloam?&quot;-&gt;morphGloam]]
]](if: $morphQ contains &quot;HQ open&quot;)[(unless: $morphQ contains &quot;HQ close&quot;)[{}[[&gt; &quot;What&#39;s the Lair of Villainy like?&quot;-&gt;morphHQ]]
]](if: $morphQ contains &quot;sweet open&quot;)[(unless: $morphQ contains &quot;sweet close&quot;)[{}[[&gt; &quot;So, all that candy... are you sweet?&quot;-&gt;morphSweet]]
]][[&gt; Ask $morphName if you can have some candy.-&gt;candy1]]
[[&gt; Ask to suck $morphName&#39;s dick.-&gt;suckravel1]](if:$cock is true)[
[[&gt; Ask $morphName to suck your dick.-&gt;ravelsuck1]]]
[[&gt; Cease conversing with $morphName and watch out the window, instead.-&gt;morphoriawindow1]]</tw-passagedata><tw-passagedata pid="271" name="morphGloam" tags="final" position="9097,4100" size="100,100">$roomname[The Carriage - $morphTitle]
(set: $morphQ to it + (a: &quot;gloam close&quot;))
You ask the candy-loving ravel before you if he earns much gloam, being a villain. He wriggles in his seat a moment. $npcM[&quot;Yesss, Sweetbeak gets (text-style: &quot;smear&quot;)[***much***] candy,&quot;] he tells you.

You clarify that you mean gloam, and his eyes immediately roll. $npcM[&quot;Poor, poor, stupid ditch fodder,&quot;] he says, reaching forward to grip your head between his two talons. He strokes you as though patting a beloved family pet as he gives you large, watery eyes of pity. $npcM[&quot;Thinking it cares for gloam! It must not know, no, it must not (text-style: &quot;smear&quot;)[***know***] that gloam comes endlessly for Sweetbeak. The bird does not even think of such a thing,&quot;] then he suddenly pinches your jaw and makes you look at him.

He gives you the biggest, most delighted smile.

$npcM[&quot;Sweetbeak gets (text-style: &quot;smear&quot;)[***much***] candy, and *that* is all Sweetbeak strives for,&quot;] he insists. Then he taps your mouth with one sticky talon and pulls back again. As though nothing had happened, he sits in his seat slurping all over another lollipop with enough enthusiasm that you think he&#39;ll lick it to nothingness in mere moments.(set: $morphName to &quot;Sweetbeak&quot;)


(unless: $morphQ contains &quot;who&quot;)[{}[[&gt; &quot;Who are you?&quot;-&gt;morphwho]]
](unless: $morphQ contains &quot;candy&quot;)[{}[[&gt; &quot;So, you like candy?&quot;-&gt;morphCandy]]
](unless: $morphQ contains &quot;legwarmer&quot;)[{}[[&gt; &quot;Are those stockings natural?&quot;-&gt;morphLegwarmer]]
](unless: $morphQ contains &quot;destination&quot;)[{}[[&gt; &quot;Where are you going, anyway?&quot;-&gt;morphDestination]]
](if: $morphQ contains &quot;villain open&quot;)[(unless: $morphQ contains &quot;villain close&quot;)[{}[[&gt; &quot;Are you... a villain?&quot;-&gt;morphVillain]]
]](if: $morphQ contains &quot;heard open&quot;)[(unless: $morphQ contains &quot;heard close&quot;)[{}[[&gt; Tell $morphName that you&#39;ve heard of him.-&gt;morphHeardof]]
]](if: $morphQ contains &quot;heard open&quot;)[(unless: $morphQ contains &quot;heard close&quot;)[{}[[&gt; Tell $morphName that you haven&#39;t heard of him.-&gt;morphNotHeardof]]
]](if: $morphQ contains &quot;life open&quot;)[(unless: $morphQ contains &quot;life close&quot;)[{}[[&gt; &quot;So what is it like to be a villain here?&quot;-&gt;morphLife]]
]](if: $morphQ contains &quot;nemesis open&quot;)[(unless: $morphQ contains &quot;nemesis close&quot;)[{}[[&gt; &quot;Do you have a nemesis?&quot;-&gt;morphNemesis]]
]](if: $morphQ contains &quot;point open&quot;)[(unless: $morphQ contains &quot;point close&quot;)[{}[[&gt; &quot;Why did you become a villain?&quot;-&gt;morphPoint]]
]](if: $morphQ contains &quot;gloam open&quot;)[(unless: $morphQ contains &quot;gloam close&quot;)[{}[[&gt; &quot;Does being a villain earn much gloam?&quot;-&gt;morphGloam]]
]](if: $morphQ contains &quot;HQ open&quot;)[(unless: $morphQ contains &quot;HQ close&quot;)[{}[[&gt; &quot;What&#39;s the Lair of Villainy like?&quot;-&gt;morphHQ]]
]](if: $morphQ contains &quot;sweet open&quot;)[(unless: $morphQ contains &quot;sweet close&quot;)[{}[[&gt; &quot;So, all that candy... are you sweet?&quot;-&gt;morphSweet]]
]][[&gt; Ask $morphName if you can have some candy.-&gt;candy1]]
[[&gt; Ask to suck $morphName&#39;s dick.-&gt;suckravel1]](if:$cock is true)[
[[&gt; Ask $morphName to suck your dick.-&gt;ravelsuck1]]]
[[&gt; Cease conversing with $morphName and watch out the window, instead.-&gt;morphoriawindow1]]</tw-passagedata><tw-passagedata pid="272" name="morphHQ" tags="final" position="9091,3942" size="100,100">$roomname[The Carriage - $morphTitle]
(set: $morphQ to it + (a: &quot;HQ close&quot;))
You ask $morphName about the Lair of Villainy. He smiles broadly, exposing jagged and fang-like teeth.

$npcM[&quot;It wants to know about the Lair?&quot;] the insider asks, letting his tongue curl out of his beak (if: $suckercrown is true)[and around to one of the lollipops stuck to his head](else:)[to seek out a lollipop he&#39;s withdrawn in one gnarled talon]. He starts slurping on it noisily as he thinks.

$npcM[&quot;It is a biiiig building accessible from the surface, yet most of it is beneath City&#39;s sweet crust,&quot;] he says, taking a moment to lick his fangs. $npcM[&quot;They have a dungeon that Sweetbeak (text-style: &quot;smear&quot;)[**loves**] visiting, yes. And a training hall where Sweetbeak has such fun showing the captives new ways to be... (text-style: &quot;smear&quot;)[***sweet***]. And!&quot;] he spits out, almost choking with excitement to add still more information, $npcM[&quot;It is *not far* from those idiotic Interlopers and *their* boring building full of idiots. Keep its enemies close, yes? Easier to torment them, hm,&quot;] the bird muses.

$morphName abruptly cackles enthusiastically, then just as abruptly goes quiet again. $npcM[&quot;Bland food, though. Disgusting. Blech! It should avoid the eats they offer.&quot;](set: $morphName to &quot;Sweetbeak&quot;)


(unless: $morphQ contains &quot;who&quot;)[{}[[&gt; &quot;Who are you?&quot;-&gt;morphwho]]
](unless: $morphQ contains &quot;candy&quot;)[{}[[&gt; &quot;So, you like candy?&quot;-&gt;morphCandy]]
](unless: $morphQ contains &quot;legwarmer&quot;)[{}[[&gt; &quot;Are those stockings natural?&quot;-&gt;morphLegwarmer]]
](unless: $morphQ contains &quot;destination&quot;)[{}[[&gt; &quot;Where are you going, anyway?&quot;-&gt;morphDestination]]
](if: $morphQ contains &quot;villain open&quot;)[(unless: $morphQ contains &quot;villain close&quot;)[{}[[&gt; &quot;Are you... a villain?&quot;-&gt;morphVillain]]
]](if: $morphQ contains &quot;heard open&quot;)[(unless: $morphQ contains &quot;heard close&quot;)[{}[[&gt; Tell $morphName that you&#39;ve heard of him.-&gt;morphHeardof]]
]](if: $morphQ contains &quot;heard open&quot;)[(unless: $morphQ contains &quot;heard close&quot;)[{}[[&gt; Tell $morphName that you haven&#39;t heard of him.-&gt;morphNotHeardof]]
]](if: $morphQ contains &quot;life open&quot;)[(unless: $morphQ contains &quot;life close&quot;)[{}[[&gt; &quot;So what is it like to be a villain here?&quot;-&gt;morphLife]]
]](if: $morphQ contains &quot;nemesis open&quot;)[(unless: $morphQ contains &quot;nemesis close&quot;)[{}[[&gt; &quot;Do you have a nemesis?&quot;-&gt;morphNemesis]]
]](if: $morphQ contains &quot;point open&quot;)[(unless: $morphQ contains &quot;point close&quot;)[{}[[&gt; &quot;Why did you become a villain?&quot;-&gt;morphPoint]]
]](if: $morphQ contains &quot;gloam open&quot;)[(unless: $morphQ contains &quot;gloam close&quot;)[{}[[&gt; &quot;Does being a villain earn much gloam?&quot;-&gt;morphGloam]]
]](if: $morphQ contains &quot;HQ open&quot;)[(unless: $morphQ contains &quot;HQ close&quot;)[{}[[&gt; &quot;What&#39;s the Lair of Villainy like?&quot;-&gt;morphHQ]]
]](if: $morphQ contains &quot;sweet open&quot;)[(unless: $morphQ contains &quot;sweet close&quot;)[{}[[&gt; &quot;So, all that candy... are you sweet?&quot;-&gt;morphSweet]]
]][[&gt; Ask $morphName if you can have some candy.-&gt;candy1]]
[[&gt; Ask to suck $morphName&#39;s dick.-&gt;suckravel1]](if:$cock is true)[
[[&gt; Ask $morphName to suck your dick.-&gt;ravelsuck1]]]
[[&gt; Cease conversing with $morphName and watch out the window, instead.-&gt;morphoriawindow1]]</tw-passagedata><tw-passagedata pid="273" name="morphSweet" tags="final" position="9404,3978" size="100,100">$roomname[The Carriage - $morphTitle]
(set: $morphQ to it + (a: &quot;sweet close&quot;))
Sweetbeak looks at you with eyes that again grow so very wide, you think they might just pop out of their sockets. He leans forward, claws digging into the seat.
$npcM[&quot;Does it play games with Sweetbeak? Does it think itself to be funny? Hilarious?! Is its mind broken? Deranged?! Dilapidated?!&quot;] Sweetbeak&#39;s beak opens into what might be a sneer. He tilts his head, as though trying to comprehend the sheer magnitude of something unimaginably vast while he looks at you.

Then he reaches forwards and, with sticky and sweet-smelling talons, grabs your head and *pulls* you forward. You crash to your knees and with the aid of his grip fall face-first into the plush warmth of the ravel&#39;s sheath.

$npcM[&quot;Of (text-style: &quot;smear&quot;)[***course***] Sweetbeak is sweet!&quot;] he says as he rubs your face into his leathery sack. Your lips are smeared over the unwashed flesh of his cock&#39;s warm home, your nose catching on the ravel&#39;s pouch. You&#39;re rapidly assaulted by the overwhelming scent of the bird&#39;s musk.

He pins you there, looking less like he&#39;s drawing any enjoyment from the act and more like he&#39;s rubbing a pet&#39;s nose in its own mess as punishment. Despite any protests you put up, he doesn&#39;t let go nor ease up, instead ensuring that your face remains planted firmly in the warm, sticky musk of his sheath until he&#39;s certain that you&#39;ve adequately sampled his subtly-sweet ravel musk.

After nearly a full chime of being smothered by his plush and plump orbs and sheath, Sweetbeak moves his talons to your shoulders and *pushes*, sending you stumbling back to your own seat. A little string of something that could be Sweetbeak&#39;s own fluids or some kind of candied syrup connects your cheek to his sheath for a moment before it breaks.

$npcM[&quot;Sweetbeak is (text-style: &quot;smear&quot;)[***sweet***],&quot;] he tells you. $npcM[&quot;Obviously. It should pay more attention,&quot;] He gives you a large and jagged smile, sitting as though nothing just happened at all.(set: $morphName to &quot;Sweetbeak&quot;)

Perhaps it&#39;s best to do the same...


(unless: $morphQ contains &quot;who&quot;)[{}[[&gt; &quot;Who are you?&quot;-&gt;morphwho]]
](unless: $morphQ contains &quot;candy&quot;)[{}[[&gt; &quot;So, you like candy?&quot;-&gt;morphCandy]]
](unless: $morphQ contains &quot;legwarmer&quot;)[{}[[&gt; &quot;Are those stockings natural?&quot;-&gt;morphLegwarmer]]
](unless: $morphQ contains &quot;destination&quot;)[{}[[&gt; &quot;Where are you going, anyway?&quot;-&gt;morphDestination]]
](if: $morphQ contains &quot;villain open&quot;)[(unless: $morphQ contains &quot;villain close&quot;)[{}[[&gt; &quot;Are you... a villain?&quot;-&gt;morphVillain]]
]](if: $morphQ contains &quot;heard open&quot;)[(unless: $morphQ contains &quot;heard close&quot;)[{}[[&gt; Tell $morphName that you&#39;ve heard of him.-&gt;morphHeardof]]
]](if: $morphQ contains &quot;heard open&quot;)[(unless: $morphQ contains &quot;heard close&quot;)[{}[[&gt; Tell $morphName that you haven&#39;t heard of him.-&gt;morphNotHeardof]]
]](if: $morphQ contains &quot;life open&quot;)[(unless: $morphQ contains &quot;life close&quot;)[{}[[&gt; &quot;So what is it like to be a villain here?&quot;-&gt;morphLife]]
]](if: $morphQ contains &quot;nemesis open&quot;)[(unless: $morphQ contains &quot;nemesis close&quot;)[{}[[&gt; &quot;Do you have a nemesis?&quot;-&gt;morphNemesis]]
]](if: $morphQ contains &quot;point open&quot;)[(unless: $morphQ contains &quot;point close&quot;)[{}[[&gt; &quot;Why did you become a villain?&quot;-&gt;morphPoint]]
]](if: $morphQ contains &quot;gloam open&quot;)[(unless: $morphQ contains &quot;gloam close&quot;)[{}[[&gt; &quot;Does being a villain earn much gloam?&quot;-&gt;morphGloam]]
]](if: $morphQ contains &quot;HQ open&quot;)[(unless: $morphQ contains &quot;HQ close&quot;)[{}[[&gt; &quot;What&#39;s the Lair of Villainy like?&quot;-&gt;morphHQ]]
]](if: $morphQ contains &quot;sweet open&quot;)[(unless: $morphQ contains &quot;sweet close&quot;)[{}[[&gt; &quot;So, all that candy... are you sweet?&quot;-&gt;morphSweet]]
]][[&gt; Ask $morphName if you can have some candy.-&gt;candy1]]
[[&gt; Ask to suck $morphName&#39;s dick.-&gt;suckravel1]](if:$cock is true)[
[[&gt; Ask $morphName to suck your dick.-&gt;ravelsuck1]]]
[[&gt; Cease conversing with $morphName and watch out the window, instead.-&gt;morphoriawindow1]]</tw-passagedata><tw-passagedata pid="274" name="suckravel7" tags="final" position="9739,4327" size="100,100">$roomname[The Carriage - $morphTitle]

Several more lingering chimes pass, during which the ravel pays you very little mind save to reach his free hand down to stroke along your head and face casually. The way he does it, however, now making no eye contact at all or seeming to pay you any attention whatsoever makes the seemingly tender gesture seem almost mocking. Every now and then he peeks at you from the corner of his vision with a cruel smirk tugging at his beak, only to glance away again... even though it&#39;s obvious you&#39;ve seen him.

Finally, after several more nervous slides of the shutter from Crusty, $morphName&#39;s knot softens enough that he can lean back and begin to feel the slow release from your throat. One sticky talon, until now idly stroking at your features clutches your head as he abruptly *yanks* backwards. His half-knotted cockhead wetly (text-style: &quot;shudder&quot;)[***pops***] out of your throat and into your mouth proper with a backslop of saliva and cum alike. The too-sweet slime floods your tongue, one final spurt from his cocktip lancing across your tastebuds as a parting gift.

Another wrench of his hips pops his tip from your mouth entirely as it bobs in front of your face, sagging half-erect yet still mostly knotted. Sugary strands of jizz ooze from his prominent cockflesh with a very faint but discernible blue hue. The fluid upon your tongue drools to your lips and against your chin with a similar hue, glistening thickly like colored molasses. 

The bird brings his gaze back to you and stares intently with his wide, grinning countenance, seeming about to say something - even parting his beak and gesturing with his lollipop, mostly finished... but then stops himself. Instead he just shrugs silently with a grin and shoves past you, slipping out the carriage and into the streets with his cock bobbing carelessly, slinging several lingering strands of saliva and jizz onto the street below him. (if:$suckercrown)[As he struts off down the street, the lollipops stuck to his head bounce and wobble with several falling off to land on the stone below - fodder for greeps and other scavengers to scrounge and fight over.](set: $morphSex to &quot;suck&quot;)


[[&gt; Rub your sore throat and shakily depart the carriage.-&gt;morphoriaconclusion]]</tw-passagedata><tw-passagedata pid="275" name="psiconclusion" tags="final" position="5688,5732" size="100,100">$roomname[The Psilysium District]

(if: $psinurk is &quot;awake&quot;)[As the nurk waddles sleepily out of the carriage, you follow after him and step out into the heart of the Psilysium district. You see your traveling companion slowly stumble through the streets and vanish out of sight, still clutching his cup of &#39;tea&#39;.{

}](else-if: $psinurk is &quot;sleep&quot;)[Slowly, *messily*, you drag yourself from Crusty&#39;s carriage and out into the streets of the Psilysium district. Leaking from everywhere you think you *can* leak, you try to regain some decorum and take stock of your surroundings.

](else:)[Finally arriving at the very heart of the Psilysium district your mind wanders even further. No doubt many about this district, especially near the citadel, are in varying states of consciousness themselves, and many more still would eagerly debate for several sleeps about the nature of such a thing to begin with.]

A small cafe sits nearby with a trio of tables outside, one of which has several chimerae smoking from pipes. The purplish smoke rising from one wafts in your direction and tickles your senses with a faintly acrid aroma, and shortly after there&#39;s a slight &quot;tickle&quot; of another kind as your perceptions subtly *warp*. You find your thoughts themselves *feeling*... (char-style:(text-style:&quot;fidget&quot;))[(char-style: via (color:(either:#33bb66,#55ff88,#119933)))[different]].

Is thinking truly all it takes to be an &#39;I&#39;? Could one not think of another thinking, and thereby birth a second &#39;I&#39; that exists only to the first? And if so, is that existence truly any less real? 

A pair of ravels waddle by, one of them holding a sort of portable hookah by a raised handle. The device sways in hand like a lantern, its hose held in the creature&#39;s beak as it inhales deeply. The other ravel looks positively stoned as is, their eyes vacant and distant, though they manage to deftly navigate several hazards even so. Stepping over a raised brick in the street, ducking to avoid a low-hanging awning, and side-stepping a lamp post, the ravels move without ever shifting their apparent focus in the slightest.

Are they paying any attention at all, or is it all subconscious? Are the two one in the same, or is there something else entirely in there? In here, even? This voice right now, narrating, speaking, understanding. Is it *you*? If not, then who am *I*? Where am *I*? Are you certain that *I* am not your *I?*

... with a shake of your head your focus returns more to the physical space around you, waving a bit to disperse the purple haze that had wafted your way and clearly affected your thoughts. Such idle musings are surely anything but uncommon, but how deep does the door into one&#39;s own mind go within the citadel of Psilysium itself?

Thoughts scattering through your mind, you turn your attention to your next step. 

*You have arrived in the Psilysium district - a place where the very nature of &#39;you&#39; could be no less simultaneously certain and uncertain both. Having completed your journey here all that remains is the question - now, where?*

&lt;img src=&quot;http://nodd-arca.net/carriage/carriage_psilysium.jpg&quot; style=&quot;display: block; margin-left: auto; margin-right: auto; width: 100%;&quot;&gt;
&lt;br&gt;
&lt;br&gt;
&lt;center&gt;&lt;h3&gt;(text-style: &quot;smear&quot;)[END]&lt;/h3&gt;

&lt;font size=&quot;5em&quot;&gt;{(link:&quot;&gt; Commence another journey &lt;&quot;)[(reload:)]}&lt;/font&gt;&lt;/center&gt;</tw-passagedata><tw-passagedata pid="276" name="morphoriaconclusion" tags="final" position="10099,4532" size="100,100">$roomname[The Morphoria District]

(if: $morphSex is &quot;suck&quot;)[You shakily stumble out of the carriage, covered in $morphName&#39;s sticky fluids and with a throat that aches something fierce.](else-if: $morphSex is &quot;sucked&quot;)[You wobble out of the carriage, feeling fiercely satisfied with your cock having spent an enormous load down $morphName&#39;s throat. Whatever else, he has an *incredible* tongue, so long as you don&#39;t mind the sticky residue it leaves behind.](else:)[You step out of the carriage and into the bustling, strange streets around you.] Gazing around your new locale, you find that everything seems to be tinted as though by a purple lens.

The buildings seem to stretch into the violet hues a little more often than they might in the Vorn or Omnillian districts, but that effect is subtle - something one could overlook if they weren&#39;t paying attention. What&#39;s harder to overlook is the seemingly haphazard, almost deranged civil engineering that permeates the district.

Several alleys you can see end in dead ends for seemingly no reason. Some buildings have wings or rooms that look entirely unlivable, or impossible to access. There&#39;s a *gap* where you&#39;re certain a building ought to be, though no such structure is anywhere to be seen - you find that the notion that it simply got up and walked away seems somehow less outrageous here in this part of the city.

People walk around with bizarre body morphologies or with visible *changes* that certainly can&#39;t be natural. Signs overhead advertise the fulfillment of one&#39;s wildest dreams, either through spells, potions, or thrumming casinos. There seems to be an abundance of locales that offer games and gambling of all sorts, and now and then you catch the subtle slither of little black serpents - the patron familiars of Morphoria.

But looking upon it all begs your mind to look upon itself, yourself. All know that change is inevitable, yet with every day, every breath, we resist it. In life we are driven to carve boundaries, to set expectations for more of the same, and then wail in woe when we are foiled in our obvious folly. Many citizens would see Morphorians as unpredictable and mad, but is there a certain deeper wisdom in their acceptance of the impossibility of stagnancy in embracing change itself? When one wakes from a night&#39;s sleep is one ever truly *un*changed?

The district you are in seems to be ruled by chance, fate, change and chaos. Almost anything seems possible, here, even more than normal - which leaves you with a simultaneous feeling of both freedom, and danger. The Morphoria district - where change is wild, and rules are wilder.

*You have arrived in the Morphoria district - the only certainty of any sort being that of uncertainty itself, of the moment which comes next being different in some way. But such is the nature of every moment inherently, some Morphorians might argue. Having completed your journey here all that remains is the question - now, where?*

&lt;img src=&quot;http://nodd-arca.net/carriage/carriage_morphoria.jpg&quot; style=&quot;display: block; margin-left: auto; margin-right: auto; width: 100%;&quot;&gt;
&lt;br&gt;
&lt;br&gt;
&lt;center&gt;&lt;h3&gt;(text-style: &quot;smear&quot;)[END]&lt;/h3&gt;

&lt;font size=&quot;5em&quot;&gt;{(link:&quot;&gt; Commence another journey &lt;&quot;)[(reload:)]}&lt;/font&gt;&lt;/center&gt;</tw-passagedata><tw-passagedata pid="277" name="morphDestination" tags="final" position="9221,3607" size="100,100">$roomname[The Carriage - $morphTitle]
(set: $morphQ to it + (a: &quot;destination&quot;))
You ask $morphName where he&#39;s going in the Morphoria District. He tilts his head one way and then the other$suckercrown[, lollipops wobbling as he does,] before offering a smile that seems both sinister and crazed.

$npcM[&quot;To the **Lair of Villainy**! Full of such fun and fear and tasty, **tasty** tricks.&quot;] With each word his presence grows as he seems to get more and more excited until his wide eyes are looming down at you from above, his toothy beak parted in a manic grin.

Then he sits back down and crosses his legs, squashing his fat and pendulous sheath and orbs up and onto somehow even more prominent display.

$npcM[&quot;It is very **nosy**, isn&#39;t it?&quot;] he asks, eyes boring into yours.(set: $morphQ to it + (a: &quot;villain open&quot;))(set: $morphQ to it + (a: &quot;HQ open&quot;))


(unless: $morphQ contains &quot;who&quot;)[{}[[&gt; &quot;Who are you?&quot;-&gt;morphwho]]
](unless: $morphQ contains &quot;candy&quot;)[{}[[&gt; &quot;So, you like candy?&quot;-&gt;morphCandy]]
](unless: $morphQ contains &quot;legwarmer&quot;)[{}[[&gt; &quot;Are those stockings natural?&quot;-&gt;morphLegwarmer]]
](unless: $morphQ contains &quot;destination&quot;)[{}[[&gt; &quot;Where are you going, anyway?&quot;-&gt;morphDestination]]
](if: $morphQ contains &quot;villain open&quot;)[(unless: $morphQ contains &quot;villain close&quot;)[{}[[&gt; &quot;Are you... a villain?&quot;-&gt;morphVillain]]
]](if: $morphQ contains &quot;heard open&quot;)[(unless: $morphQ contains &quot;heard close&quot;)[{}[[&gt; Tell $morphName that you&#39;ve heard of him.-&gt;morphHeardof]]
]](if: $morphQ contains &quot;heard open&quot;)[(unless: $morphQ contains &quot;heard close&quot;)[{}[[&gt; Tell $morphName that you haven&#39;t heard of him.-&gt;morphNotHeardof]]
]](if: $morphQ contains &quot;life open&quot;)[(unless: $morphQ contains &quot;life close&quot;)[{}[[&gt; &quot;So what is it like to be a villain here?&quot;-&gt;morphLife]]
]](if: $morphQ contains &quot;nemesis open&quot;)[(unless: $morphQ contains &quot;nemesis close&quot;)[{}[[&gt; &quot;Do you have a nemesis?&quot;-&gt;morphNemesis]]
]](if: $morphQ contains &quot;point open&quot;)[(unless: $morphQ contains &quot;point close&quot;)[{}[[&gt; &quot;Why did you become a villain?&quot;-&gt;morphPoint]]
]](if: $morphQ contains &quot;gloam open&quot;)[(unless: $morphQ contains &quot;gloam close&quot;)[{}[[&gt; &quot;Does being a villain earn much gloam?&quot;-&gt;morphGloam]]
]](if: $morphQ contains &quot;HQ open&quot;)[(unless: $morphQ contains &quot;HQ close&quot;)[{}[[&gt; &quot;What&#39;s the Lair of Villainy like?&quot;-&gt;morphHQ]]
]](if: $morphQ contains &quot;sweet open&quot;)[(unless: $morphQ contains &quot;sweet close&quot;)[{}[[&gt; &quot;So, all that candy... are you sweet?&quot;-&gt;morphSweet]]
]][[&gt; Ask $morphName if you can have some candy.-&gt;candy1]]
[[&gt; Ask to suck $morphName&#39;s dick.-&gt;suckravel1]](if:$cock is true)[
[[&gt; Ask $morphName to suck your dick.-&gt;ravelsuck1]]]
[[&gt; Cease conversing with $morphName and watch out the window, instead.-&gt;morphoriawindow1]]</tw-passagedata><tw-passagedata pid="278" name="vornFun" tags="final" position="3601,3580" size="100,100">$roomname[The Carriage - The Duo]

You tell the conjoined pair that you don&#39;t think it&#39;s humiliating to have fun. The city espouses indulgence and enjoyment, after all! If Linivia wants to partake in dress-ups then why should anyone judge her for that? (set: $laire to 0)(set: $linivia to 1)

Linivia&#39;s eyes practically light up and she positively beams at you in delight. Laire&#39;s eyes roll so potently that her disapproval could probably disintegrate all childish fun within a ten block radius. But not Linivia&#39;s - not now that you&#39;ve provided that little encouragement.

$npcV2[&quot;Yes, exactly! Thank you, stranger,&quot;] Linivia delights. She hums merrily to herself, then picks &#39;Mylla&#39; up. $npcV2[&quot;But Laire makes a good point, I (text-style: &quot;smear&quot;)[**should**] keep her put away until we&#39;re somewhere safe. I don&#39;t think I could bear losing my little Mylla-wylla!&quot;]

$npcV1[&quot;Linivia (text-style: &quot;smear&quot;)[**please**], I can feel my skin wrinkling a little more every time you open your mouth.&quot;]

Linivia continues humming as she gathers up the micro and its accessories, pausing in her self-pleased tune to concentrate, causing the microcitizen and its wardrobe to visibly shimmer and shift subtly more transparency before snapping out of existence once more. Then, she turns her attention to you.

$npcV2[&quot;Would you tell my snobby sister that micros can be citizens, too? She says they&#39;re only tools and tenderlings but I know - I know!&quot;] she says, reaching forth with her side&#39;s arm and catching one of your own.

$npcV2[&quot;They can be more! They&#39;re just like us, really, if a little smaller,&quot;] she affirms.


[[&gt; Agree with Laire - micros are for using or consuming.-&gt;vorn6]]
[[&gt; Agree with Linivia - micros can be citizens, too.-&gt;vornMicro]]</tw-passagedata><tw-passagedata pid="279" name="vornMicro" tags="final" position="3598,3736" size="100,100">$roomname[The Carriage - The Duo]

(set: $linivia to it + 1)You inform Laire that microcitizens are people as well, and that she surely would want some mercy or care should she ever find herself being shrunken down to miniature size. Linivia&#39;s eyes light up a little and she looks to the darker-haired head with wonder.

Laire grimaces, then gives you a dark, dark scowl.

$npcV2[&quot;I knew someone else out there understood! They&#39;re not just food or tools, they&#39;re people, too!&quot;] Linivia insists with growing delight.

Laire&#39;s hand tightens into a fist and her expression dims to the point that you feel as though a stormcloud might spontaneously form inside Crusty&#39;s trundling, wobbling carriage.

$npcV1[&quot;Frankly, I don&#39;t (text-style: &quot;smear&quot;)[**care**], Linivia,&quot;] Laire says. She looks at you. $npcV1[&quot;And (text-style: &quot;smear&quot;)[**you**] can go be supper for the city for all I care. Do you understand what it is to be *wretched*? How *hard* it is?&quot;] she asks. Without waiting she continues, her voice scathing. $npcV1[&quot;It&#39;s (text-style: &quot;smear&quot;)[**devastating.**] We&#39;re not outside the walls working on some farm, or in one of those trite little settlements struggling for life in the slop and misery of the Doldrums. We are citizens of (text-style: &quot;smear&quot;)[**Nodd**].&quot;]

Linivia shrinks a little under her conjoined half&#39;s vehemence and she looks to you for support. Meekly she pipes up, $npcV2[&quot;It surely isn&#39;t that bad, Laire, I-&quot;]

$npcV1[&quot;It&#39;s (text-style: &quot;smear&quot;)[**worse**], Linivia. Do you remember what mother taught us? What she would say in the evening, when we were young runts? Hmm? Do you?&quot;]

Laire fixes her imperious gaze on the lighter-haired head, her nostrils flared in fury. Linivia hesitates, then slowly nods.

$npcV2[&quot;Once a season, once a turn... but once seen, ever spurned.&quot;]

$npcV1[&quot;Yes. You may get away with something shameful once a season, once a turn, but should someone see you do it (text-style: &quot;smear&quot;)[**even once**] then you could become (text-style: &quot;smear&quot;)[**nothing**]. For **ever**. You earn their mockery or, worse, their (text-style: &quot;shadow&quot;)[**pity**]. And then our entire life is over. And it spreads. One person tells another, and another. Then they tell. Everyone knows. And we&#39;d be doomed.&quot;]

Linivia goes quiet, and then so too does Laire. The sound of the carriage wheels bumping and thunking across the roadway becomes the only sound of note, with the occasional exception of the changing districts outside the windows.

Eventually, Linivia turns to face Laire once again. The dark-haired head gazes with a stony expression out the window.

$npcV2[&quot;Laire, I...&quot;]

$npcV1[&quot;I can&#39;t do this without you, Linivia,&quot;] Laire says, still gazing into the streets. $npcV1[&quot;I can&#39;t (text-style: &quot;smear&quot;)[**live**] without you. We have to work together to survive here, to thrive at all. And it means we have to play by the rules, together, too.&quot;]

Linivia goes entirely quiet again for what feels like almost a full chime. Then, slowly, she reaches out to squeeze Laire&#39;s hand where it rests on her side&#39;s knee. If the pair had one head, it would almost look like someone merely sitting with their hands in their lap yet, as you watch the conjoined pair, you can tell that it means much more.

Laire&#39;s expression finally softens somewhat.

$npcV1[&quot;Please, just... (text-style: &quot;smear&quot;)[**behave**] for this one party, and then you can... make tutus for Nylla out of tampons, or what have you,&quot;] she says quietly.

Linivia sniffles, then sighs. She gives a weak laugh, then shakes her head.


[[&gt; ...-&gt;vorn7]]</tw-passagedata><tw-passagedata pid="280" name="vorn8" tags="final" position="3513,4033" size="100,100">$roomname[The Carriage - The Duo]

$npcV2[&quot;Yes, microcitizen matters!&quot;] Linivia expresses, her mood bright. She lifts her head, then gestures with her one arm. $npcV2[&quot;An easy example is tenderlings. So many people enjoy tenderlings!&quot;] she declares. 

$npcV2[&quot;But should we eat them?&quot;]

$npcV1[&quot;Of course we should, Linivia,&quot;] Laire says from the side, appearing to immediately regret her decision to indulge her other half this conversation. Linivia scowls briefly at her, then turns back to you with interest.

$npcV2[&quot;Ignore her. I&#39;m asking you! Nobody wants to be eaten, of course, and there&#39;s no question that many microcitizens want to live. But is a desire to live all it takes to make eating someone wrong?&quot;]

She pauses there as the carriage bumps and jostles along the roadway. After a few ticks, it becomes apparent that she&#39;s awaiting your answer already.


[[&gt; Say that you shouldn&#39;t eat someone who wants to live.-&gt;vorn9Yes]]
[[&gt; Say that everything wants to live, so that shouldn&#39;t prevent you from eating someone.-&gt;vorn9No]]</tw-passagedata><tw-passagedata pid="281" name="vorn9Yes" tags="final" position="3443,4180" size="100,100">$roomname[The Carriage - The Duo]
(set: $linivia to it + 1)
You answer that you shouldn&#39;t eat a tenderling if it wants to live. Laire scoffs and turns her attention to the window, while Linivia holds up a claw in interest.

$npcV2[&quot;Alright, but now you&#39;ve just murdered half of the city,&quot;] she tells you. $npcV2[&quot;Most things want to live, and to live you need to eat. Very few things (text-style: &quot;smear&quot;)[**want**] to die, but that goes beyond citizens. Greep get cooked all the time, but they&#39;re so stupid they barely seem to even realize it! Does that make it okay? Mephitoads, those cute-&quot;]

$npcV1[&quot;Disgusting.&quot;]

$npcV2[&quot;-little things the Vivirians all adore - they make little shops and communities, and even if I don&#39;t think anybody thinks they know what they&#39;re doing, they want to live, too. So every carnivore is now malnourished or dying. That&#39;s just as bad, isn&#39;t it?&quot;] Linivia asks.

$npcV1[&quot;Get to the point, Linivia,&quot;] Laire sighs, lifting her hand to rub at her furrowed brow.

$npcV2[&quot;The (text-style: &quot;smear&quot;)[&#39;&#39;point&#39;&#39;] is, you can&#39;t not eat something just because it wants to live. So maybe...&quot;] she trails off, then gives you a coy smile. $npcV2[&quot;Maybe we should avoid eating anything with sentience?&quot;] she asks.


[[&gt; Agree. Sentience is a good measure for whether eating something is off limits.-&gt;vorn10Yes]]
[[&gt; Disagree. Sentience is a poor measure for whether eating something is off limits.-&gt;vorn10No]]</tw-passagedata><tw-passagedata pid="282" name="vorn9No" tags="final" position="3590,4183" size="100,100">$roomname[The Carriage - The Duo]
(set: $laire to it + 1)
You answer that everything wants to live, so if you avoid eating someone or something just because of that, you won&#39;t eat anything at all. Laire seems to neither agree nor disagree - she mostly seems irritated by the discourse, though is perhaps a little pleased by your disagreement. Linivia places a claw to her snout in thought.

$npcV2[&quot;That&#39;s a good point,&quot;] she tells you. $npcV2[&quot;I would have made it myself,&quot;] Linivia laughs. Then she holds up a finger. $npcV2[&quot;But if you don&#39;t care if something wants to live or not, then why is your approval limited to tenderlings?&quot;] She pauses, then waves her hand. $npcV2[&quot;I mean, if it **is** limited to tenderlings. Most people outside of Gorgharia object to eating (text-style: &quot;smear&quot;)[**actual**] people, though. Often, at least.&quot;]

$npcV1[&quot;(text-style: &quot;smear&quot;)[&#39;&#39;Actual&#39;&#39;] people, Lin?&quot;] Laire asks, amused. $npcV1[&quot;What happened to &#39;Mylla is an actual person&#39;, hmm?&quot;]

Linivia blushes.

$npcV2[&quot;Well, my point is that if you&#39;re content to eat something that wants to live, you must draw the line somewhere else about what&#39;s okay to eat or not eat. So then...&quot;] she trails off, then gives you a coy smile. $npcV2[&quot;Maybe we should avoid eating anything with sentience?&quot;] she asks.


[[&gt; Agree. Sentience is a good measure for whether eating something is off limits.-&gt;vorn10Yes]]
[[&gt; Disagree. Sentience is a poor measure for whether eating something is off limits.-&gt;vorn10No]]</tw-passagedata><tw-passagedata pid="283" name="vorn10Yes" tags="final" position="3441,4326" size="100,100">$roomname[The Carriage - The Duo]

You inform Linivia that sentience is a good measurement for whether eating something is acceptable or not. Linivia glances at Laire, then smiles back at you. Laire rolls her eyes and fastidiously watches out the window.

$npcV2[&quot;Of course! Sentience is the divisor between us and them! Better to eat a beast than your neighbor,&quot;] Linivia says. She smiles for a moment more, then tilts her head as she gazes at you.

$npcV2[&quot;So it would be totally fine for me to eat you if I bestialized you and destroyed your sentience, right? Or do *I* just get to *decide* when you&#39;re dumb enough for me to justify eating you?&quot;]


[[&gt; &quot;I suppose.&quot;-&gt;vorn11Yes]]
[[&gt; &quot;What? No!&quot;-&gt;vorn11No]]</tw-passagedata><tw-passagedata pid="284" name="vorn10No" tags="final" position="3591,4326" size="100,100">$roomname[The Carriage - The Duo]

You disagree, explaining that sentience is hard to define. It&#39;s also hard to say if sentience is the only relevant factor. Linivia nods her head thoughtfully, then glances at Laire.

Laire patently isn&#39;t looking at either of you and continues watching out the carriage window, almost visibly wishing that this entire affair wasn&#39;t happening. Perhaps daydreaming of separating herself from her other half and crawling out the window here and now.

$npcV2[&quot;Those are good points. It&#39;s not so simple, is it? Because if it were just about whether something has sentience or not, well...&quot;] she trails off thoughtfully, then pressed a claw to her mouth. $npcV2[&quot;I could just bestialize you, destroy your sentience, then eat (text-style: &quot;smear&quot;)[**you**] guilt-free! I don&#39;t think you&#39;d like that, though, would you?&quot;]


[[&gt; &quot;Actually, I&#39;d be alright with it.&quot;-&gt;vorn11Yes]]
[[&gt; &quot;Absolutely not!&quot;-&gt;vorn11No]]</tw-passagedata><tw-passagedata pid="285" name="morphCandy2" tags="final" position="9454,3387" size="100,100">$roomname[The Carriage - $morphTitle]

&lt;img src=&quot;http://nodd-arca.net/carriage/sweetbeak_suckers.jpg&quot; style=&quot;display: block; margin-left: auto; margin-right: auto; width: 100%;&quot;&gt;

He repeats this action several times until he&#39;s run out of suckers (in hand), his beak positively stuffed and several stems protruding strangely from various spots about the top and sides of his head. Any time the ravel moves his beak they bob and bounce in place.(set: $morphQ to it + (a: &quot;sweet open&quot;))(set: $suckercrown to true)


(unless: $morphQ contains &quot;who&quot;)[{}[[&gt; &quot;Who are you?&quot;-&gt;morphwho]]
](unless: $morphQ contains &quot;candy&quot;)[{}[[&gt; &quot;So, you like candy?&quot;-&gt;morphCandy]]
](unless: $morphQ contains &quot;legwarmer&quot;)[{}[[&gt; &quot;Are those stockings natural?&quot;-&gt;morphLegwarmer]]
](unless: $morphQ contains &quot;destination&quot;)[{}[[&gt; &quot;Where are you going, anyway?&quot;-&gt;morphDestination]]
](if: $morphQ contains &quot;villain open&quot;)[(unless: $morphQ contains &quot;villain close&quot;)[{}[[&gt; &quot;Are you... a villain?&quot;-&gt;morphVillain]]
]](if: $morphQ contains &quot;heard open&quot;)[(unless: $morphQ contains &quot;heard close&quot;)[{}[[&gt; Tell $morphName that you&#39;ve heard of him.-&gt;morphHeardof]]
]](if: $morphQ contains &quot;heard open&quot;)[(unless: $morphQ contains &quot;heard close&quot;)[{}[[&gt; Tell $morphName that you haven&#39;t heard of him.-&gt;morphNotHeardof]]
]](if: $morphQ contains &quot;life open&quot;)[(unless: $morphQ contains &quot;life close&quot;)[{}[[&gt; &quot;So what is it like to be a villain here?&quot;-&gt;morphLife]]
]](if: $morphQ contains &quot;nemesis open&quot;)[(unless: $morphQ contains &quot;nemesis close&quot;)[{}[[&gt; &quot;Do you have a nemesis?&quot;-&gt;morphNemesis]]
]](if: $morphQ contains &quot;point open&quot;)[(unless: $morphQ contains &quot;point close&quot;)[{}[[&gt; &quot;Why did you become a villain?&quot;-&gt;morphPoint]]
]](if: $morphQ contains &quot;gloam open&quot;)[(unless: $morphQ contains &quot;gloam close&quot;)[{}[[&gt; &quot;Does being a villain earn much gloam?&quot;-&gt;morphGloam]]
]](if: $morphQ contains &quot;HQ open&quot;)[(unless: $morphQ contains &quot;HQ close&quot;)[{}[[&gt; &quot;What&#39;s the Lair of Villainy like?&quot;-&gt;morphHQ]]
]](if: $morphQ contains &quot;sweet open&quot;)[(unless: $morphQ contains &quot;sweet close&quot;)[{}[[&gt; &quot;So, all that candy... are you sweet?&quot;-&gt;morphSweet]]
]][[&gt; Ask $morphName if you can have some candy.-&gt;candy1]]
[[&gt; Ask to suck $morphName&#39;s dick.-&gt;suckravel1]](if:$cock is true)[
[[&gt; Ask $morphName to suck your dick.-&gt;ravelsuck1]]]
[[&gt; Cease conversing with $morphName and watch out the window, instead.-&gt;morphoriawindow1]]</tw-passagedata><tw-passagedata pid="286" name="vorn11Yes" tags="final" position="3439,4479" size="100,100">$roomname[The Carriage - The Duo]

Linivia looks at you in surprise. Laire seems to smirk privately at the way your answer briefly flummoxes the lighter-haired lehlt head. Then Linivia frowns in thought, looking up at the carriage ceiling.

Outside, you see a public orgy going on with a number of the &#39;participants&#39; stuck in stockades, looking thoroughly abused.

$npcV2[&quot;Wow! Well, maybe you&#39;d be happy in Gorgharia! But I know for sure most people would be kind of upset if someone did that to them,&quot;] she eventually says. $npcV2[&quot;But, they might argue that that&#39;s just because it&#39;s kind of like killing a sentient being, which is a different argument. So, for the sake of discussion, imagine I take a greep and give it sentience for a day - Instill Sapience, yes? Just one day before the gloam runs out. The next day, I eat it. Do you think most people would find that wrong?&quot;]


[[&gt; &quot;They would probably think that it&#39;s wrong to eat that greep, now.&quot;-&gt;vorn12Yes]]
[[&gt; &quot;Eating the greep would be completely fine.&quot;-&gt;vorn12No]]</tw-passagedata><tw-passagedata pid="287" name="vorn11No" tags="final" position="3594,4484" size="100,100">$roomname[The Carriage - The Duo]

Linivia smiles at you. You can&#39;t tell if it&#39;s a smile you should be worried about or not. $npcV2[&quot;That would upset you, too, naturally,&quot;] she says. $npcV2[&quot;But you could argue that that&#39;s just because it&#39;s kind of like killing a sentient being, which is a different argument. So... Oh! I know,&quot;] she says, face lighting up. $npcV2[&quot;Imagine I take a greep and give it sentience for a day - Instill Sapience, yes? Just one day before the gloam runs out. The next day, I eat it. Is (text-style: &quot;smear&quot;)[**that**] wrong?&quot;]

$npcV1[&quot;City&#39;s eyes, Linivia,&quot;] Laire mutters under her breath.


[[&gt; &quot;It&#39;s wrong to eat that greep, now.&quot;-&gt;vorn12Yes]]
[[&gt; &quot;When you put it like that, maybe not...&quot;-&gt;vorn12No]]</tw-passagedata><tw-passagedata pid="288" name="vorn12Yes" tags="final" position="3434,4639" size="100,100">$roomname[The Carriage - The Duo]

You tell Linivia that, since it was sentient, it&#39;s not alright to eat the greep any longer. Linivia&#39;s shoulder straightens while she narrows her blue eyes in an almost sly manner.

$npcV2[&quot;Really?&quot;] she asks. $npcV2[&quot;Then you have a problem, don&#39;t you? Because instead, I don&#39;t eat it. I offer it to you at a dinner party.&quot;]

$npcV1[&quot;We are (text-style: &quot;smear&quot;)[**not**] having a dinner party with this ditch fodder,&quot;] Laire states, quickly glancing at Linivia. Linivia waves her hand dismissively.

$npcV2[&quot;Oh of course not, Laire! This is all hypothetical. I wouldn&#39;t (text-style: &quot;smear&quot;)[**really**] dine with this stranger! No offense,&quot;] she says to you. Before you can decide whether you even *should* be offended or not, though, she moves back to the topic at hand. $npcV2[&quot;I offer it to you at this *imaginary* dinner party. You don&#39;t know that yesterday it was sentient and thinking. To you, it&#39;s an ordinary greep. Now here is the problem! That greep is (text-style: &quot;smear&quot;)[**any creature in Nodd**]. Anything might have been sentient, once, and you can&#39;t ever know for sure. You&#39;re even (text-style: &quot;smear&quot;)[**worse**] off than if you avoided eating things that wanted to live, because Instill Sapience can make even inanimate things sentient for a time. You can&#39;t eat **anything** anymore, all because of an unknown!&quot;]

She looks at you emphatically, then shakes her head. $npcV2[&quot;No. You might choose not to eat something you (text-style: &quot;smear&quot;)[**know**] was sentient in the past as a personal choice, but you can&#39;t use it as a (text-style: &quot;smear&quot;)[**moral**] criteria or everything starves.&quot;]

Linivia tilts her head a little, then smiles again. She holds up one clawed finger. $npcV2[&quot;It&#39;s not a problem without hope, though. It&#39;s just a... a complex one.&quot;]

$npcV1[&quot;To idiots stuck in what-ifs, maybe,&quot;] Laire sighs. Linivia stifles a slight laugh, to Laire&#39;s scowling admonition.

$npcV2[&quot;Personally **I** think that the question is in (text-style: &quot;smear&quot;)[**potential**]. Will the thing you want to eat have a life? Contribute to Nodd? Generate a respectable amount of chaos? If they will, then maybe it&#39;s worth not eating them. But if they won&#39;t, well. They&#39;re-&quot;]

$npcV1[&quot;Disposable,&quot;] Laire chimes in with a disinterested wave. Linivia nods.

$npcV2[&quot;So... that brings us back around to tenderlings. What do you think, now?&quot;] Linivia asks, resting her elbow on her knee and her head on the palm of her hand.


[[&gt; Say that you think eating tenderlings is acceptable.-&gt;vorn13Yes]]
[[&gt; Say that you think people shouldn&#39;t eat tenderlings.-&gt;vorn13No]]</tw-passagedata><tw-passagedata pid="289" name="vorn12No" tags="final" position="3591,4641" size="100,100">$roomname[The Carriage - The Duo]

You declare that eating the greep would be completely fine to do. Linivia pauses for a few ticks, then nods in agreement.

$npcV2[&quot;Right! The sentience is gone, it&#39;s not coming back - not eating it would be a waste of a perfectly.. maybe not &#39;good&#39; but at least *edible* greep! So it&#39;s not just sentience that matters. There&#39;s something else, hard to define. If we want to know if it&#39;s okay to eat something or not, we can&#39;t just ask if it wants to live or not, and we can&#39;t even really just ask if it&#39;s sentient or not.&quot;]

Linivia pauses, looking at you thoughtfully for a time as though waiting for something or other to sink in. Eventually she seems to deem that enough time has passed, then smiles again.

$npcV2[&quot;(text-style: &quot;smear&quot;)[**I**] think that the question is in (text-style: &quot;smear&quot;)[**potential**]. Will the thing you want to eat have a life? Contribute to Nodd? Generate a respectable amount of chaos? If they will, then maybe it&#39;s worth not eating them. But if they won&#39;t, well. They&#39;re-&quot;]

$npcV1[&quot;Disposable,&quot;] Laire chimes in with a disinterested wave. Linivia nods.

$npcV2[&quot;So... that brings us back around to tenderlings. What do you think, now?&quot;] Linivia asks, resting her elbow on her knee and her head on the palm of her hand.


[[&gt; Say that you think eating tenderlings is acceptable.-&gt;vorn13Yes]]
[[&gt; Say that you think people shouldn&#39;t eat tenderlings.-&gt;vorn13No]]</tw-passagedata><tw-passagedata pid="290" name="vorn13Yes" tags="final" position="3437,4799" size="100,100">$roomname[The Carriage - The Duo]
(set: $laire to it + 1)
You decide that people should be able to eat tenderlings. Laire seems almost to breathe a sigh of relief, as though glad that her lighter half&#39;s philosophizing didn&#39;t manage to corrupt the good sense of another citizen.

$npcV2[&quot;A fair conclusion,&quot;] Linivia says, nodding her head, though she does sound mildly disappointed in the same way that Laire seems mildly pleased. $npcV2[&quot;There&#39;s no way that a tenderling is going to go and change the face of Nodd, or win at GodGrinder or pass a House trial. If the average person saw them, they&#39;d just get added to some soup or grated over some noodles faster than you can say Underchambers.&quot;]

As the carriage trundles and bounces across the arching of a bridge, Linivia takes a moment to glance out the window to check where you are. You can see that the cityscape has become a ruddy, bloody red in hue over the course of your journey. You&#39;re surely nearly there.

$npcV2[&quot;Tenderlings have no potential. There&#39;s nothing wrong with eating them because that is the fulfillment of their role in the world. It doesn&#39;t matter if they want to live or are sentient or even if they (text-style: &quot;smear&quot;)[**were**] &#39;real&#39; people like you or me. And that applies to everybody in Nodd. You have to remember your place in it, because the city *always* knows it.&quot;]

Linivia shrugs her one shoulder, causing a lock of her mane to fall out of place. She swiftly brushes it back where it belongs. Suddenly, Crusty calls out that you&#39;re arriving at your destination and you feel the carriage begin to slow. Linivia looks around, then gives you a smile. You watch as Laire breathes out yet another relieved sigh.

$npcV2[&quot;And that&#39;s simply one issue microcitizens face! After all, (text-style: &quot;smear&quot;)[**they**] aren&#39;t the ones who decide who is and isn&#39;t a tenderling! But this has been very interesting conversation all the same!&quot;] Linivia declares.

$npcV1[&quot;Riveting,&quot;] Laire adds dryly. With that, the two straighten up, preparing for the conclusion of your journey.


(if: $linivia &lt; 4)[[[&gt; Get ready to disembark.-&gt;vorn conclusion]]](else:)[[[&gt; Get ready to disembark.-&gt;mylla]]]
</tw-passagedata><tw-passagedata pid="291" name="vorn13No" tags="final" position="3589,4800" size="100,100">$roomname[The Carriage - The Duo]
(set: $linivia to it + 1)
You decide that tenderlings shouldn&#39;t be inevitably condemned to being eaten. Laire scoffs openly and fixes what little attention wasn&#39;t already there upon the window. Linivia, meanwhile, smiles ever so faintly.

$npcV2[&quot;An interesting conclusion,&quot;] she tells you. $npcV2[&quot;They&#39;re (text-style: &quot;smear&quot;)[**meant**] to be eaten, or so says the general populace! But you think differently. Is it because you agree with my idea about potential?&quot;] Linivia asks. She glances at Laire, who pointedly ignores her. $npcV2[&quot;You could say a tenderling has almost no potential to do anything but get eaten!&quot;]

$npcV1[&quot;Finally, a sensible statement,&quot;] Laire mutters.

$npcV2[&quot;They can&#39;t win GodGrinder, or pass a House trial and become a savant.&quot;] She pauses as if for dramatic effect. You notice Laire tense up, as though becoming aware of an impending irritant. Linivia smiles slyly. $npcV2[&quot;But doesn&#39;t that actually mean they have the (text-style: &quot;smear&quot;)[**most**] potential? Imagine the shock if a tenderling (text-style: &quot;smear&quot;)[**did**] do one of those things! Imagine the (text-style: &quot;smear&quot;)[**chaos!**]&quot;]

As the carriage trundles and bounces across the arching of a bridge, Linivia takes a moment to glance out the window to check where you are. You can see that the cityscape has become a ruddy, bloody red in hue over the course of your journey. You&#39;re surely nearly there.

$npcV2[&quot;This city thrives on chaos. People say that tenderlings are for eating, but that just makes the potential for upending everything that much more thrilling! They&#39;re sentient, want to live, (text-style: &quot;smear&quot;)[**and have potential!**]&quot;] Linivia says emphatically. $npcV2[&quot;In this city, the stronger the expectation, the more exciting the defiance, don&#39;t you think?&quot;]

Linivia lifts her chin delightedly, causing a lock of her mane to fall out of place. She casually brushes it back where it belongs. Suddenly, Crusty calls out that you&#39;re arriving at your destination and you feel the carriage begin to slow. Linivia looks around, then gives you a smile. You watch as Laire breathes out a very relieved sigh.

$npcV2[&quot;And that&#39;s simply one issue microcitizens face! After all, (text-style: &quot;smear&quot;)[**they**] aren&#39;t the ones who decide who is and isn&#39;t a tenderling! But this has been very interesting conversation all the same!&quot;] Linivia declares.

$npcV1[&quot;Riveting,&quot;] Laire adds dryly. With that, the two straighten up, preparing for the conclusion of your journey.


(if: $linivia &lt; 4)[[[&gt; Get ready to disembark.-&gt;vorn conclusion]]](else:)[[[&gt; Get ready to disembark.-&gt;mylla]]]</tw-passagedata><tw-passagedata pid="292" name="vorn conclusion" tags="final" position="3577,4994" size="100,100">$roomname[The Vorn District]

The carriage rolls shakily to a jumbled halt. Linivia and Laire rise and straighten their dress, preparing to leave. (if: $laire &gt; 3)[As the duo make to leave, Laire sniffs the air once. Linivia&#39;s arm opens the carriage door before Laire speaks up.

$npcV1[&quot;A moment,&quot;] she says, head turning to you. $npcV1[&quot;Keep that good sense about you and you might survive in the city,&quot;] she tells you, as an offering of advice.

With that the singular duo hop down from the carriage to disembark, straighten themselves up, and take on a properly confident pose as they stride off into the district.]

You disembark and step out into the streets yourself, looking around. All about you is (color: red)[red] - if not in sight then in (text-style: &quot;outline&quot;, &quot;expand&quot;)[(color: red)[sensation]] itself. To simply stand in the depths of this district is to *feel.* One can partake of pain or pleasure in any measure but it&#39;s in the feeling, the sensation, the *experiencing something* that is the meaning of it - the meaning of *Vorn*. To be viscerally, deeply *alive*.

Some citizens tend to brush off some of Vorn&#39;s more active members as mere mindless hedonists, but there is some deeper meaning to their indulgences. Without even realizing it, you take in a deep breath and hold it. The thought of breathing, of living, runs through your mind of its own accord. For a moment, it feels as though you&#39;re discovering the simple joy of breathing for the first time - the very feeling of giving yourself life time and again since your first was drawn. The need to breathe again returns and you exhale... but then, with another breath comes that soft satisfaction. Gentle elation. And it&#39;s there - it&#39;s always there, even if forgotten, ignored.

Is *that* Vorn, perhaps? Not just mindless sodomy and rampant evisceration, but a deep appreciation for the very experience of sensation itself? An endless quest to delve into the farthest reaches of what *can* be felt in the context of flesh? It&#39;s a joy of living of a different kind to that of House Viviria: rather than focus on generating or spreading life, it&#39;s a focus on *celebrating* it. On *experiencing* it. Every moment, every breath, every lash of the whip and stroke against tender flesh.

Your reverie is interrupted by a sudden jostling as a citizen in a red-hued and heavily hooded robe bumps into you, causing you to turn about. They mutter a half-apology in a soft, feminine tone, the slightest hint of a strangely long, pointed, purple snout jutting from the hood of their robe. Before you can accost them they are already shuffling off, long gone, leaving you turned about to find yourself staring at the (text-style: &quot;smear&quot;)[(color: red)[**the Citadel**]]. 

Helplessly, as if compelled by a force greater than you can name, your thoughts plunge back to your simple brush against that stranger.

The caress of their robe&#39;s fabric against you, the soft texture of its weave, the subtle warmth of their body felt through it, the brief jolt of shock, of panic, of uncertainty... and then of knowing. All of it comes with a myriad of sensory perceptions, sensations that roll through your psyche and threaten to overwhelm your mind. So many of them are taken for granted, but... what if you truly were to stop and take each one at face value? What if you were to *feel* each one in its fullness and appreciate it?

How many songs could an inspired heart write about the soft, simple touch of a lover, after all? How vividly can you remember the weave of a comfortable, safe bed? Are there not entire universes of experience within every sensation in and of itself?

Perhaps there is more to Vorn than meets the eye.

Standing there, you finally hear Crusty&#39;s carriage begin to wheel off again, already having collected new passengers. The sound of the miggwitch&#39;s braying *HRONK* and the wheels clattering on the street is enough to stir you back to life. You have places to be, after all.

*You have arrived in the Vorn district - brimming with an anxious feeling of sensory excitement and the very exuberance of being, all its pleasures and horrors combined. Having completed your journey here all that remains is the question - now, where?*

&lt;img src=&quot;http://nodd-arca.net/carriage/carriage_vorn.jpg&quot; style=&quot;display: block; margin-left: auto; margin-right: auto; width: 100%;&quot;&gt;
&lt;br&gt;
&lt;br&gt;
&lt;center&gt;&lt;h3&gt;(text-style: &quot;smear&quot;)[END]&lt;/h3&gt;

&lt;font size=&quot;5em&quot;&gt;{(link:&quot;&gt; Commence another journey &lt;&quot;)[(reload:)]}&lt;/font&gt;&lt;/center&gt;</tw-passagedata><tw-passagedata pid="293" name="nocter5avag" tags="final" position="5938,4775" size="100,100">$roomname[The Carriage - The Nocters]

The three swiftly get down to business, the first order of which is divvying up your available orifices and parts for their enjoyment - or amusement. The chattier of the three is first to speak, gesturing at the others wildly all while still mashed up against your chest and face quite intrusively. 

$npcN[&quot;You get the mouth, dumbfuck, you&#39;d fuck up the holes before we could even get any traction in &#39;em!!&quot;] it all but screams with a crazed mixture of glee and accusatory snark. Its claws dig into your face and yank, pulling you near as it presses its smoky eyes very close to your own. The dopey one seems pretty unfazed, sitting there with its legs splayed on either side of its disproportionately plump shaft, its ability to wield such a thing questionable at best. 

The dopey one offers little argument as the chatty &quot;leader&quot; tilts its head backwards much farther than it should be able to, until it&#39;s looking down behind its back. Its twin-tipped tail lashes as it surveys the lower parts of your body, in particular the space between your legs.

$npcN[&quot;OOoOOHHHHhhhHhhh-this&#39;n&#39;s&#39;got&#39;a&#39;cunt!!&quot;] the chatty one all but screams in a single, slurred breath of excitement. The nocter attempts to push off your body in an awkward sort of backwards flip, which ends up smearing and slapping its junk across your face as it tumbles awkwardly onto the carriage floor before righting itself. You&#39;re left to wipe its purplish slime from your features as it clambers up onto the seat between your legs. It shoves you backwards, then *hefts* your legs up with surprising force for such a little body in order to properly expose your pussy.

The nocter slides its claws down to grope and rub at your lips, cramming several digits in, smearing purplish fluids about, and generally invading your folds quite boldly as its twitching dick throbs ready and eager to penetrate. The dopey-looking nocter climbs up onto the seat with you properly, sitting down behind the chatty one and nudging its fat cock against the chatty one&#39;s back. The manic one cackles at the sight, still squeezing at your (if: $breasts is true)[breasts](else:)[thighs].

Before the chatty nocter begins to violate you it reaches back to grab at the dumb-looking one&#39;s shaft, smearing your own fluids against it. It angles it until the dopey nocter&#39;s dick all but *WHUDS* wetly against your belly and chest, spanning both with relative ease, the immense thing twitching and drooling over your chest. 

Then the chatty one grabs at the back of your head and pulls down, rather rudely cramming your face down right against the laughable hint of taper at the end of the dopey one&#39;s fat girth. Your lips kiss against its purplish crown, and it immediately *flexes* to spray a slimy stream of tinted fluids that audibly *SSHPHHTT*s over your lips for a few straight ticks. Another insistent tug from the first goads your mouth down over it, though only the upper portions are possible to gape your jaws open around and gag on.

The last, manic nocter looks a bit pathetic, pouting visibly as it realizes that it gets last pick of your body. The chatty one rolls not only its eyes but its entire head.
$npcN[&quot;OoOOhh you IDIOT, there&#39;s TWO HOLES down here!&quot;] it screeches, backhanding the manic nocter. The pouting creature suddenly grins brightly as the chatty one *rams* your face down on the dopey nocter&#39;s mouth-filling cock, preventing you from so much as making a noise while the other two start to position themselves around the dopey creature.


[[&gt; ...!-&gt;nocter5avag2]]</tw-passagedata><tw-passagedata pid="294" name="nocter5acock" tags="final" position="6058,4778" size="100,100">$roomname[The Carriage - The Nocters]

The three swiftly get down to business, the first order of which is divvying up your available orifices and parts for their enjoyment - or amusement. The chattier of the three is first to speak, gesturing at the others wildly all while still mashed up against your chest and face quite intrusively. 

$npcN[&quot;You get the mouth, dumbfuck, you&#39;d fuck up the holes before we could even get any traction in &#39;em!!&quot;] it all but screams with a crazed mixture of glee and accusatory snark. Its claws dig into your face and yank, pulling you near as it presses its smoky eyes very close to your own. The dopey one seems pretty unfazed, sitting there with its legs splayed on either side of its disproportionately plump shaft, its ability to wield such a thing questionable at best. 

The dopey one offers little argument as the manic nocter&#39;s arms flail with needless energy in almost every direction as it replies to the first, $npcN[&quot;I waAAAnnnt its AAASssssSSSss!&quot;] 

The &quot;leader&quot; of the three crawls down your front until it&#39;s standing on the seat between your legs with hands on hips, appraisingly.

$npcN[&quot;WHELP! Guess I get whatever&#39;s here,&quot;] it states in a matter of fact fashion, eyeing your loins. It doesn&#39;t seem at all concerned by the presence of your erection - in fact, quite the opposite. The nocter casually lowers down onto its knees and grabs at your dick with both hands, easily angling your shaft to jut right at its own loins - with its tapered tip aimed perfectly right at your urethra. Its purple-tinted fluids splatter over your tip in slimy streaks, leaving you feeling warm and suddenly keenly aware of what&#39;s about to happen. $npcN[&quot;Hole&#39;s a hole, let&#39;s do this thing,&quot;] it declares encouragingly to the others. 

Before the chatty of the trio begins to fuck your dick as it would any other hole it reaches back to grab at the dumb-looking one&#39;s shaft, smearing your own fluids against it. It angles it until the dopey nocter&#39;s dick all but *WHUDS* wetly against your belly and chest, spanning both with relative ease, the immense thing twitching and drooling over your chest. 

It then reaches up to grab at the back of your head and pulls down, rather rudely cramming your face down right against the laughable hint of taper at the end of the dopey one&#39;s fat girth. It immediately flexes, tugging taut to spray a slimy stream of tinted fluids that audibly *SSHPHHTT*s over your lips for a few seconds. Another insistent tug from the first goads your mouth down over it, though only the upper portions are possible to gape your jaws open around and gag on.

The dopey one slumps back a bit, its hips rocking faintly, though perhaps unnecessary given the look of stupefied pleasure upon its features. The third nocter crowds around to your side, wriggling itself between you and the seat to mash its heated, tapered cock down and against your ass. The tip easily finds your more sensitive areas, forcing you to basically ride it while the other two prepare to have their way as well.

A few grunts and pants can be heard from the driver&#39;s seat, adding to the ambiance in a rather unflattering way - for you, at least.


[[&gt; ...!-&gt;nocter5acock2]]</tw-passagedata><tw-passagedata pid="295" name="nocter5aneither" tags="final" position="6182,4788" size="100,100">$roomname[The Carriage - The Nocters]

The three swiftly get down to business, the first order of which is divvying up your available orifices and parts for their enjoyment - or amusement. The chattier of the three is first to speak, gesturing at the others wildly all while still mashed up against your chest and face quite intrusively. 

$npcN[&quot;You get the mouth, dumbfuck, you&#39;d fuck up the holes before we could even get any traction in &#39;em!!&quot;] it all but screams with a crazed mixture of glee and accusatory snark. Its claws dig into your face and yank, pulling you near as it presses its smoky eyes very close to your own. The dopey one seems pretty unfazed, sitting there with its legs splayed on either side of its disproportionately plump shaft, its ability to wield such a thing questionable at best. 

The dopey one offers little argument as the manic nocter&#39;s arms flail with needless energy in almost every direction as it replies to the first, $npcN[&quot;But! But but butbutbutbutbutbutbut! This one... doesn&#39;t... HAAAVE... much of anything *DOWN THERE*!&quot;] 

Its gesturing slowly becomes just coherent enough to indicate in the direction of your loins, though it&#39;s hard to say. The chatty one turns its head about while still clutched to your front, brow furrowing. 

$npcN[&quot;We&#39;ll make do!&quot;] it declares boldly. The &quot;leader&quot; of the three climbs down from your face, dragging its junk all along your body as it does so. Slimy, purplish prejizz spurt-splatters all across you in zig-zags as the nocter scrabbles down. 

It reaches back to grab at the dumb-looking one&#39;s shaft, smearing your own fluids against it. It angles it until the dopey nocter&#39;s dick all but *WHUDS* wetly against your belly and chest, spanning both with relative ease, the immense thing twitching and drooling over your chest. 

It then reaches up to grab at the back of your head and pulls down, rather rudely cramming your face down right against the laughable hint of taper at the end of the dopey one&#39;s fat girth. It immediately flexes, tugging taut to spray a slimy stream of tinted fluids that audibly *SSHPHHTT*s over your lips for a few seconds. Another insistent tug from the first goads your mouth down over it, though only the upper portions are possible to gape your jaws open around and gag on.

This leaves the other two to crowd in around you at either side, their hands pushing and shoving and forcing your body up and forwards off the seat. Their strength is surprisingly potent and more than enough to get your ass up off the cushion - immediately after which you feel two tapered tips probing about the backs of your thighs and rump. Heated throbs and twitches paint the area liberally in slimy, purple strands of subtly glowing fluids within ticks.

A few grunts and pants sound out the driver&#39;s seat, adding to the ambiance in a rather unflattering way - for you, at least. The dopey one slumps back a bit, its hips rocking faintly, though perhaps unnecessary given the look of stupefied pleasure upon its features.


[[&gt; ...!-&gt;nocter5aneither2]]</tw-passagedata><tw-passagedata pid="296" name="nocter5avag2" tags="final" position="5920,4917" size="100,100">$roomname[The Carriage - The Nocters]

The chatty &#39;leader&#39; of the trio lifts one of its legs as the manic one slides in almost sideways, lining its fat and rigid cock with your exposed pucker. The chatty one shuffles forwards around the other two, thoroughly crowding the space between your legs as it aims its jutting dick right against your slick folds and almost *deliberately* paints them in fresh, sloppy spurts of prejizz. 

With one nocter hand pressed against the back of your head, you can&#39;t pull away from the dopey one&#39;s cock even as it starts spurting and unloading thick, chemical splurts of precum across your tastebuds. In fact, there&#39;s not a thing you can do now that it&#39;s advanced this far - you find yourself being held down and in position by the three nocters, who seem to leave no room for any more silly resistance.

The two nocters teasing your ass and cunt line themselves up with surprisingly careful slowness, squashing the heat of their tapered cocks against your twin holes. Your legs are held wide apart as the chatty one nudges its dick lower to just the right angle...

...to abruptly slam up deep into you all at once, as the manic one *rams* its fat spire straight into your ass. The pair&#39;s respectable lengths mean you get an immediate jab at uncomfortable depths, which goads only more clenching and squeezing for them to enjoy as they both hose down your insides with pulses of excessive precum. You can feel the twin rods pulsing on either side of the thin internal walls separating your cunt from your ass, making you feel utterly *squeezed*.

The dopey nocter remains as active, and intelligent looking, as before. One of its paws reaches up to scratch at its snout idly, despite the obscene throbbing of its immense cock choking your jaws. The jostling from the pair working your ass and cunt alone is enough to work your mouth back and forth, but the chatty one&#39;s hand keeps *shoving* your face down onto its dense cock for good measure anyway. 

Precum floods into your jaws with remarkable volume, so much so that it quite effectively prevents you from protesting, crying out, or doing much of anything other than swallow, gag, sputter, and cough in an attempt to keep up - acts at which you intermittently fail as its fluids piss forth for ticks at a time again and again. As they grow only more voluminous and forceful in output, you even feel them overloading your throat and spurting back out from your nostrils to drool down your face, thoroughly saturating your sense of smell with *nocter* slime.


[[&gt; Clench, gag, and squirm.-&gt;nocter5avag3]]</tw-passagedata><tw-passagedata pid="297" name="nocter5acock2" tags="final" position="6050,4913" size="100,100">$roomname[The Carriage - The Nocters]

The dopey nocter&#39;s dick does a rather good job both gagging and distracting you. Your jaws ache from just sucking over several inches of its immense width, and the volume and pace with which the creature&#39;s precum pours into your jaws essentially forces you to focus upon swallowing and gasping for air as best you can between gulps in order to avoid drowning.

This leaves the chatty &#39;leader&#39; of the three quite free to grind its tapered tip against your urethra as the creature&#39;s precum pisses forth and *into* your cock. The pressure immediately bloats your cumtube and backs up your own fluids in a deeply uncomfortable fashion. But it&#39;s hardly anything compared to the abrupt, self-indulgent **thrust** of the nocter&#39;s hips as your cock bulges around the harsh intrusion of its cock!

A distinct, nocter-dick-shaped stretch bloats along an increasing portion of your shaft, the flesh of your dick bursting with an overwhelming *ache* around the nocter&#39;s own. You try to gasp but merely manage to inhale thick gouts of nocter precum, which just seems to delight the trio. 

The chatty one hunches forwards and down a bit, hugging its arms around your cock as if mounting it like a separate sex toy altogether. Its hips draw back and then (text-style: &quot;sway&quot;)[*slam*] forwards again, making your world explode into white spots. The creature groans and grunts in delight as it continues to inject slimy streams of precum deeper and deeper into your tender prick, the tapered tip of its cock spearing further down your urethral tubing.

You feel a growing sensation of discomfort and fullness alike that pumps *backwards* (if: $balls is true)[and down towards your balls ]as the nocter&#39;s precum overfills your internal plumbing. The creature&#39;s thrusting only becomes more rapid and harsh, slamming deeper and gaping your cumslit wider and wider around the ever-thickening taper of its dick. You can barely *think* through the immense stretch in your dick. At the same time the nocter behind you busily squashes its tapered tip up and against your ass where it smoothly, *forcefully* buries itself. With your shaft thrumming in overwhelmed sensation, it feels almost *easy* in comparison. 

Luckily for the nocter behind you the ruining of your cock makes your body clench and squirm out of pure reflex, which provides it with ample amounts of squeezing and clenching over its cock. You feel it *pour* prejizz up and into your guts in spurts and splurts. The nocter simply clutches to your ass, hardly thrusting at all, and just enjoying the clench and spasm of your guts in reaction to the leader pounding away at your dick - with an increasingly rapid and urgent pace.

The entire time you&#39;re trying to simply *breathe* around the jaw-straining fatness of the dopey nocter&#39;s cock throbbing within your mouth, the flow seeming to become heavier and more forceful as moments pass. Even without you making any real active attempt to suck off the nocter, just the presence of *anything* snug and warm around its dick seems evidently sufficient.


[[&gt; Squirm, gag, and clench.-&gt;nocter5acock3]]</tw-passagedata><tw-passagedata pid="298" name="nocter5aneither2" tags="final" position="6183,4916" size="100,100">$roomname[The Carriage - The Nocters]

The two nocters crowded in against your ass, all but pinned between your body and the seat, both reach down to grab at their own erections. You feel them mashing the throbbing pair of tapered cocks together in a frantic quest to find your sweet spot for penetration. They hump and hunch out of time even as they shove their dicks around in their quest until, suddenly and slimily, you feel the two tips *jab* against your pucker. You hear only a momentary hiss of sly satisfaction before one *slams* forwards quite abruptly.

The taper of its length lets it smoothly shove up into your body without too much chance to resist, though the reactive clenching and squeezing makes the creature squeal in delight and pull back... at which point the other thrusts forwards just as eagerly as the first. It spears in alongside the first and easily reaches just as deep, if not a few inches moreso as your pucker *burns* with the sudden and unrelenting *stretch*. They swiftly take up an alternating sort of rhythm, the air within the carriage quickly filling with not just the manic, pleasured grunts and pants of the horny creatures but also with the wet (text-style: &quot;smear&quot;)[*schlurk-schlick-schlurp*] of two shafts ramming in and out of your ass at a swift, sloppy pace.

The dopey nocter remains as active, and intelligent looking, as before. One of its paws reaches up to scratch at its snout idly, despite the obscene throbbing of its immense cock choking your jaws. The jostling from the pair working your ass alone is enough to work your mouth back and forth on the dopey nocter&#39;s cock. 

Precum floods into your jaws with remarkable volume, so much so that it quite effectively prevents you from protesting, crying out, or doing much of anything other than swallow, gag, sputter, and cough in an attempt to keep up - acts at which you intermittently fail as its fluids piss forth for ticks at a time again and again. As they grow only more voluminous and forceful in output, you even feel them overloading your throat and spurting back out from your nostrils to drool down your face, thoroughly saturating your sense of smell with *nocter* slime.


[[&gt; ..!!-&gt;nocter5aneither3]]</tw-passagedata><tw-passagedata pid="299" name="nocter5aneither3" tags="final" position="6183,5053" size="100,100">$roomname[The Carriage - The Nocters]

The two at your backside absolutely go to town, the sounds within the carriage becoming even louder and more sloppy and slick. The acrid scent of *sex* floods your awareness as the carriage jostles and bounces, and your whole world melts into *nocter cock*. It&#39;s all you can even think about - doubly so with all the grunting, groaning, and moaning of delight from the creatures. It&#39;s enough to draw the gaze of some of the citizens outside the carriage, and you catch a glimpse of more than a few curious expressions peering in through the carriage&#39;s window as they pass by. 

The thrusting in your ass is comically off-rhythm between the two, resulting in a remarkably wide array of sensations. Sometimes you feel one of the two spearing deep only to retreat and be immediately replaced by the others and sometimes both slam in with almost perfect unison, abruptly stretching your insides much more deeply within. Sometimes both pull back at about the same time, leaving you feeling suddenly empty, but one or the other is swift to remedy that soon after.

All the while the dumb looking nocter continues in its ongoing attempt to drown you in its obscene flow of prejizz - though as moments pass the flow begins to lessen quite noticeably. The nocter&#39;s immense nuts visibly tighten against its loins with each subsequent pump of its wide shaft, which feels even *fatter* between your already well-stretched jaws! The already dopey-look upon the creature&#39;s face gets a bit dumber still as its mouth drops open and its smoky eyes roll back slightly.

And that&#39;s all the warning you get. In an instant the creature&#39;s immensely fat dick jerks within your jaws and injects a sudden burst of thick, creamy-hot fluids straight into your throat with shocking volume and force alike. All the prejizz that was already gurgling about at the back of your throat is forced out of the way - some of it down your gullet and some of it from the corners of your mouth, fluids exploding in a sloppy splatter from either side. Mercifully, it lasts only a couple of ticks. For a few long ticks more nothing happens until, just as abruptly, the dopey nocter tenses up again and fires off *another* immense cumshot into your jaws, its body taking those full several ticks just to *prepare* another shot of its orgasm, evidently.

As you gulp and choke on the second cumshut and try to prepare your scattered thoughts for the inevitable third, the two double-penetrating your hole make sure to do their damnedest to keep you from managing even a single lucid thought. When the third torrential (text-style: &quot;smear&quot;)[*shplrtch!*] gushes between your jaws, you still can&#39;t manage to contain it all, adding to the drooling, purple-strands oozing from either side of your jaws and pouring from your nostrils. Your throat bulges visibly with any attempt to gulp and guzzle, though hardly any effort is necessary on your part given the powerful nature of its orgasm. You feel like you&#39;re being essentially forcefed its load.

The other two watch from either side of you in delight at the bit of a show being put on, still pounding away the entire time themselves. Though much less impressive in size and volume than the dopey one there&#39;s still a very distinct sensation of throbbing and twitching deep in your guts as one of them begins to orgasm, and then soon after the other. They don&#39;t stop fucking, however, creating an absolute cacophony and mess alike, cum drooling and sputtering out around and between their throbbing, spurting erections. And with each and every one of their unsynchronized *throbs* and *spurts*, you feel absolute *gushes* of sloppy cum pumping deep into your guts, bloating you with slippery warmth.


[[&gt; Gulp and guzzle as you&#39;re filled at both ends.-&gt;nocter5a]] 	</tw-passagedata><tw-passagedata pid="300" name="nocter5acock3" tags="final" position="6052,5053" size="100,100">$roomname[The Carriage - The Nocters]

The nocter pounding your dick is almost a blur at this point, its hips pumping sharply back and forth as your cock is loosened and stretched by the creature&#39;s shaft. Every time it pulls back, you feel like your dick is being almost *inverted* by the slimy, sloppy withdraw - and every time it *thrusts* you think you white out for an instant as an incredible sense of *fullness* backs up your system. Some of its purple fluids drool back out around its girth but most of it is pumped achingly deep into your dick(if: $balls is false)[.](else:)[ as your nuts start to fatten and swell. You can *feel* them bloating as they&#39;re repurposed as storage for nocter fluids, your internals aching from the intrusive, repeated injections.]

The one at your ass simply continues to cling to your hips, hilted and grinding, hissing with dumb pleasure - though still less dumb than its dopey companion. Sandwiched between the two, you&#39;re helpless to fight the fluids spurting and sputtering deep into your guts.

You&#39;re so distracted by the sensation of your cock being fucked that you barely realize something is about to happen until the dopey one lets out a sudden, mumbled, $npcN[&quot;Ohh, fuck,&quot;] in what seems like it *should* have been an exclamation. 

In an instant the creature&#39;s immensely fat dick jerks within your jaws and injects a sudden burst of thick, creamy-hot fluids straight into your throat with shocking volume and force alike. All the prejizz that was already gurgling about at the back of your throat is forced out of the way - some of it down your gullet and some of it from the corners of your mouth, fluids exploding in a sloppy splatter from either side. Mercifully, it lasts only a couple of ticks. For a few long ticks more nothing happens until, just as abruptly, the dopey nocter tenses up again and fires off *another* immense cumshot into your jaws, its body taking those full several ticks just to *prepare* another shot of its orgasm, evidently.

As you gulp and choke on the second cumshut and try to prepare your scattered thoughts for the inevitable third, the two abusing your ass and cumtube make sure to do their damnedest to keep you from managing even a single lucid thought. When the third torrential (text-style: &quot;smear&quot;)[*shplrtch!*] gushes between your jaws, you still can&#39;t manage to contain it all, adding to the drooling, purple-strands oozing from either side of your jaws and now even pouring from your nostrils. Your throat bulges visibly with any attempt to gulp and guzzle, though hardly any effort is necessary on your part given the powerful nature of its orgasm. You feel like you&#39;re being essentially forcefed its load.

This helps distract you from a moment from the hammering going on between your legs, the nocter&#39;s arms wrapped full around your dick now, mounting it like a large sleeve for its dick to the point you can feel the creature&#39;s plump nuts swing forwards to smack up against the underside of your dick with every couple thrusts. As you&#39;re busily gagging down mouthfuls of the dopey one&#39;s spunk the leader slams forwards, quivering as it grinds its dick against your cock&#39;s strained tip, and then shudders as you feel a searing hot ache of fluids being injected at greater volume and force than before.

(if: $balls)[In an instant your nuts bloat fatter with an aching discomfort, sagging lower as you can *feel* the distinct (text-style: &quot;smear&quot;)[*glurp, glorp, shplurt*] of the repeated pulses of the nocter&#39;s cum. Your balls grow fatter and fatter, more round and sagging like a pair of water balloons overfilled with the heated, tacky jizz of the creature clutching to your cock in the throes of orgasm.](else:)[The internals of your plumbing ache fiercely as the nocter&#39;s jizz demands any and all space available. Given your lack of dangling storage for such fluids it backflows into increasingly uncomfortable portions of your internal anatomy, straining ducts and tubes within your body in uncomfortable, profound fashions. You even feel a distinct sensation of urgency as your bladder itself starts to fill with increasingly noticeable volumes of thick, slimy nocter sperm.]

It&#39;s about then that you feel the one buried balls-deep in your ass begin to orgasm as well, adding its thick, syrupy streams of cum deep into your bowels. The sensation of bloating overwhelms you as it feels like every space inside you *fills* with nocter cum to a near-painful degree. Your cock throbs, aching for orgasm, but far too overworked to manage. The trio cling to you in bliss, enjoying the still-ongoing spasming and clenching of your insides as the leader completes the repurposing of your dick as nothing more than a place for it to dump its cum.


[[&gt; Squirm as you&#39;re filled by the trio in three separate ways.-&gt;nocter5a]]</tw-passagedata><tw-passagedata pid="301" name="nocter5avag3" tags="final" position="5920,5054" size="100,100">$roomname[The Carriage - The Nocters]

The chatty nocter of the trio pounds away swiftly, stroking itself off in the snug, tight clench of your body. Its sharp thrusts are as eager as a nurk and as feverish as a krudge, no care given to your pleasure other than what comes incidentally. Meanwhile, the manic one putting a *gape* in your ass pistons its hips without holding back or trying to drag things out any longer than necessary to get itself off... and make sure you remember this encounter.

All the while the dumb looking nocter continues in its ongoing attempt to drown you in its obscene flow of prejizz - though as moments pass the flow begins to lessen quite noticeably. The nocter&#39;s immense nuts visibly tighten against its loins with each subsequent pump of its wide shaft, which feels even *fatter* between your already well-stretched jaws! The already dopey-look upon the creature&#39;s face gets a bit dumber still as its mouth drops open and its smoky eyes roll back slightly.

And that&#39;s all the warning you get. In an instant the creature&#39;s immensely fat dick jerks within your jaws and injects a sudden burst of thick, creamy-hot fluids straight into your throat with shocking volume and force alike. All the prejizz that was already gurgling about at the back of your throat is forced out of the way - some of it down your gullet and some of it from the corners of your mouth, fluids exploding in a sloppy splatter from either side. Mercifully, it lasts only a couple of ticks. For a few long ticks more nothing happens until, just as abruptly, the dopey nocter tenses up again and fires off *another* immense cumshot into your jaws, its body taking those full several ticks just to *prepare* another shot of its orgasm, evidently.

As you gulp and choke on the second cumshut and try to prepare your scattered thoughts for the inevitable third, the two double-penetrating your holes make sure to do their damnedest to keep you from managing even a single lucid thought. When the third torrential (text-style: &quot;smear&quot;)[*shplrtch!*] gushes between your jaws, you still can&#39;t manage to contain it all, adding to the drooling, purple-strands oozing from either side of your jaws and pouring from your nostrils. Your throat bulges visibly with any attempt to gulp and guzzle, though hardly any effort is necessary on your part given the powerful nature of its orgasm. You feel like you&#39;re being essentially forcefed its load.

Unfortunately for you the dopey nocter&#39;s orgasm is hardly the last of your worries as the one pounding at your cunt picks up the pace even more, grabbing at your hips excitedly as its pleasure builds. 

$npcN[&quot;Come oooNNNNnnn make this biIIIitch ccCCCUMMMmm alreeeeadyyyy!!&quot;] the manic one screeches at the chatty one, pistoning its hips sloppily against your ass as your stretched, ruined hole trembles in mixed pain and pleasure. But before you feel the inevitable flood of nocter jizz pumping into your cunt you feel the chatty one grab your head and PULL, wrenching your face off of the dopey one&#39;s dick. 

The next cumshot sprays against the *ceiling* of the carriage, then soaks your face entirely. Your world becomes drenched in purple, salty *spunk* as the chatty nocter cackles, moans, cackles again, then *slams* its hips hard against you. You feel stretched and bloated like some kind of condom as both those cocks fit completely and fully inside you, overwriting your entire *world* with pure, throbbing nocter cock. 

It&#39;s too much for you. As fresh, slimy coatings of hot nocter sperm pump over your face, excessively glazing your features with thick strands that ooze off your jaws, your brutalized body loses control. Your passage seizes and spasms and you *cum* around the nocters, practically seeing *spots*. Your ass weakly clenches down as your cunt quivers and gushes, and you hear the manic one shriek in delight as it gropes at you.

$npcN[&quot;THAAaaaAT&#39;S more fucking llllLLLIIIIKE it!!&quot;] it shouts. It humps, then humps, then *humps* into your ass as the chatty one moans and jerkily grinds against your cunt until you suddenly feel the two of them *tense*. You feel several sharp, deep thrusts as an abrupt preamble before heated, gooey jets of cum start *splurting* deep into your cunt and ass over and over and *over*. Each pump is preceded by a clench of the two nocters&#39; paws at your sides and a grinding hunch of their hips, despite already being *very* much hilted inside you.

When you gulp away enough of the dopey nocter&#39;s fluids to start to howl and moan, the chatty one simply grabs your head and *threads* it back onto the dopey one&#39;s fat, still-orgasming cock as it delivers another throat-filling surge of cockslobber.


[[&gt; Guzzle and gulp as you&#39;re glazed and filled.-&gt;nocter5a]]</tw-passagedata><tw-passagedata pid="302" name="psiAlt15" tags="final" position="5446,4987" size="100,100">$roomname[The Carriage - A Misplaced Journal]

The journal of the stranger continues.

&lt;center&gt;(text-colour:#4bf39f)[(text-style:&quot;smear&quot;,&quot;buoy&quot;,&quot;italic&quot;)[Grimlight, sleep 4.

I should stop keeping this stupid journal. I did, for nearly two whole phases. Why did I resume? I read back over it and all I can think of is seeing *him* and how it derailed my entire life. How I met someone I thought could be special and how they disappeared, just as quickly. How I threw away everything I had. How I saw *its* name and can&#39;t get it out of my head. I wake up and wonder what&#39;s going on, why I&#39;m even still here. I sleep in the streets and barely have enough gloam to feed myself - the only gloam I&#39;m even making is likely from the madness itself. 

I have no answers.]]&lt;/center&gt;

There seems to be one final page that has been scrawled upon.

[[&gt; Previous page.-&gt;psiAlt14]]
[[&gt; Read the final page.-&gt;psiAlt16]]{

&lt;audio autoplay&gt;
  &lt;source src=&quot;https://static.wixstatic.com/mp3/ebefb2_fc88891a4c2b4d4484a55dbdbf78e5e0.wav&quot;&gt;
&lt;/audio&gt;}</tw-passagedata><tw-passagedata pid="303" name="psiAlt16" tags="final" position="5447,5126" size="100,100">$roomname[The Carriage - A Misplaced Journal]

The journal of the stranger continues.

&lt;center&gt;(text-colour:#4bf39f)[(text-style:&quot;smear&quot;,&quot;buoy&quot;,&quot;italic&quot;)[Grimlight, sleep 5.

&quot;Outsiders&quot; they are called. &quot;Chosen Ones&quot;, say council members. They look weird, strange. Not too unlikely many of the city&#39;s chimerae, but somehow... different. Some say they&#39;re beautific, I say they&#39;re just more unfortunate souls joined into this despicable existence. I saw my first one today and I&#39;m not impressed.

The timing is too coincidental. I saw what I saw, then the Conduit, and now this. Something happened, something is going on. I feel like writing in this journal only puts me in further danger, but I can&#39;t bear to destroy it. It&#39;s all I have left of Li- ... her. I miss her. Maybe she&#39;ll find these pages, one day. 

Please find me, Lis.]]&lt;/center&gt;

The remaining pages are blank and barren of scrawlings.	

[[&gt; Close the journal.-&gt;psiAltEnd]]{

&lt;audio autoplay&gt;
  &lt;source src=&quot;https://static.wixstatic.com/mp3/ebefb2_fc88891a4c2b4d4484a55dbdbf78e5e0.wav&quot;&gt;
&lt;/audio&gt;}</tw-passagedata><tw-passagedata pid="304" name="startup" tags="startup" position="3880,112" size="100,100">{(set: $collectibles to (a:))}</tw-passagedata><tw-passagedata pid="305" name="mylla" tags="final" position="3380,4974" size="100,100">$roomname[The Carriage - The Duo]

As the duo make to leave ahead of you Linivia&#39;s head twists around to look your way.

$npcV2[&quot;Before I go,&quot;] she says. She hesitates, and Laire twists her head around to look at the lighter-haired head. Linivia holds her hand out to you, then gives you a very sad-looking smile.

With a brief few ticks of concentration upon her own open palm the microcitizen - Mylla - appears in it, summoned forth. Livinia draws in a deep breath, then holds her out to you.

$npcV1[&quot;Oh, you can&#39;t be serious. *Now*, Linivia?&quot;] Laire asks. Linivia clucks her tongue at the darker-haired head, then nods to you.

$npcV2[&quot;Laire is right about many things of the city. After talking with you... I think Mylla might be happier with someone who thinks about microcitizen matters like you. And more likely to survive than at a dinner party.&quot;]

$npcV1[&quot;Wait. You&#39;re getting rid of it?&quot;] Laire asks. Linivia lifts her chin proudly, then hands you the trembling micro-chimera.

$npcV2[&quot;You should be happy, Laire,&quot;] she says. Then she sniffs, lingering at the threshold of the carriage. She smiles down at the micro, waves at you, then the pair exits the carriage.

&lt;!-- MYLLA --&gt;(COLLECTIBLE GOES HERE)


[[&gt; Disembark-&gt;vorn conclusion]]</tw-passagedata><tw-passagedata pid="306" name="teacontainer" tags="final" position="6329,5631" size="100,100">$roomname[The Carriage - The Nocters]

When the nocters first appeared and began harassing the poor nurk it appears one of the insider&#39;s belongings spilled from his bag and, in his earlier haste to leap from the still-moving carriage, he must not have noticed.

It&#39;s a glass container with a lid sealed by an air-tight stopper. Across a sizable portion of the glass is a colorful purple-and-blue hued label that proudly proclaims the contents to be none other than &quot;Phumberlugg&#39;s Tea&quot;. Peering through the glass around the label you see it to be full of dried leaves of some sort with a hue quite similar to that on the branded label.

&lt;!-- PHUMBERLUGG&#39;S TEA --&gt;(COLLECTIBLE GOES HERE)


[[&gt; Drag your disheveled self from the carriage.-&gt;psiconclusion]]</tw-passagedata><tw-passagedata pid="307" name="minipounder" tags="final" position="7078,4888" size="100,100">$roomname[The Carriage - The Hero]

As you move to get out of the carriage the Pounder clears his throat and draws your attention. 

(if: $confidence &gt; 0)[$npcO[&quot;One moment, citizen! I have a little something for you, as thanks for the pleasant company,&quot;] he says.](else:)[$npcO[&quot;One moment, citizen. Please, accept this as a peace offering. Heroes are meant to help **everyone**, after all,&quot;] he says.]

The petrid focuses for a moment once more and holds out one of his large, smoothly textured hands. Atop it materializes a miniature figurine, dressed conspicuously in the same fashion as the Pounder himself!

As the figure finishes materializing it relaxes slightly in stance, such that you quickly realize it to be a petrid microcitizen rather than a faux figurine! The micro has but a split second of awareness before its eyes glaze over and it holds up a tiny version of the Pounder&#39;s trademark hammer, gesturing heroically. A few ticks later it lets out a bold, if high-pitched &quot;It&#39;s time to *Get Pounding!*&quot; before relaxing into a combat-ready stance. The Pounder himself looks at the figure, then up at you, then back down, and then backup at you - a bit expectantly. 

$npcO[&quot;I had these commissioned, and I do think they did quite a good job,&quot;] he says as he hands you the microcitizen-turned-action-figure.

As the micro is placed into your grasp it stirs to movement again, this time raising the hammer aloft in one hand as the other gestures forwards to an unseen, non-existent adversary. With the same high-pitched tone it cries out a just-audible &quot;Time to *Pound* you into the *Ground!*&quot;

The Pounder looks perhaps not entirely sure about that phrase as he shrugs at you and prepares to disembark, allowing you to do the same.

&lt;!-- POUNDER MINI --&gt; (COLLECTIBLE GOES HERE)


[[&gt; Get out of the carriage.-&gt;omnillian petrid conclusion]]</tw-passagedata><tw-passagedata pid="308" name="tearcharm" tags="final" position="2729,4276" size="100,100">$roomname[The Carriage - The Window]

The insider&#39;s closed palm opens and drops into your grasp a small charm. It&#39;s a simple thing, tear shaped and dark, smooth and cold to the touch. It seems to be made out of some kind&#39;ve chitinous material, or perhaps carved from it, instead?

$npcU[&quot;A tear charm,&quot;] she says simply. You squeeze it in your grasp instinctively and, for a brief moment, while the woes and terrors of Nodd feel no less imposing, you feel a bit less trepidation about some untimely misfortune resulting from those horrors. $npcU[&quot;It eases the fear of death, if just slightly. It will come, sooner or later, and until you can learn to not fear it of your own power... this will help.&quot;]

Then finally the carriage shudders to a stop, leaving the citadel and its unspeakable rituals to their own somber devices.

&lt;!-- COLLECTIBLE TEAR --&gt; (COLLECTIBLE GOES HERE)

You have arrived.


[[&gt; Exit the carriage.-&gt;umbrasia conclusion]]</tw-passagedata><tw-passagedata pid="309" name="viviria conclusion2" tags="final" position="1323,4863" size="100,100">$roomname[The Viviria District]

(if: $chimerastate is 2)[You nod your head at the chimera groggily, feeling the squirming in your belly grow and undulate occasionally. Whatever was between their legs seems to show no sign of vanishing from your body. The amphibious insider seems unconcerned by this, though, and smiles almost slyly at you as one clammy hand idly caresses their own slit. (if: $amorid is true)[

Meanwhile, the shifting, slippery slugs wriggling around inside your (if: $cock is true)[testes](else:)[depths] are slowly but surely having a noticeable effect on you, nudging your thoughts towards need and lust that shows no sign of abating. You&#39;re increasingly sure that within a few bells you&#39;ll be unable to keep from touching yourself unless you get some kind of intervention.](if: $spineclutch is true)[

And all the while, you can feel the strangely (link: &quot;alien&quot;)[~~alien~~ (text-style: &quot;smear&quot;)[familiar]] sensation of (text-style: &quot;smear&quot;)[different] thoughts creeping into your head. You can see the chimera eyeing you thoughtfully, as if contemplating how likely you are to succeed at (link: &quot;curing yourself&quot;)[~~curing yourself~~ (text-style: &quot;smear&quot;)[harming your new self]].]

](else-if: $chimerastate is 1)[You nod your head at the chimera (if: $spineclutch is true or $amorid is true)[groggily](else:)[thoughtfully], having heard your fill of their collection. The amphibious insider smiles almost slyly at you as one clammy hand idly pumps up and down their slimy spire from time to time, as if enjoying merely keeping themselves on display for you. (if: $amorid is true)[

Meanwhile, the shifting, slippery slugs wriggling around inside your (if: $cock is true)[testes](else:)[depths] are slowly but surely having a noticeable effect on you, nudging your thoughts towards need and lust that shows no sign of abating. You&#39;re increasingly sure that within a few bells you&#39;ll be unable to keep from touching yourself unless you get some kind of intervention, since already it&#39;s growing almost unthinkably hard not to drop to your knees in front of the insider&#39;s shaft.](if: $spineclutch is true)[

And all the while, you can feel the strangely (link: &quot;alien&quot;)[~~alien~~ (text-style: &quot;smear&quot;)[familiar]] sensation of (text-style: &quot;smear&quot;)[different] thoughts creeping into your head. You can see the chimera eyeing you thoughtfully, as if contemplating how likely you are to succeed at (link: &quot;curing yourself&quot;)[~~curing yourself~~ (text-style: &quot;smear&quot;)[harming your new self]].]

](else-if: $window is false)[You nod your head at the chimera (if: $spineclutch is true or $amorid is true)[groggily](else:)[thoughtfully], having heard your fill of their collection. The amphibious insider smiles back at you, then looks out one of the carriage windows for a time. (if: $amorid is true)[

Meanwhile, the shifting, slippery slugs wriggling around inside your (if: $cock is true)[testes](else:)[depths] are slowly but surely having a noticeable effect on you, nudging your thoughts towards need and lust that shows no sign of abating. You&#39;re increasingly sure that within a few bells you&#39;ll be unable to keep from touching yourself unless you get some kind of intervention.](if: $spineclutch is true)[

And all the while, you can feel the strangely (link: &quot;alien&quot;)[~~alien~~ (text-style: &quot;smear&quot;)[familiar]] sensation of (text-style: &quot;smear&quot;)[different] thoughts creeping into your head. You can see the chimera eyeing you thoughtfully from the side, as if contemplating how likely you are to succeed at (link: &quot;curing yourself&quot;)[~~curing yourself~~ (text-style: &quot;smear&quot;)[harming your new self]].]

](else:)[]Eventually, the carriage comes to a stop. You hear Crusty call out that you&#39;ve arrived in the Viviria district, and shortly afterwards the carriage door swings open. (if: $miggwitchfucked is true)[He gives you a leering smile, eyes glancing over to the miggwitch, as if amused by your earlier antics. ]Then you and the chimera carefully ease yourselves out and into the verdant, vibrant surroundings of your destination.

In short order, Crusty has collected another passenger and sped off into the gloom, leaving you behind with your clammy companion. The chimera looks at you, then gives a faint smile.

$npcV[&quot;(if: $spineclutch is true)[Remember, friend, a swift visit to the deworming clinic... or I shall compliment you on your chitin when next we meet, hmm?](else-if: $amorid is true or $chimerastate is 2)[I do hope you enjoy your new... companions, friend. May the City speak your name.](else:)[It has been pleasant, friend. May the City speak your name.]&quot;]

After making the sign of the City, the chimera turns and begins to stalk down a heavily foliaged alleyway, disappearing into the district themselves.

As you glance around you sense its presence, the towering shadow of the citadel seems to somehow loom over each and every building no matter where they stand. There&#39;s much more activity here near the citadel than there was along other parts of your journey. Citizens come and go from buildings all around, with a steady flow moving to and from in every direction. 

A small group of three lavishly dressed individuals, all clutching artifacts that look grown as much as crafted, argue passionately about something. You can overhear little more than one insisting that the remains of expired citizens cannot be reliably used to fertilize growth with any measure of predictability. The others seem to disagree based on their body language, but their counterarguments are out of earshot as they continue towards the citadel proper.

Then it comes into view fully and your gaze settles upon it. The towering, vivacious building that seems to pulsate with a life all to its own. As your gaze lingers upon the enormous building an unusual stirring of sensation rolls through you. There is a sense of life, of exuberance and procreation, the very essence of *being.* Yet even as you look at it, you&#39;re filled with a creeping, (char-style:(text-style:&quot;fidget&quot;))[itching] dread. 

Life unchecked smothers and chokes all around it, but still it strives to multiply even to its own demise. Living within the City - perhaps even living at all - is to be sustained by taking life, and everything around you is embroiled in that very struggle on scales from miniscule to unimaginable. Are the mages of Viviria truly the embodiment of life, or somehow the shepherds of extinction instead, ushering the living towards inevitable self-destruction? Is there some great irony in life itself, or is there some true, imperceptible greatness that these mages and adherents of growth understand that you fail to grasp?

You can&#39;t help but think of your own place in that struggle as your gaze remains locked upon the citadel, exploding with unfettered and overabundant growth.

*You have arrived in the Viviria district - slimy, humid, and densely packed with life, both plant and animal. Having completed your journey here all that remains is the question - now, where?*

&lt;img src=&quot;http://nodd-arca.net/carriage/carriage_viviria.jpg&quot; style=&quot;display: block; margin-left: auto; margin-right: auto; width: 100%;&quot;&gt;
&lt;br&gt;
&lt;br&gt;
&lt;center&gt;&lt;h3&gt;(text-style: &quot;smear&quot;)[END]&lt;/h3&gt;

&lt;font size=&quot;5em&quot;&gt;{(link:&quot;&gt; Commence another journey &lt;&quot;)[(reload:)]}&lt;/font&gt;&lt;/center&gt;</tw-passagedata><tw-passagedata pid="310" name="morphwindownocandy" tags="final" position="10311,3406" size="100,100">$roomname[The Carriage - The Window]
(set: $getgummies to true)
The ravel looks decidedly dejected as you decline some of his offered candies. You know better than to take candy from strangers, but much less strange birds. Something about the dangerous gleam in his gaze makes it seem as if he might &#39;insist&#39; you take a sample or two, one way or another...

But instead he just cackles for longer than is comfortable and slumps languidly back into the seat he&#39;s occupying, humming to himself off-tune. You turn your attention out the window, opting to avoid the strange insider&#39;s attention as best you can.


[[&gt; Peer out the window.-&gt;morphoriawindow1]]</tw-passagedata><tw-passagedata pid="311" name="ogggummies" tags="final" position="10257,4429" size="100,100">$roomname[The Carriage - The Window]

As the strange ravel steps out of the carriage he stops himself mid-stride, one leg stretched out dangling into the street, the other still within, his head slowly turning to face you.

He stares. For nearly a full, painfully long chime he stares right at you. $npcM[&quot;Sweetbeak would not wish for it to leave this precious, shared trip *empty handed*,&quot;] the bird says, his tone not exactly one of a genuine desire to impart a kindness upon a stranger.

The insider digs around in his satchel, several lollipops and even a cupcake falling out and landing around his one large talon still within the carriage. Triumphantly he plucks a much smaller satchel from his larger one, a sagging coin-purse shape that he tosses in your general direction. It lands on the seat beside you with a faint *squish.*

Without another word the ravel turns back around and hops from the carriage in a single, swift motion.

You gingerly reach over to grab the satchel and hoist it - within you can see a number of small, vaguely oggorous shaped gummies. Their flavor, much less effects, would be left to only the most brave, or reckless, to discover.

&lt;!-- OGG GUMMIES AAAH --&gt;(COLLECTIBLE GOES HERE)


[[&gt; *Actually* step outside.-&gt;morphoriaconclusion]]</tw-passagedata></tw-storydata>
<script title="Twine engine code" data-main="harlowe">"use strict";var _slicedToArray=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}!function(){
/**
 * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */var requirejs,require,define,root,factory;!function(e){var t,n,r,a,i={},o={},s={},c={},u=Object.prototype.hasOwnProperty,l=[].slice,p=/\.js$/;function f(e,t){return u.call(e,t)}function d(e,t){var n,r,a,i,o,c,u,l,f,d,h,y=t&&t.split("/"),m=s.map,g=m&&m["*"]||{};if(e){for(o=(e=e.split("/")).length-1,s.nodeIdCompat&&p.test(e[o])&&(e[o]=e[o].replace(p,"")),"."===e[0].charAt(0)&&y&&(e=y.slice(0,y.length-1).concat(e)),f=0;f<e.length;f++)if("."===(h=e[f]))e.splice(f,1),f-=1;else if(".."===h){if(0===f||1===f&&".."===e[2]||".."===e[f-1])continue;f>0&&(e.splice(f-1,2),f-=2)}e=e.join("/")}if((y||g)&&m){for(f=(n=e.split("/")).length;f>0;f-=1){if(r=n.slice(0,f).join("/"),y)for(d=y.length;d>0;d-=1)if((a=m[y.slice(0,d).join("/")])&&(a=a[r])){i=a,c=f;break}if(i)break;!u&&g&&g[r]&&(u=g[r],l=f)}!i&&u&&(i=u,c=l),i&&(n.splice(0,c,i),e=n.join("/"))}return e}function h(t,r){return function(){var a=l.call(arguments,0);return"string"!=typeof a[0]&&1===a.length&&a.push(null),n.apply(e,a.concat([t,r]))}}function y(e){return function(t){i[e]=t}}function m(n){if(f(o,n)){var r=o[n];delete o[n],c[n]=!0,t.apply(e,r)}if(!f(i,n)&&!f(c,n))throw new Error("No "+n);return i[n]}function g(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function v(e){return e?g(e):[]}r=function(e,t){var n,r,a=g(e),i=a[0],o=t[1];return e=a[1],i&&(n=m(i=d(i,o))),i?e=n&&n.normalize?n.normalize(e,(r=o,function(e){return d(e,r)})):d(e,o):(i=(a=g(e=d(e,o)))[0],e=a[1],i&&(n=m(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},a={require:function(e){return h(e)},exports:function(e){var t=i[e];return void 0!==t?t:i[e]={}},module:function(e){return{id:e,uri:"",exports:i[e],config:function(e){return function(){return s&&s.config&&s.config[e]||{}}}(e)}}},t=function(t,n,s,u){var l,p,d,g,b,w,T,S=[],x=void 0===s?"undefined":_typeof(s);if(w=v(u=u||t),"undefined"===x||"function"===x){for(n=!n.length&&s.length?["require","exports","module"]:n,b=0;b<n.length;b+=1)if("require"===(p=(g=r(n[b],w)).f))S[b]=a.require(t);else if("exports"===p)S[b]=a.exports(t),T=!0;else if("module"===p)l=S[b]=a.module(t);else if(f(i,p)||f(o,p)||f(c,p))S[b]=m(p);else{if(!g.p)throw new Error(t+" missing "+p);g.p.load(g.n,h(u,!0),y(p),{}),S[b]=i[p]}d=s?s.apply(i[t],S):void 0,t&&(l&&l.exports!==e&&l.exports!==i[t]?i[t]=l.exports:d===e&&T||(i[t]=d))}else t&&(i[t]=s)},requirejs=require=n=function(i,o,c,u,l){if("string"==typeof i)return a[i]?a[i](o):m(r(i,v(o)).f);if(!i.splice){if((s=i).deps&&n(s.deps,s.callback),!o)return;o.splice?(i=o,o=c,c=null):i=e}return o=o||function(){},"function"==typeof c&&(c=u,u=l),u?t(e,i,o,c):setTimeout(function(){t(e,i,o,c)},4),n},n.config=function(e){return n(e)},requirejs._defined=i,(define=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),f(i,e)||f(o,e)||(o[e]=[e,t,n])}).amd={jQuery:!0}}(),define("almond",function(){}),
/*!
 * https://github.com/paulmillr/es6-shim
 * @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)
 *   and contributors,  MIT License
 * es6-shim: v0.35.4
 * see https://github.com/paulmillr/es6-shim/blob/0.35.3/LICENSE
 * Details and documentation:
 * https://github.com/paulmillr/es6-shim/
 */
root=this,factory=function(){var e,t,n=Function.call.bind(Function.apply),r=Function.call.bind(Function.call),a=Array.isArray,i=Object.keys,o=function(e){try{return e(),!1}catch(e){return!0}},s=function(e){try{return e()}catch(e){return!1}},c=(e=o,function(){return!n(e,this,arguments)}),u=!!Object.defineProperty&&!o(function(){return Object.defineProperty({},"x",{get:function(){}})}),l="foo"===function(){}.name,p=Function.call.bind(Array.prototype.forEach),f=Function.call.bind(Array.prototype.reduce),d=Function.call.bind(Array.prototype.filter),h=Function.call.bind(Array.prototype.some),y=function(e,t,n,r){!r&&t in e||(u?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n}):e[t]=n)},m=function(e,t,n){p(i(t),function(r){var a=t[r];y(e,r,a,!!n)})},g=Function.call.bind(Object.prototype.toString),v="function"==typeof/abc/?function(e){return"function"==typeof e&&"[object Function]"===g(e)}:function(e){return"function"==typeof e},b=function(e,t,n){if(!u)throw new TypeError("getters require true ES5 support");Object.defineProperty(e,t,{configurable:!0,enumerable:!1,get:n})},w=function(e,t,n){if(!u)throw new TypeError("getters require true ES5 support");var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,{configurable:r.configurable,enumerable:r.enumerable,get:function(){return e[t]},set:function(n){e[t]=n}})},T=function(e,t,n){if(u){var r=Object.getOwnPropertyDescriptor(e,t);r.value=n,Object.defineProperty(e,t,r)}else e[t]=n},S=function(e,t,n){u?Object.defineProperty(e,t,n):"value"in n&&(e[t]=n.value)},x=function(e,t){t&&v(t.toString)&&y(e,"toString",t.toString.bind(t),!0)},k=Object.create||function(e,t){var n=function(){};n.prototype=e;var r=new n;return void 0!==t&&i(t).forEach(function(e){S(r,e,t[e])}),r},O=function(e,t){return!!Object.setPrototypeOf&&s(function(){var n=function t(n){var r=new e(n);return Object.setPrototypeOf(r,t.prototype),r};return Object.setPrototypeOf(n,e),n.prototype=k(e.prototype,{constructor:{value:n}}),t(n)})},j=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}(),A=j.isFinite,C=Function.call.bind(String.prototype.indexOf),E=Function.apply.bind(Array.prototype.indexOf),_=Function.call.bind(Array.prototype.concat),N=Function.call.bind(String.prototype.slice),P=Function.call.bind(Array.prototype.push),I=Function.apply.bind(Array.prototype.push),M=Function.call.bind(Array.prototype.shift),D=Math.max,R=Math.min,L=Math.floor,F=Math.abs,q=Math.exp,V=Math.log,H=Math.sqrt,z=Function.call.bind(Object.prototype.hasOwnProperty),W=function(){},$=j.Map,B=$&&$.prototype.delete,U=$&&$.prototype.get,G=$&&$.prototype.has,X=$&&$.prototype.set,J=j.Symbol||{},Y=J.species||"@@species",K=Number.isNaN||function(e){return e!=e},Z=Number.isFinite||function(e){return"number"==typeof e&&A(e)},Q=v(Math.sign)?Math.sign:function(e){var t=Number(e);return 0===t?t:K(t)?t:t<0?-1:1},ee=function(e){var t=Number(e);return t<-1||K(t)?NaN:0===t||t===1/0?t:-1===t?-1/0:1+t-1==0?t:t*(V(1+t)/(1+t-1))},te=function(e){return"[object Arguments]"===g(e)},ne=te(arguments)?te:function(e){return null!==e&&"object"===(void 0===e?"undefined":_typeof(e))&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==g(e)&&"[object Function]"===g(e.callee)},re=function(e){return null===e||"function"!=typeof e&&"object"!==(void 0===e?"undefined":_typeof(e))},ae=function(e){return"[object String]"===g(e)},ie=function(e){return"[object RegExp]"===g(e)},oe=function(e){return"function"==typeof j.Symbol&&"symbol"===(void 0===e?"undefined":_typeof(e))},se=function(e,t,n){var r=e[t];y(e,t,n,!0),x(e[t],r)},ce="function"==typeof J&&"function"==typeof J.for&&oe(J()),ue=oe(J.iterator)?J.iterator:"_es6-shim iterator_";j.Set&&"function"==typeof(new j.Set)["@@iterator"]&&(ue="@@iterator"),j.Reflect||y(j,"Reflect",{},!0);var le,pe=j.Reflect,fe=String,de="undefined"!=typeof document&&document?document.all:null,he=null==de?function(e){return null==e}:function(e){return null==e&&e!==de},ye={Call:function(e,t){var r=arguments.length>2?arguments[2]:[];if(!ye.IsCallable(e))throw new TypeError(e+" is not a function");return n(e,t,r)},RequireObjectCoercible:function(e,t){if(he(e))throw new TypeError(t||"Cannot call method on "+e);return e},TypeIsObject:function(e){return null!=e&&!0!==e&&!1!==e&&("function"==typeof e||"object"===(void 0===e?"undefined":_typeof(e))||e===de)},ToObject:function(e,t){return Object(ye.RequireObjectCoercible(e,t))},IsCallable:v,IsConstructor:function(e){return ye.IsCallable(e)},ToInt32:function(e){return ye.ToNumber(e)>>0},ToUint32:function(e){return ye.ToNumber(e)>>>0},ToNumber:function(e){if("[object Symbol]"===g(e))throw new TypeError("Cannot convert a Symbol value to a number");return+e},ToInteger:function(e){var t=ye.ToNumber(e);return K(t)?0:0!==t&&Z(t)?(t>0?1:-1)*L(F(t)):t},ToLength:function(e){var t=ye.ToInteger(e);return t<=0?0:t>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t},SameValue:function(e,t){return e===t?0!==e||1/e==1/t:K(e)&&K(t)},SameValueZero:function(e,t){return e===t||K(e)&&K(t)},IsIterable:function(e){return ye.TypeIsObject(e)&&(void 0!==e[ue]||ne(e))},GetIterator:function(e){if(ne(e))return new t(e,"value");var n=ye.GetMethod(e,ue);if(!ye.IsCallable(n))throw new TypeError("value is not an iterable");var r=ye.Call(n,e);if(!ye.TypeIsObject(r))throw new TypeError("bad iterator");return r},GetMethod:function(e,t){var n=ye.ToObject(e)[t];if(!he(n)){if(!ye.IsCallable(n))throw new TypeError("Method not callable: "+t);return n}},IteratorComplete:function(e){return!!e.done},IteratorClose:function(e,t){var n=ye.GetMethod(e,"return");if(void 0!==n){var r,a;try{r=ye.Call(n,e)}catch(e){a=e}if(!t){if(a)throw a;if(!ye.TypeIsObject(r))throw new TypeError("Iterator's return method returned a non-object.")}}},IteratorNext:function(e){var t=arguments.length>1?e.next(arguments[1]):e.next();if(!ye.TypeIsObject(t))throw new TypeError("bad iterator");return t},IteratorStep:function(e){var t=ye.IteratorNext(e);return!ye.IteratorComplete(t)&&t},Construct:function(e,t,n,r){var a=void 0===n?e:n;if(!r&&pe.construct)return pe.construct(e,t,a);var i=a.prototype;ye.TypeIsObject(i)||(i=Object.prototype);var o=k(i),s=ye.Call(e,o,t);return ye.TypeIsObject(s)?s:o},SpeciesConstructor:function(e,t){var n=e.constructor;if(void 0===n)return t;if(!ye.TypeIsObject(n))throw new TypeError("Bad constructor");var r=n[Y];if(he(r))return t;if(!ye.IsConstructor(r))throw new TypeError("Bad @@species");return r},CreateHTML:function(e,t,n,r){var a=ye.ToString(e),i="<"+t;""!==n&&(i+=" "+n+'="'+ye.ToString(r).replace(/"/g,"&quot;")+'"');return i+">"+a+"</"+t+">"},IsRegExp:function(e){if(!ye.TypeIsObject(e))return!1;var t=e[J.match];return void 0!==t?!!t:ie(e)},ToString:function(e){return fe(e)}};if(u&&ce){var me=function(e){if(oe(J[e]))return J[e];var t=J.for("Symbol."+e);return Object.defineProperty(J,e,{configurable:!1,enumerable:!1,writable:!1,value:t}),t};if(!oe(J.search)){var ge=me("search"),ve=String.prototype.search;y(RegExp.prototype,ge,function(e){return ye.Call(ve,e,[this])});se(String.prototype,"search",function(e){var t=ye.RequireObjectCoercible(this);if(!he(e)){var n=ye.GetMethod(e,ge);if(void 0!==n)return ye.Call(n,e,[t])}return ye.Call(ve,t,[ye.ToString(e)])})}if(!oe(J.replace)){var be=me("replace"),we=String.prototype.replace;y(RegExp.prototype,be,function(e,t){return ye.Call(we,e,[this,t])});se(String.prototype,"replace",function(e,t){var n=ye.RequireObjectCoercible(this);if(!he(e)){var r=ye.GetMethod(e,be);if(void 0!==r)return ye.Call(r,e,[n,t])}return ye.Call(we,n,[ye.ToString(e),t])})}if(!oe(J.split)){var Te=me("split"),Se=String.prototype.split;y(RegExp.prototype,Te,function(e,t){return ye.Call(Se,e,[this,t])});se(String.prototype,"split",function(e,t){var n=ye.RequireObjectCoercible(this);if(!he(e)){var r=ye.GetMethod(e,Te);if(void 0!==r)return ye.Call(r,e,[n,t])}return ye.Call(Se,n,[ye.ToString(e),t])})}var xe=oe(J.match),ke=xe&&((le={})[J.match]=function(){return 42},42!=="a".match(le));if(!xe||ke){var Oe=me("match"),je=String.prototype.match;y(RegExp.prototype,Oe,function(e){return ye.Call(je,e,[this])});se(String.prototype,"match",function(e){var t=ye.RequireObjectCoercible(this);if(!he(e)){var n=ye.GetMethod(e,Oe);if(void 0!==n)return ye.Call(n,e,[t])}return ye.Call(je,t,[ye.ToString(e)])})}}var Ae=function(e,t,n){x(t,e),Object.setPrototypeOf&&Object.setPrototypeOf(e,t),u?p(Object.getOwnPropertyNames(e),function(r){r in W||n[r]||w(e,r,t)}):p(Object.keys(e),function(r){r in W||n[r]||(t[r]=e[r])}),t.prototype=e.prototype,T(e.prototype,"constructor",t)},Ce=function(){return this},Ee=function(e){u&&!z(e,Y)&&b(e,Y,Ce)},_e=function(e,t){var n=t||function(){return this};y(e,ue,n),!e[ue]&&oe(ue)&&(e[ue]=n)},Ne=function(e,t,n){if(function(e,t,n){u?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:n}):e[t]=n}(e,t,n),!ye.SameValue(e[t],n))throw new TypeError("property is nonconfigurable")},Pe=function(e,t,n,r){if(!ye.TypeIsObject(e))throw new TypeError("Constructor requires `new`: "+t.name);var a=t.prototype;ye.TypeIsObject(a)||(a=n);var i=k(a);for(var o in r)if(z(r,o)){var s=r[o];y(i,o,s,!0)}return i};if(String.fromCodePoint&&1!==String.fromCodePoint.length){var Ie=String.fromCodePoint;se(String,"fromCodePoint",function(e){return ye.Call(Ie,this,arguments)})}var Me={fromCodePoint:function(e){for(var t,n=[],r=0,a=arguments.length;r<a;r++){if(t=Number(arguments[r]),!ye.SameValue(t,ye.ToInteger(t))||t<0||t>1114111)throw new RangeError("Invalid code point "+t);t<65536?P(n,String.fromCharCode(t)):(t-=65536,P(n,String.fromCharCode(55296+(t>>10))),P(n,String.fromCharCode(t%1024+56320)))}return n.join("")},raw:function(e){var t=ye.ToObject(e,"bad callSite"),n=ye.ToObject(t.raw,"bad raw value"),r=n.length,a=ye.ToLength(r);if(a<=0)return"";for(var i,o,s,c,u=[],l=0;l<a&&(i=ye.ToString(l),s=ye.ToString(n[i]),P(u,s),!(l+1>=a));)o=l+1<arguments.length?arguments[l+1]:"",c=ye.ToString(o),P(u,c),l+=1;return u.join("")}};String.raw&&"xy"!==String.raw({raw:{0:"x",1:"y",length:2}})&&se(String,"raw",Me.raw),m(String,Me);var De={repeat:function(e){var t=ye.ToString(ye.RequireObjectCoercible(this)),n=ye.ToInteger(e);if(n<0||n>=1/0)throw new RangeError("repeat count must be less than infinity and not overflow maximum string size");return function e(t,n){if(n<1)return"";if(n%2)return e(t,n-1)+t;var r=e(t,n/2);return r+r}(t,n)},startsWith:function(e){var t=ye.ToString(ye.RequireObjectCoercible(this));if(ye.IsRegExp(e))throw new TypeError('Cannot call method "startsWith" with a regex');var n,r=ye.ToString(e);arguments.length>1&&(n=arguments[1]);var a=D(ye.ToInteger(n),0);return N(t,a,a+r.length)===r},endsWith:function(e){var t=ye.ToString(ye.RequireObjectCoercible(this));if(ye.IsRegExp(e))throw new TypeError('Cannot call method "endsWith" with a regex');var n,r=ye.ToString(e),a=t.length;arguments.length>1&&(n=arguments[1]);var i=void 0===n?a:ye.ToInteger(n),o=R(D(i,0),a);return N(t,o-r.length,o)===r},includes:function(e){if(ye.IsRegExp(e))throw new TypeError('"includes" does not accept a RegExp');var t,n=ye.ToString(e);return arguments.length>1&&(t=arguments[1]),-1!==C(this,n,t)},codePointAt:function(e){var t=ye.ToString(ye.RequireObjectCoercible(this)),n=ye.ToInteger(e),r=t.length;if(n>=0&&n<r){var a=t.charCodeAt(n);if(a<55296||a>56319||n+1===r)return a;var i=t.charCodeAt(n+1);return i<56320||i>57343?a:1024*(a-55296)+(i-56320)+65536}}};if(String.prototype.includes&&!1!=="a".includes("a",1/0)&&se(String.prototype,"includes",De.includes),String.prototype.startsWith&&String.prototype.endsWith){var Re=o(function(){return"/a/".startsWith(/a/)}),Le=s(function(){return!1==="abc".startsWith("a",1/0)});Re&&Le||(se(String.prototype,"startsWith",De.startsWith),se(String.prototype,"endsWith",De.endsWith))}ce&&(s(function(){var e=/a/;return e[J.match]=!1,"/a/".startsWith(e)})||se(String.prototype,"startsWith",De.startsWith),s(function(){var e=/a/;return e[J.match]=!1,"/a/".endsWith(e)})||se(String.prototype,"endsWith",De.endsWith),s(function(){var e=/a/;return e[J.match]=!1,"/a/".includes(e)})||se(String.prototype,"includes",De.includes));m(String.prototype,De);var Fe=["\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003","\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028","\u2029\ufeff"].join(""),qe=new RegExp("(^["+Fe+"]+)|(["+Fe+"]+$)","g"),Ve=function(){return ye.ToString(ye.RequireObjectCoercible(this)).replace(qe,"")},He=["\x85","\u200b","\ufffe"].join(""),ze=new RegExp("["+He+"]","g"),We=/^[-+]0x[0-9a-f]+$/i,$e=He.trim().length!==He.length;y(String.prototype,"trim",Ve,$e);var Be=function(e){return{value:e,done:0===arguments.length}},Ue=function(e){ye.RequireObjectCoercible(e),this._s=ye.ToString(e),this._i=0};Ue.prototype.next=function(){var e=this._s,t=this._i;if(void 0===e||t>=e.length)return this._s=void 0,Be();var n,r,a=e.charCodeAt(t);return r=a<55296||a>56319||t+1===e.length?1:(n=e.charCodeAt(t+1))<56320||n>57343?1:2,this._i=t+r,Be(e.substr(t,r))},_e(Ue.prototype),_e(String.prototype,function(){return new Ue(this)});var Ge={from:function(e){var t,n,a,i,o,s,c=this;if(arguments.length>1&&(t=arguments[1]),void 0===t)n=!1;else{if(!ye.IsCallable(t))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(a=arguments[2]),n=!0}if(void 0!==(ne(e)||ye.GetMethod(e,ue))){o=ye.IsConstructor(c)?Object(new c):[];var u,l,p=ye.GetIterator(e);for(s=0;!1!==(u=ye.IteratorStep(p));){l=u.value;try{n&&(l=void 0===a?t(l,s):r(t,a,l,s)),o[s]=l}catch(e){throw ye.IteratorClose(p,!0),e}s+=1}i=s}else{var f,d=ye.ToObject(e);for(i=ye.ToLength(d.length),o=ye.IsConstructor(c)?Object(new c(i)):new Array(i),s=0;s<i;++s)f=d[s],n&&(f=void 0===a?t(f,s):r(t,a,f,s)),Ne(o,s,f)}return o.length=i,o},of:function(){for(var e=arguments.length,t=this,n=a(t)||!ye.IsCallable(t)?new Array(e):ye.Construct(t,[e]),r=0;r<e;++r)Ne(n,r,arguments[r]);return n.length=e,n}};m(Array,Ge),Ee(Array),m((t=function(e,t){this.i=0,this.array=e,this.kind=t}).prototype,{next:function(){var e=this.i,n=this.array;if(!(this instanceof t))throw new TypeError("Not an ArrayIterator");if(void 0!==n)for(var r=ye.ToLength(n.length);e<r;e++){var a,i=this.kind;return"key"===i?a=e:"value"===i?a=n[e]:"entry"===i&&(a=[e,n[e]]),this.i=e+1,Be(a)}return this.array=void 0,Be()}}),_e(t.prototype),Array.of===Ge.of||function(){var e=function(e){this.length=e};e.prototype=[];var t=Array.of.apply(e,[1,2]);return t instanceof e&&2===t.length}()||se(Array,"of",Ge.of);var Xe={copyWithin:function(e,t){var n,r=ye.ToObject(this),a=ye.ToLength(r.length),i=ye.ToInteger(e),o=ye.ToInteger(t),s=i<0?D(a+i,0):R(i,a),c=o<0?D(a+o,0):R(o,a);arguments.length>2&&(n=arguments[2]);var u=void 0===n?a:ye.ToInteger(n),l=u<0?D(a+u,0):R(u,a),p=R(l-c,a-s),f=1;for(c<s&&s<c+p&&(f=-1,c+=p-1,s+=p-1);p>0;)c in r?r[s]=r[c]:delete r[s],c+=f,s+=f,p-=1;return r},fill:function(e){var t,n;arguments.length>1&&(t=arguments[1]),arguments.length>2&&(n=arguments[2]);var r=ye.ToObject(this),a=ye.ToLength(r.length);t=ye.ToInteger(void 0===t?0:t);for(var i=(n=ye.ToInteger(void 0===n?a:n))<0?a+n:n,o=t<0?D(a+t,0):R(t,a);o<a&&o<i;++o)r[o]=e;return r},find:function(e){var t=ye.ToObject(this),n=ye.ToLength(t.length);if(!ye.IsCallable(e))throw new TypeError("Array#find: predicate must be a function");for(var a,i=arguments.length>1?arguments[1]:null,o=0;o<n;o++)if(a=t[o],i){if(r(e,i,a,o,t))return a}else if(e(a,o,t))return a},findIndex:function(e){var t=ye.ToObject(this),n=ye.ToLength(t.length);if(!ye.IsCallable(e))throw new TypeError("Array#findIndex: predicate must be a function");for(var a=arguments.length>1?arguments[1]:null,i=0;i<n;i++)if(a){if(r(e,a,t[i],i,t))return i}else if(e(t[i],i,t))return i;return-1},keys:function(){return new t(this,"key")},values:function(){return new t(this,"value")},entries:function(){return new t(this,"entry")}};if(Array.prototype.keys&&!ye.IsCallable([1].keys().next)&&delete Array.prototype.keys,Array.prototype.entries&&!ye.IsCallable([1].entries().next)&&delete Array.prototype.entries,Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[ue]&&(m(Array.prototype,{values:Array.prototype[ue]}),oe(J.unscopables)&&(Array.prototype[J.unscopables].values=!0)),l&&Array.prototype.values&&"values"!==Array.prototype.values.name){var Je=Array.prototype.values;se(Array.prototype,"values",function(){return ye.Call(Je,this,arguments)}),y(Array.prototype,ue,Array.prototype.values,!0)}m(Array.prototype,Xe),1/[!0].indexOf(!0,-0)<0&&y(Array.prototype,"indexOf",function(e){var t=E(this,arguments);return 0===t&&1/t<0?0:t},!0),_e(Array.prototype,function(){return this.values()}),Object.getPrototypeOf&&_e(Object.getPrototypeOf([].values()));var Ye,Ke=s(function(){return 0===Array.from({length:-1}).length}),Ze=1===(Ye=Array.from([0].entries())).length&&a(Ye[0])&&0===Ye[0][0]&&0===Ye[0][1];if(Ke&&Ze||se(Array,"from",Ge.from),!s(function(){return Array.from([0],void 0)})){var Qe=Array.from;se(Array,"from",function(e){return arguments.length>1&&void 0!==arguments[1]?ye.Call(Qe,this,arguments):r(Qe,this,e)})}var et=-(Math.pow(2,32)-1),tt=function(e,t){var n={length:et};return n[t?(n.length>>>0)-1:0]=!0,s(function(){return r(e,n,function(){throw new RangeError("should not reach here")},[]),!0})};if(!tt(Array.prototype.forEach)){var nt=Array.prototype.forEach;se(Array.prototype,"forEach",function(e){return ye.Call(nt,this.length>=0?this:[],arguments)})}if(!tt(Array.prototype.map)){var rt=Array.prototype.map;se(Array.prototype,"map",function(e){return ye.Call(rt,this.length>=0?this:[],arguments)})}if(!tt(Array.prototype.filter)){var at=Array.prototype.filter;se(Array.prototype,"filter",function(e){return ye.Call(at,this.length>=0?this:[],arguments)})}if(!tt(Array.prototype.some)){var it=Array.prototype.some;se(Array.prototype,"some",function(e){return ye.Call(it,this.length>=0?this:[],arguments)})}if(!tt(Array.prototype.every)){var ot=Array.prototype.every;se(Array.prototype,"every",function(e){return ye.Call(ot,this.length>=0?this:[],arguments)})}if(!tt(Array.prototype.reduce)){var st=Array.prototype.reduce;se(Array.prototype,"reduce",function(e){return ye.Call(st,this.length>=0?this:[],arguments)})}if(!tt(Array.prototype.reduceRight,!0)){var ct=Array.prototype.reduceRight;se(Array.prototype,"reduceRight",function(e){return ye.Call(ct,this.length>=0?this:[],arguments)})}var ut=8!==Number("0o10"),lt=2!==Number("0b10"),pt=h(He,function(e){return 0===Number(e+0+e)});if(ut||lt||pt){var ft=Number,dt=/^0b[01]+$/i,ht=/^0o[0-7]+$/i,yt=dt.test.bind(dt),mt=ht.test.bind(ht),gt=ze.test.bind(ze),vt=We.test.bind(We),bt=function(){var e=function(t){var n;"string"==typeof(n=arguments.length>0?re(t)?t:function(e){var t;if("function"==typeof e.valueOf&&(t=e.valueOf(),re(t)))return t;if("function"==typeof e.toString&&(t=e.toString(),re(t)))return t;throw new TypeError("No default value")}(t):0)&&(n=ye.Call(Ve,n),yt(n)?n=parseInt(N(n,2),2):mt(n)?n=parseInt(N(n,2),8):(gt(n)||vt(n))&&(n=NaN));var r=this,a=s(function(){return ft.prototype.valueOf.call(r),!0});return r instanceof e&&!a?new ft(n):ft(n)};return e}();Ae(ft,bt,{}),m(bt,{NaN:ft.NaN,MAX_VALUE:ft.MAX_VALUE,MIN_VALUE:ft.MIN_VALUE,NEGATIVE_INFINITY:ft.NEGATIVE_INFINITY,POSITIVE_INFINITY:ft.POSITIVE_INFINITY}),Number=bt,T(j,"Number",bt)}var wt=Math.pow(2,53)-1;m(Number,{MAX_SAFE_INTEGER:wt,MIN_SAFE_INTEGER:-wt,EPSILON:2.220446049250313e-16,parseInt:j.parseInt,parseFloat:j.parseFloat,isFinite:Z,isInteger:function(e){return Z(e)&&ye.ToInteger(e)===e},isSafeInteger:function(e){return Number.isInteger(e)&&F(e)<=Number.MAX_SAFE_INTEGER},isNaN:K}),y(Number,"parseInt",j.parseInt,Number.parseInt!==j.parseInt),1===[,1].find(function(){return!0})&&se(Array.prototype,"find",Xe.find),0!==[,1].findIndex(function(){return!0})&&se(Array.prototype,"findIndex",Xe.findIndex);var Tt,St,xt,kt=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable),Ot=function(e,t){u&&kt(e,t)&&Object.defineProperty(e,t,{enumerable:!1})},jt=function(){for(var e=Number(this),t=arguments.length,n=t-e,r=new Array(n<0?0:n),a=e;a<t;++a)r[a-e]=arguments[a];return r},At=function(e){return function(t,n){return t[n]=e[n],t}},Ct=function(e,t){var n,r=i(Object(t));return ye.IsCallable(Object.getOwnPropertySymbols)&&(n=d(Object.getOwnPropertySymbols(Object(t)),kt(t))),f(_(r,n||[]),At(t),e)},Et={assign:function(e,t){var n=ye.ToObject(e,"Cannot convert undefined or null to object");return f(ye.Call(jt,1,arguments),Ct,n)},is:function(e,t){return ye.SameValue(e,t)}};if(Object.assign&&Object.preventExtensions&&function(){var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}}()&&se(Object,"assign",Et.assign),m(Object,Et),u){var _t={setPrototypeOf:function(e,t){var n,a=function(e,t){return function(e,t){if(!ye.TypeIsObject(e))throw new TypeError("cannot set prototype on a non-object");if(null!==t&&!ye.TypeIsObject(t))throw new TypeError("can only set prototype to an object or null"+t)}(e,t),r(n,e,t),e};try{n=e.getOwnPropertyDescriptor(e.prototype,"__proto__").set,r(n,{},null)}catch(t){if(e.prototype!=={}.__proto__)return;n=function(e){this.__proto__=e},a.polyfill=a(a({},null),e.prototype)instanceof e}return a}(Object)};m(Object,_t)}if(Object.setPrototypeOf&&Object.getPrototypeOf&&null!==Object.getPrototypeOf(Object.setPrototypeOf({},null))&&null===Object.getPrototypeOf(Object.create(null))&&(Tt=Object.create(null),St=Object.getPrototypeOf,xt=Object.setPrototypeOf,Object.getPrototypeOf=function(e){var t=St(e);return t===Tt?null:t},Object.setPrototypeOf=function(e,t){return xt(e,null===t?Tt:t)},Object.setPrototypeOf.polyfill=!1),!!o(function(){return Object.keys("foo")})){var Nt=Object.keys;se(Object,"keys",function(e){return Nt(ye.ToObject(e))}),i=Object.keys}if(o(function(){return Object.keys(/a/g)})){var Pt=Object.keys;se(Object,"keys",function(e){if(ie(e)){var t=[];for(var n in e)z(e,n)&&P(t,n);return t}return Pt(e)}),i=Object.keys}if(Object.getOwnPropertyNames&&!!o(function(){return Object.getOwnPropertyNames("foo")})){var It="object"===("undefined"==typeof window?"undefined":_typeof(window))?Object.getOwnPropertyNames(window):[],Mt=Object.getOwnPropertyNames;se(Object,"getOwnPropertyNames",function(e){var t=ye.ToObject(e);if("[object Window]"===g(t))try{return Mt(t)}catch(e){return _([],It)}return Mt(t)})}if(Object.getOwnPropertyDescriptor&&!!o(function(){return Object.getOwnPropertyDescriptor("foo","bar")})){var Dt=Object.getOwnPropertyDescriptor;se(Object,"getOwnPropertyDescriptor",function(e,t){return Dt(ye.ToObject(e),t)})}if(Object.seal&&!!o(function(){return Object.seal("foo")})){var Rt=Object.seal;se(Object,"seal",function(e){return ye.TypeIsObject(e)?Rt(e):e})}if(Object.isSealed&&!!o(function(){return Object.isSealed("foo")})){var Lt=Object.isSealed;se(Object,"isSealed",function(e){return!ye.TypeIsObject(e)||Lt(e)})}if(Object.freeze&&!!o(function(){return Object.freeze("foo")})){var Ft=Object.freeze;se(Object,"freeze",function(e){return ye.TypeIsObject(e)?Ft(e):e})}if(Object.isFrozen&&!!o(function(){return Object.isFrozen("foo")})){var qt=Object.isFrozen;se(Object,"isFrozen",function(e){return!ye.TypeIsObject(e)||qt(e)})}if(Object.preventExtensions&&!!o(function(){return Object.preventExtensions("foo")})){var Vt=Object.preventExtensions;se(Object,"preventExtensions",function(e){return ye.TypeIsObject(e)?Vt(e):e})}if(Object.isExtensible&&!!o(function(){return Object.isExtensible("foo")})){var Ht=Object.isExtensible;se(Object,"isExtensible",function(e){return!!ye.TypeIsObject(e)&&Ht(e)})}if(Object.getPrototypeOf&&!!o(function(){return Object.getPrototypeOf("foo")})){var zt=Object.getPrototypeOf;se(Object,"getPrototypeOf",function(e){return zt(ye.ToObject(e))})}var Wt,$t=u&&((Wt=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags"))&&ye.IsCallable(Wt.get));if(u&&!$t){b(RegExp.prototype,"flags",function(){if(!ye.TypeIsObject(this))throw new TypeError("Method called on incompatible type: must be an object.");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e})}var Bt,Ut=u&&s(function(){return"/a/i"===String(new RegExp(/a/g,"i"))}),Gt=ce&&u&&((Bt=/./)[J.match]=!1,RegExp(Bt)===Bt),Xt=s(function(){return"/abc/"===RegExp.prototype.toString.call({source:"abc"})}),Jt=Xt&&s(function(){return"/a/b"===RegExp.prototype.toString.call({source:"a",flags:"b"})});if(!Xt||!Jt){var Yt=RegExp.prototype.toString;y(RegExp.prototype,"toString",function(){var e=ye.RequireObjectCoercible(this);return ie(e)?r(Yt,e):"/"+fe(e.source)+"/"+fe(e.flags)},!0),x(RegExp.prototype.toString,Yt)}if(u&&(!Ut||Gt)){var Kt=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get,Zt=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{},Qt=ye.IsCallable(Zt.get)?Zt.get:function(){return this.source},en=RegExp,tn=function e(t,n){var r=ye.IsRegExp(t);return this instanceof e||!r||void 0!==n||t.constructor!==e?ie(t)?new e(ye.Call(Qt,t),void 0===n?ye.Call(Kt,t):n):(r&&(t.source,void 0===n&&t.flags),new en(t,n)):t};Ae(en,tn,{$input:!0}),RegExp=tn,T(j,"RegExp",tn)}if(u){var nn={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};p(i(nn),function(e){e in RegExp&&!(nn[e]in RegExp)&&b(RegExp,nn[e],function(){return RegExp[e]})})}Ee(RegExp);var rn=1/Number.EPSILON,an=Math.pow(2,-23),on=Math.pow(2,127)*(2-an),sn=Math.pow(2,-126),cn=Math.E,un=Math.LOG2E,ln=Math.LOG10E,pn=Number.prototype.clz;delete Number.prototype.clz;var fn={acosh:function(e){var t=Number(e);if(K(t)||e<1)return NaN;if(1===t)return 0;if(t===1/0)return t;var n=1/(t*t);if(t<2)return ee(t-1+H(1-n)*t);var r=t/2;return ee(r+H(1-n)*r-1)+1/un},asinh:function(e){var t=Number(e);if(0===t||!A(t))return t;var n=F(t),r=n*n,a=Q(t);return n<1?a*ee(n+r/(H(r+1)+1)):a*(ee(n/2+H(1+1/r)*n/2-1)+1/un)},atanh:function(e){var t=Number(e);if(0===t)return t;if(-1===t)return-1/0;if(1===t)return 1/0;if(K(t)||t<-1||t>1)return NaN;var n=F(t);return Q(t)*ee(2*n/(1-n))/2},cbrt:function(e){var t=Number(e);if(0===t)return t;var n,r=t<0;return r&&(t=-t),n=t===1/0?1/0:(t/((n=q(V(t)/3))*n)+2*n)/3,r?-n:n},clz32:function(e){var t=Number(e),n=ye.ToUint32(t);return 0===n?32:pn?ye.Call(pn,n):31-L(V(n+.5)*un)},cosh:function(e){var t=Number(e);if(0===t)return 1;if(K(t))return NaN;if(!A(t))return 1/0;var n=q(F(t)-1);return(n+1/(n*cn*cn))*(cn/2)},expm1:function(e){var t=Number(e);if(t===-1/0)return-1;if(!A(t)||0===t)return t;if(F(t)>.5)return q(t)-1;for(var n=t,r=0,a=1;r+n!==r;)r+=n,n*=t/(a+=1);return r},hypot:function(e,t){for(var n=0,r=0,a=0;a<arguments.length;++a){var i=F(Number(arguments[a]));r<i?(n*=r/i*(r/i),n+=1,r=i):n+=i>0?i/r*(i/r):i}return r===1/0?1/0:r*H(n)},log2:function(e){return V(e)*un},log10:function(e){return V(e)*ln},log1p:ee,sign:Q,sinh:function(e){var t=Number(e);if(!A(t)||0===t)return t;var n=F(t);if(n<1){var r=Math.expm1(n);return Q(t)*r*(1+1/(r+1))/2}var a=q(n-1);return Q(t)*(a-1/(a*cn*cn))*(cn/2)},tanh:function(e){var t=Number(e);return K(t)||0===t?t:t>=20?1:t<=-20?-1:(Math.expm1(t)-Math.expm1(-t))/(q(t)+q(-t))},trunc:function(e){var t=Number(e);return t<0?-L(-t):L(t)},imul:function(e,t){var n=ye.ToUint32(e),r=ye.ToUint32(t),a=65535&n,i=65535&r;return a*i+((n>>>16&65535)*i+a*(r>>>16&65535)<<16>>>0)|0},fround:function(e){var t=Number(e);if(0===t||t===1/0||t===-1/0||K(t))return t;var n=Q(t),r=F(t);if(r<sn)return n*(r/sn/an+rn-rn)*sn*an;var a=(1+an/Number.EPSILON)*r,i=a-(a-r);return i>on||K(i)?n*(1/0):n*i}},dn=function(e,t,n){return F(1-e/t)/Number.EPSILON<(n||8)};m(Math,fn),y(Math,"sinh",fn.sinh,Math.sinh(710)===1/0),y(Math,"cosh",fn.cosh,Math.cosh(710)===1/0),y(Math,"log1p",fn.log1p,-1e-17!==Math.log1p(-1e-17)),y(Math,"asinh",fn.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7)),y(Math,"asinh",fn.asinh,Math.asinh(1e300)===1/0),y(Math,"atanh",fn.atanh,0===Math.atanh(1e-300)),y(Math,"tanh",fn.tanh,-2e-17!==Math.tanh(-2e-17)),y(Math,"acosh",fn.acosh,Math.acosh(Number.MAX_VALUE)===1/0),y(Math,"acosh",fn.acosh,!dn(Math.acosh(1+Number.EPSILON),Math.sqrt(2*Number.EPSILON))),y(Math,"cbrt",fn.cbrt,!dn(Math.cbrt(1e-300),1e-100)),y(Math,"sinh",fn.sinh,-2e-17!==Math.sinh(-2e-17));var hn=Math.expm1(10);y(Math,"expm1",fn.expm1,hn>22025.465794806718||hn<22025.465794806718);var yn=Math.round,mn=0===Math.round(.5-Number.EPSILON/4)&&1===Math.round(Number.EPSILON/3.99-.5),gn=[rn+1,2*rn-1].every(function(e){return Math.round(e)===e});y(Math,"round",function(e){var t=L(e);return e-t<.5?t:-1===t?-0:t+1},!mn||!gn),x(Math.round,yn);var vn=Math.imul;-5!==Math.imul(4294967295,5)&&(Math.imul=fn.imul,x(Math.imul,vn)),2!==Math.imul.length&&se(Math,"imul",function(e,t){return ye.Call(vn,Math,arguments)});var bn,wn,Tn=function(){var e=j.setTimeout;if("function"==typeof e||"object"===(void 0===e?"undefined":_typeof(e))){ye.IsPromise=function(e){return!!ye.TypeIsObject(e)&&void 0!==e._promise};var t,n=function(e){if(!ye.IsConstructor(e))throw new TypeError("Bad promise constructor");var t=this;if(t.resolve=void 0,t.reject=void 0,t.promise=new e(function(e,n){if(void 0!==t.resolve||void 0!==t.reject)throw new TypeError("Bad Promise implementation!");t.resolve=e,t.reject=n}),!ye.IsCallable(t.resolve)||!ye.IsCallable(t.reject))throw new TypeError("Bad promise constructor")};"undefined"!=typeof window&&ye.IsCallable(window.postMessage)&&(t=function(){var e=[];return window.addEventListener("message",function(t){if(t.source===window&&"zero-timeout-message"===t.data){if(t.stopPropagation(),0===e.length)return;M(e)()}},!0),function(t){P(e,t),window.postMessage("zero-timeout-message","*")}});var a,i,o,s,c,u=ye.IsCallable(j.setImmediate)?j.setImmediate:"object"===("undefined"==typeof process?"undefined":_typeof(process))&&process.nextTick?process.nextTick:(a=j.Promise,(i=a&&a.resolve&&a.resolve())&&function(e){return i.then(e)}||(ye.IsCallable(t)?t():function(t){e(t,0)})),l=function(e){return e},p=function(e){throw e},f={},d=function(e,t,n){u(function(){h(e,t,n)})},h=function(e,t,n){var r,a;if(t===f)return e(n);try{r=e(n),a=t.resolve}catch(e){r=e,a=t.reject}a(r)},y=function(e,t){var n=e._promise,r=n.reactionLength;if(r>0&&(d(n.fulfillReactionHandler0,n.reactionCapability0,t),n.fulfillReactionHandler0=void 0,n.rejectReactions0=void 0,n.reactionCapability0=void 0,r>1))for(var a=1,i=0;a<r;a++,i+=3)d(n[i+0],n[i+2],t),e[i+0]=void 0,e[i+1]=void 0,e[i+2]=void 0;n.result=t,n.state=1,n.reactionLength=0},g=function(e,t){var n=e._promise,r=n.reactionLength;if(r>0&&(d(n.rejectReactionHandler0,n.reactionCapability0,t),n.fulfillReactionHandler0=void 0,n.rejectReactions0=void 0,n.reactionCapability0=void 0,r>1))for(var a=1,i=0;a<r;a++,i+=3)d(n[i+1],n[i+2],t),e[i+0]=void 0,e[i+1]=void 0,e[i+2]=void 0;n.result=t,n.state=2,n.reactionLength=0},v=function(e){var t=!1;return{resolve:function(n){var r;if(!t){if(t=!0,n===e)return g(e,new TypeError("Self resolution"));if(!ye.TypeIsObject(n))return y(e,n);try{r=n.then}catch(t){return g(e,t)}if(!ye.IsCallable(r))return y(e,n);u(function(){w(e,n,r)})}},reject:function(n){if(!t)return t=!0,g(e,n)}}},b=function(e,t,n,a){e===s?r(e,t,n,a,f):r(e,t,n,a)},w=function(e,t,n){var r=v(e),a=r.resolve,i=r.reject;try{b(n,t,a,i)}catch(e){i(e)}},T=c=function(e){if(!(this instanceof c))throw new TypeError('Constructor Promise requires "new"');if(this&&this._promise)throw new TypeError("Bad construction");if(!ye.IsCallable(e))throw new TypeError("not a valid resolver");var t=Pe(this,c,o,{_promise:{result:void 0,state:0,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}}),n=v(t),r=n.reject;try{e(n.resolve,r)}catch(e){r(e)}return t};o=T.prototype;var S=function(e,t,n,r){var a=!1;return function(i){a||(a=!0,t[e]=i,0==--r.count&&(0,n.resolve)(t))}};return m(T,{all:function(e){var t=this;if(!ye.TypeIsObject(t))throw new TypeError("Promise is not object");var r,a,i=new n(t);try{return function(e,t,n){for(var r,a,i=e.iterator,o=[],s={count:1},c=0;;){try{if(!1===(r=ye.IteratorStep(i))){e.done=!0;break}a=r.value}catch(t){throw e.done=!0,t}o[c]=void 0;var u=t.resolve(a),l=S(c,o,n,s);s.count+=1,b(u.then,u,l,n.reject),c+=1}0==--s.count&&(0,n.resolve)(o);return n.promise}(a={iterator:r=ye.GetIterator(e),done:!1},t,i)}catch(e){var o=e;if(a&&!a.done)try{ye.IteratorClose(r,!0)}catch(e){o=e}return(0,i.reject)(o),i.promise}},race:function(e){var t=this;if(!ye.TypeIsObject(t))throw new TypeError("Promise is not object");var r,a,i=new n(t);try{return function(e,t,n){for(var r,a,i,o=e.iterator;;){try{if(!1===(r=ye.IteratorStep(o))){e.done=!0;break}a=r.value}catch(t){throw e.done=!0,t}i=t.resolve(a),b(i.then,i,n.resolve,n.reject)}return n.promise}(a={iterator:r=ye.GetIterator(e),done:!1},t,i)}catch(e){var o=e;if(a&&!a.done)try{ye.IteratorClose(r,!0)}catch(e){o=e}return(0,i.reject)(o),i.promise}},reject:function(e){if(!ye.TypeIsObject(this))throw new TypeError("Bad promise constructor");var t=new n(this);return(0,t.reject)(e),t.promise},resolve:function(e){var t=this;if(!ye.TypeIsObject(t))throw new TypeError("Bad promise constructor");if(ye.IsPromise(e)&&e.constructor===t)return e;var r=new n(t);return(0,r.resolve)(e),r.promise}}),m(o,{catch:function(e){return this.then(null,e)},then:function(e,t){if(!ye.IsPromise(this))throw new TypeError("not a promise");var r,a=ye.SpeciesConstructor(this,T);r=arguments.length>2&&arguments[2]===f&&a===T?f:new n(a);var i,o=ye.IsCallable(e)?e:l,s=ye.IsCallable(t)?t:p,c=this._promise;if(0===c.state){if(0===c.reactionLength)c.fulfillReactionHandler0=o,c.rejectReactionHandler0=s,c.reactionCapability0=r;else{var u=3*(c.reactionLength-1);c[u+0]=o,c[u+1]=s,c[u+2]=r}c.reactionLength+=1}else if(1===c.state)i=c.result,d(o,r,i);else{if(2!==c.state)throw new TypeError("unexpected Promise state");i=c.result,d(s,r,i)}return r.promise}}),f=new n(T),s=o.then,T}}();if(j.Promise&&(delete j.Promise.accept,delete j.Promise.defer,delete j.Promise.prototype.chain),"function"==typeof Tn){m(j,{Promise:Tn});var Sn=O(j.Promise,function(e){return e.resolve(42).then(function(){})instanceof e}),xn=!o(function(){return j.Promise.reject(42).then(null,5).then(null,W)}),kn=o(function(){return j.Promise.call(3,W)}),On=function(e){var t=e.resolve(5);t.constructor={};var n=e.resolve(t);try{n.then(null,W).then(null,W)}catch(e){return!0}return t===n}(j.Promise),jn=u&&(bn=0,wn=Object.defineProperty({},"then",{get:function(){bn+=1}}),Promise.resolve(wn),1===bn),An=function e(t){var n=new Promise(t);t(3,function(){}),this.then=n.then,this.constructor=e};An.prototype=Promise.prototype,An.all=Promise.all;var Cn=s(function(){return!!An.all([1,2])});if(Sn&&xn&&kn&&!On&&jn&&!Cn||(Promise=Tn,se(j,"Promise",Tn)),1!==Promise.all.length){var En=Promise.all;se(Promise,"all",function(e){return ye.Call(En,this,arguments)})}if(1!==Promise.race.length){var _n=Promise.race;se(Promise,"race",function(e){return ye.Call(_n,this,arguments)})}if(1!==Promise.resolve.length){var Nn=Promise.resolve;se(Promise,"resolve",function(e){return ye.Call(Nn,this,arguments)})}if(1!==Promise.reject.length){var Pn=Promise.reject;se(Promise,"reject",function(e){return ye.Call(Pn,this,arguments)})}Ot(Promise,"all"),Ot(Promise,"race"),Ot(Promise,"resolve"),Ot(Promise,"reject"),Ee(Promise)}var In,Mn,Dn=function(e){var t=i(f(e,function(e,t){return e[t]=!0,e},{}));return e.join(":")===t.join(":")},Rn=Dn(["z","a","bb"]),Ln=Dn(["z",1,"a","3",2]);if(u){var Fn=function(e,t){return t||Rn?he(e)?"^"+ye.ToString(e):"string"==typeof e?"$"+e:"number"==typeof e?Ln?e:"n"+e:"boolean"==typeof e?"b"+e:null:null},qn=function(){return Object.create?Object.create(null):{}},Vn=function(e,t,n){if(a(n)||ae(n))p(n,function(e){if(!ye.TypeIsObject(e))throw new TypeError("Iterator value "+e+" is not an entry object");t.set(e[0],e[1])});else if(n instanceof e)r(e.prototype.forEach,n,function(e,n){t.set(n,e)});else{var i,o;if(!he(n)){if(o=t.set,!ye.IsCallable(o))throw new TypeError("bad map");i=ye.GetIterator(n)}if(void 0!==i)for(;;){var s=ye.IteratorStep(i);if(!1===s)break;var c=s.value;try{if(!ye.TypeIsObject(c))throw new TypeError("Iterator value "+c+" is not an entry object");r(o,t,c[0],c[1])}catch(e){throw ye.IteratorClose(i,!0),e}}}},Hn=function(e,t,n){if(a(n)||ae(n))p(n,function(e){t.add(e)});else if(n instanceof e)r(e.prototype.forEach,n,function(e){t.add(e)});else{var i,o;if(!he(n)){if(o=t.add,!ye.IsCallable(o))throw new TypeError("bad set");i=ye.GetIterator(n)}if(void 0!==i)for(;;){var s=ye.IteratorStep(i);if(!1===s)break;var c=s.value;try{r(o,t,c)}catch(e){throw ye.IteratorClose(i,!0),e}}}},zn={Map:function(){var e={},t=function(e,t){this.key=e,this.value=t,this.next=null,this.prev=null};t.prototype.isRemoved=function(){return this.key===e};var n,a=function(e,t){if(!ye.TypeIsObject(e)||!function(e){return!!e._es6map}(e))throw new TypeError("Method Map.prototype."+t+" called on incompatible receiver "+ye.ToString(e))},i=function(e,t){a(e,"[[MapIterator]]"),this.head=e._head,this.i=this.head,this.kind=t};_e(i.prototype={isMapIterator:!0,next:function(){if(!this.isMapIterator)throw new TypeError("Not a MapIterator");var e,t=this.i,n=this.kind,r=this.head;if(void 0===this.i)return Be();for(;t.isRemoved()&&t!==r;)t=t.prev;for(;t.next!==r;)if(!(t=t.next).isRemoved())return e="key"===n?t.key:"value"===n?t.value:[t.key,t.value],this.i=t,Be(e);return this.i=void 0,Be()}});var o=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires "new"');if(this&&this._es6map)throw new TypeError("Bad construction");var r=Pe(this,e,n,{_es6map:!0,_head:null,_map:$?new $:null,_size:0,_storage:qn()}),a=new t(null,null);return a.next=a.prev=a,r._head=a,arguments.length>0&&Vn(e,r,arguments[0]),r};return b(n=o.prototype,"size",function(){if(void 0===this._size)throw new TypeError("size method called on incompatible Map");return this._size}),m(n,{get:function(e){var t;a(this,"get");var n=Fn(e,!0);if(null!==n)return(t=this._storage[n])?t.value:void 0;if(this._map)return(t=U.call(this._map,e))?t.value:void 0;for(var r=this._head,i=r;(i=i.next)!==r;)if(ye.SameValueZero(i.key,e))return i.value},has:function(e){a(this,"has");var t=Fn(e,!0);if(null!==t)return void 0!==this._storage[t];if(this._map)return G.call(this._map,e);for(var n=this._head,r=n;(r=r.next)!==n;)if(ye.SameValueZero(r.key,e))return!0;return!1},set:function(e,n){a(this,"set");var r,i=this._head,o=i,s=Fn(e,!0);if(null!==s){if(void 0!==this._storage[s])return this._storage[s].value=n,this;r=this._storage[s]=new t(e,n),o=i.prev}else this._map&&(G.call(this._map,e)?U.call(this._map,e).value=n:(r=new t(e,n),X.call(this._map,e,r),o=i.prev));for(;(o=o.next)!==i;)if(ye.SameValueZero(o.key,e))return o.value=n,this;return r=r||new t(e,n),ye.SameValue(-0,e)&&(r.key=0),r.next=this._head,r.prev=this._head.prev,r.prev.next=r,r.next.prev=r,this._size+=1,this},delete:function(t){a(this,"delete");var n=this._head,r=n,i=Fn(t,!0);if(null!==i){if(void 0===this._storage[i])return!1;r=this._storage[i].prev,delete this._storage[i]}else if(this._map){if(!G.call(this._map,t))return!1;r=U.call(this._map,t).prev,B.call(this._map,t)}for(;(r=r.next)!==n;)if(ye.SameValueZero(r.key,t))return r.key=e,r.value=e,r.prev.next=r.next,r.next.prev=r.prev,this._size-=1,!0;return!1},clear:function(){a(this,"clear"),this._map=$?new $:null,this._size=0,this._storage=qn();for(var t=this._head,n=t,r=n.next;(n=r)!==t;)n.key=e,n.value=e,r=n.next,n.next=n.prev=t;t.next=t.prev=t},keys:function(){return a(this,"keys"),new i(this,"key")},values:function(){return a(this,"values"),new i(this,"value")},entries:function(){return a(this,"entries"),new i(this,"key+value")},forEach:function(e){a(this,"forEach");for(var t=arguments.length>1?arguments[1]:null,n=this.entries(),i=n.next();!i.done;i=n.next())t?r(e,t,i.value[1],i.value[0],this):e(i.value[1],i.value[0],this)}}),_e(n,n.entries),o}(),Set:function(){var e,t=function(e,t){if(!ye.TypeIsObject(e)||!function(e){return e._es6set&&void 0!==e._storage}(e))throw new TypeError("Set.prototype."+t+" called on incompatible receiver "+ye.ToString(e))},n=function t(){if(!(this instanceof t))throw new TypeError('Constructor Set requires "new"');if(this&&this._es6set)throw new TypeError("Bad construction");var n=Pe(this,t,e,{_es6set:!0,"[[SetData]]":null,_storage:qn()});if(!n._es6set)throw new TypeError("bad set");return arguments.length>0&&Hn(t,n,arguments[0]),n};e=n.prototype;var a=function(e){if(!e["[[SetData]]"]){var t=new zn.Map;e["[[SetData]]"]=t,p(i(e._storage),function(e){var n=function(e){var t=e;if("^null"===t)return null;if("^undefined"!==t){var n=t.charAt(0);return"$"===n?N(t,1):"n"===n?+N(t,1):"b"===n?"btrue"===t:+t}}(e);t.set(n,n)}),e["[[SetData]]"]=t}e._storage=null};b(n.prototype,"size",function(){return t(this,"size"),this._storage?i(this._storage).length:(a(this),this["[[SetData]]"].size)}),m(n.prototype,{has:function(e){var n;return t(this,"has"),this._storage&&null!==(n=Fn(e))?!!this._storage[n]:(a(this),this["[[SetData]]"].has(e))},add:function(e){var n;return t(this,"add"),this._storage&&null!==(n=Fn(e))?(this._storage[n]=!0,this):(a(this),this["[[SetData]]"].set(e,e),this)},delete:function(e){var n;if(t(this,"delete"),this._storage&&null!==(n=Fn(e))){var r=z(this._storage,n);return delete this._storage[n]&&r}return a(this),this["[[SetData]]"].delete(e)},clear:function(){t(this,"clear"),this._storage&&(this._storage=qn()),this["[[SetData]]"]&&this["[[SetData]]"].clear()},values:function(){return t(this,"values"),a(this),new o(this["[[SetData]]"].values())},entries:function(){return t(this,"entries"),a(this),new o(this["[[SetData]]"].entries())},forEach:function(e){t(this,"forEach");var n=arguments.length>1?arguments[1]:null,i=this;a(i),this["[[SetData]]"].forEach(function(t,a){n?r(e,n,a,a,i):e(a,a,i)})}}),y(n.prototype,"keys",n.prototype.values,!0),_e(n.prototype,n.prototype.values);var o=function(e){this.it=e};return o.prototype={isSetIterator:!0,next:function(){if(!this.isSetIterator)throw new TypeError("Not a SetIterator");return this.it.next()}},_e(o.prototype),n}()};if(j.Set&&!Set.prototype.delete&&Set.prototype.remove&&Set.prototype.items&&Set.prototype.map&&Array.isArray((new Set).keys)&&(j.Set=zn.Set),j.Map||j.Set){s(function(){return 2===new Map([[1,2]]).get(1)})||(j.Map=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires "new"');var t=new $;return arguments.length>0&&Vn(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,j.Map.prototype),t},j.Map.prototype=k($.prototype),y(j.Map.prototype,"constructor",j.Map,!0),x(j.Map,$));var Wn=new Map,$n=((Mn=new Map([[1,0],[2,0],[3,0],[4,0]])).set(-0,Mn),Mn.get(0)===Mn&&Mn.get(-0)===Mn&&Mn.has(0)&&Mn.has(-0)),Bn=Wn.set(1,2)===Wn;$n&&Bn||se(Map.prototype,"set",function(e,t){return r(X,this,0===e?0:e,t),this}),$n||(m(Map.prototype,{get:function(e){return r(U,this,0===e?0:e)},has:function(e){return r(G,this,0===e?0:e)}},!0),x(Map.prototype.get,U),x(Map.prototype.has,G));var Un=new Set,Gn=Set.prototype.delete&&Set.prototype.add&&Set.prototype.has&&((In=Un).delete(0),In.add(-0),!In.has(0)),Xn=Un.add(1)===Un;if(!Gn||!Xn){var Jn=Set.prototype.add;Set.prototype.add=function(e){return r(Jn,this,0===e?0:e),this},x(Set.prototype.add,Jn)}if(!Gn){var Yn=Set.prototype.has;Set.prototype.has=function(e){return r(Yn,this,0===e?0:e)},x(Set.prototype.has,Yn);var Kn=Set.prototype.delete;Set.prototype.delete=function(e){return r(Kn,this,0===e?0:e)},x(Set.prototype.delete,Kn)}var Zn=O(j.Map,function(e){var t=new e([]);return t.set(42,42),t instanceof e}),Qn=Object.setPrototypeOf&&!Zn,er=function(){try{return!(j.Map()instanceof j.Map)}catch(e){return e instanceof TypeError}}();0===j.Map.length&&!Qn&&er||(j.Map=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires "new"');var t=new $;return arguments.length>0&&Vn(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,e.prototype),t},j.Map.prototype=$.prototype,y(j.Map.prototype,"constructor",j.Map,!0),x(j.Map,$));var tr=O(j.Set,function(e){var t=new e([]);return t.add(42,42),t instanceof e}),nr=Object.setPrototypeOf&&!tr,rr=function(){try{return!(j.Set()instanceof j.Set)}catch(e){return e instanceof TypeError}}();if(0!==j.Set.length||nr||!rr){var ar=j.Set;j.Set=function e(){if(!(this instanceof e))throw new TypeError('Constructor Set requires "new"');var t=new ar;return arguments.length>0&&Hn(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,e.prototype),t},j.Set.prototype=ar.prototype,y(j.Set.prototype,"constructor",j.Set,!0),x(j.Set,ar)}var ir=new j.Map,or=!s(function(){return ir.keys().next().done});if(("function"!=typeof j.Map.prototype.clear||0!==(new j.Set).size||0!==ir.size||"function"!=typeof j.Map.prototype.keys||"function"!=typeof j.Set.prototype.keys||"function"!=typeof j.Map.prototype.forEach||"function"!=typeof j.Set.prototype.forEach||c(j.Map)||c(j.Set)||"function"!=typeof ir.keys().next||or||!Zn)&&m(j,{Map:zn.Map,Set:zn.Set},!0),j.Set.prototype.keys!==j.Set.prototype.values&&y(j.Set.prototype,"keys",j.Set.prototype.values,!0),_e(Object.getPrototypeOf((new j.Map).keys())),_e(Object.getPrototypeOf((new j.Set).keys())),l&&"has"!==j.Set.prototype.has.name){var sr=j.Set.prototype.has;se(j.Set.prototype,"has",function(e){return r(sr,this,e)})}}m(j,zn),Ee(j.Map),Ee(j.Set)}var cr=function(e){if(!ye.TypeIsObject(e))throw new TypeError("target must be an object")},ur={apply:function(){return ye.Call(ye.Call,null,arguments)},construct:function(e,t){if(!ye.IsConstructor(e))throw new TypeError("First argument must be a constructor.");var n=arguments.length>2?arguments[2]:e;if(!ye.IsConstructor(n))throw new TypeError("new.target must be a constructor.");return ye.Construct(e,t,n,"internal")},deleteProperty:function(e,t){if(cr(e),u){var n=Object.getOwnPropertyDescriptor(e,t);if(n&&!n.configurable)return!1}return delete e[t]},has:function(e,t){return cr(e),t in e}};Object.getOwnPropertyNames&&Object.assign(ur,{ownKeys:function(e){cr(e);var t=Object.getOwnPropertyNames(e);return ye.IsCallable(Object.getOwnPropertySymbols)&&I(t,Object.getOwnPropertySymbols(e)),t}});var lr=function(e){return!o(e)};if(Object.preventExtensions&&Object.assign(ur,{isExtensible:function(e){return cr(e),Object.isExtensible(e)},preventExtensions:function(e){return cr(e),lr(function(){return Object.preventExtensions(e)})}}),u){var pr=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e,t);if(!r){var a=Object.getPrototypeOf(e);if(null===a)return;return pr(a,t,n)}return"value"in r?r.value:r.get?ye.Call(r.get,n):void 0},fr=function(e,t,n,a){var i=Object.getOwnPropertyDescriptor(e,t);if(!i){var o=Object.getPrototypeOf(e);if(null!==o)return fr(o,t,n,a);i={value:void 0,writable:!0,enumerable:!0,configurable:!0}}return"value"in i?!!i.writable&&(!!ye.TypeIsObject(a)&&(Object.getOwnPropertyDescriptor(a,t)?pe.defineProperty(a,t,{value:n}):pe.defineProperty(a,t,{value:n,writable:!0,enumerable:!0,configurable:!0}))):!!i.set&&(r(i.set,a,n),!0)};Object.assign(ur,{defineProperty:function(e,t,n){return cr(e),lr(function(){return Object.defineProperty(e,t,n)})},getOwnPropertyDescriptor:function(e,t){return cr(e),Object.getOwnPropertyDescriptor(e,t)},get:function(e,t){cr(e);var n=arguments.length>2?arguments[2]:e;return pr(e,t,n)},set:function(e,t,n){cr(e);var r=arguments.length>3?arguments[3]:e;return fr(e,t,n,r)}})}if(Object.getPrototypeOf){var dr=Object.getPrototypeOf;ur.getPrototypeOf=function(e){return cr(e),dr(e)}}if(Object.setPrototypeOf&&ur.getPrototypeOf){Object.assign(ur,{setPrototypeOf:function(e,t){if(cr(e),null!==t&&!ye.TypeIsObject(t))throw new TypeError("proto must be an object or null");return t===pe.getPrototypeOf(e)||!(pe.isExtensible&&!pe.isExtensible(e))&&(!function(e,t){for(var n=t;n;){if(e===n)return!0;n=ur.getPrototypeOf(n)}return!1}(e,t)&&(Object.setPrototypeOf(e,t),!0))}})}Object.keys(ur).forEach(function(e){!function(e,t){ye.IsCallable(j.Reflect[e])?s(function(){return j.Reflect[e](1),j.Reflect[e](NaN),j.Reflect[e](!0),!0})&&se(j.Reflect,e,t):y(j.Reflect,e,t)}(e,ur[e])});var hr=j.Reflect.getPrototypeOf;if(l&&hr&&"getPrototypeOf"!==hr.name&&se(j.Reflect,"getPrototypeOf",function(e){return r(hr,j.Reflect,e)}),j.Reflect.setPrototypeOf&&s(function(){return j.Reflect.setPrototypeOf(1,{}),!0})&&se(j.Reflect,"setPrototypeOf",ur.setPrototypeOf),j.Reflect.defineProperty&&(s(function(){var e=!j.Reflect.defineProperty(1,"test",{value:1}),t="function"!=typeof Object.preventExtensions||!j.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return e&&t})||se(j.Reflect,"defineProperty",ur.defineProperty)),j.Reflect.construct&&(s(function(){var e=function(){};return j.Reflect.construct(function(){},[],e)instanceof e})||se(j.Reflect,"construct",ur.construct)),"Invalid Date"!==String(new Date(NaN))){var yr=Date.prototype.toString;se(Date.prototype,"toString",function(){var e=+this;return e!=e?"Invalid Date":ye.Call(yr,this)})}var mr={anchor:function(e){return ye.CreateHTML(this,"a","name",e)},big:function(){return ye.CreateHTML(this,"big","","")},blink:function(){return ye.CreateHTML(this,"blink","","")},bold:function(){return ye.CreateHTML(this,"b","","")},fixed:function(){return ye.CreateHTML(this,"tt","","")},fontcolor:function(e){return ye.CreateHTML(this,"font","color",e)},fontsize:function(e){return ye.CreateHTML(this,"font","size",e)},italics:function(){return ye.CreateHTML(this,"i","","")},link:function(e){return ye.CreateHTML(this,"a","href",e)},small:function(){return ye.CreateHTML(this,"small","","")},strike:function(){return ye.CreateHTML(this,"strike","","")},sub:function(){return ye.CreateHTML(this,"sub","","")},sup:function(){return ye.CreateHTML(this,"sup","","")}};p(Object.keys(mr),function(e){var t=String.prototype[e],n=!1;if(ye.IsCallable(t)){var a=r(t,"",' " '),i=_([],a.match(/"/g)).length;n=a!==a.toLowerCase()||i>2}else n=!0;n&&se(String.prototype,e,mr[e])});var gr=function(){if(!ce)return!1;var e="object"===("undefined"==typeof JSON?"undefined":_typeof(JSON))&&"function"==typeof JSON.stringify?JSON.stringify:null;if(!e)return!1;if(void 0!==e(J()))return!0;if("[null]"!==e([J()]))return!0;var t={a:J()};return t[J()]=!0,"{}"!==e(t)}(),vr=s(function(){return!ce||"{}"===JSON.stringify(Object(J()))&&"[{}]"===JSON.stringify([Object(J())])});if(gr||!vr){var br=JSON.stringify;se(JSON,"stringify",function(e){if("symbol"!==(void 0===e?"undefined":_typeof(e))){var t;arguments.length>1&&(t=arguments[1]);var n=[e];if(a(t))n.push(t);else{var i=ye.IsCallable(t)?t:null;n.push(function(e,t){var n=i?r(i,this,e,t):t;if("symbol"!==(void 0===n?"undefined":_typeof(n)))return oe(n)?At({})(n):n})}return arguments.length>2&&n.push(arguments[2]),br.apply(this,n)}})}return j},"function"==typeof define&&define.amd?define("es6-shim",factory):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=factory():root.returnExports=factory(),function(e,t){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){var n=[],r=Object.getPrototypeOf,a=n.slice,i=n.flat?function(e){return n.flat.call(e)}:function(e){return n.concat.apply([],e)},o=n.push,s=n.indexOf,c={},u=c.toString,l=c.hasOwnProperty,p=l.toString,f=p.call(Object),d={},h=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},y=function(e){return null!=e&&e===e.window},m=e.document,g={type:!0,src:!0,nonce:!0,noModule:!0};function v(e,t,n){var r,a,i=(n=n||m).createElement("script");if(i.text=e,t)for(r in g)(a=t[r]||t.getAttribute&&t.getAttribute(r))&&i.setAttribute(r,a);n.head.appendChild(i).parentNode.removeChild(i)}function b(e){return null==e?e+"":"object"===(void 0===e?"undefined":_typeof(e))||"function"==typeof e?c[u.call(e)]||"object":void 0===e?"undefined":_typeof(e)}var w=function e(t,n){return new e.fn.init(t,n)};function T(e){var t=!!e&&"length"in e&&e.length,n=b(e);return!h(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}w.fn=w.prototype={jquery:"3.5.1",constructor:w,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(w.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(w.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:n.sort,splice:n.splice},w.extend=w.fn.extend=function(){var e,t,n,r,a,i,o=arguments[0]||{},s=1,c=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[s]||{},s++),"object"===(void 0===o?"undefined":_typeof(o))||h(o)||(o={}),s===c&&(o=this,s--);s<c;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&o!==r&&(u&&r&&(w.isPlainObject(r)||(a=Array.isArray(r)))?(n=o[t],i=a&&!Array.isArray(n)?[]:a||w.isPlainObject(n)?n:{},a=!1,o[t]=w.extend(u,i,r)):void 0!==r&&(o[t]=r));return o},w.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==u.call(e))&&(!(t=r(e))||"function"==typeof(n=l.call(t,"constructor")&&t.constructor)&&p.call(n)===f)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){v(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(T(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(T(Object(e))?w.merge(n,"string"==typeof e?[e]:e):o.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:s.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,a=e.length;r<n;r++)e[a++]=t[r];return e.length=a,e},grep:function(e,t,n){for(var r=[],a=0,i=e.length,o=!n;a<i;a++)!t(e[a],a)!==o&&r.push(e[a]);return r},map:function(e,t,n){var r,a,o=0,s=[];if(T(e))for(r=e.length;o<r;o++)null!=(a=t(e[o],o,n))&&s.push(a);else for(o in e)null!=(a=t(e[o],o,n))&&s.push(a);return i(s)},guid:1,support:d}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=n[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){c["[object "+t+"]"]=t.toLowerCase()});var S=function(e){var t,n,r,a,i,o,s,c,u,l,p,f,d,h,y,m,g,v,b,w="sizzle"+1*new Date,T=e.document,S=0,x=0,k=ce(),O=ce(),j=ce(),A=ce(),C=function(e,t){return e===t&&(p=!0),0},E={}.hasOwnProperty,_=[],N=_.pop,P=_.push,I=_.push,M=_.slice,D=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",F="(?:\\\\[\\da-fA-F]{1,6}"+L+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",q="\\["+L+"*("+F+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+L+"*\\]",V=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+q+")*)|.*)\\)|)",H=new RegExp(L+"+","g"),z=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),W=new RegExp("^"+L+"*,"+L+"*"),$=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),B=new RegExp(L+"|>"),U=new RegExp(V),G=new RegExp("^"+F+"$"),X={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+q),PSEUDO:new RegExp("^"+V),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},J=/HTML$/i,Y=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+L+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ae=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){f()},oe=we(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{I.apply(_=M.call(T.childNodes),T.childNodes),_[T.childNodes.length].nodeType}catch(e){I={apply:_.length?function(e,t){P.apply(e,M.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function se(e,t,r,a){var i,s,u,l,p,h,g,v=t&&t.ownerDocument,T=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==T&&9!==T&&11!==T)return r;if(!a&&(f(t),t=t||d,y)){if(11!==T&&(p=Q.exec(e)))if(i=p[1]){if(9===T){if(!(u=t.getElementById(i)))return r;if(u.id===i)return r.push(u),r}else if(v&&(u=v.getElementById(i))&&b(t,u)&&u.id===i)return r.push(u),r}else{if(p[2])return I.apply(r,t.getElementsByTagName(e)),r;if((i=p[3])&&n.getElementsByClassName&&t.getElementsByClassName)return I.apply(r,t.getElementsByClassName(i)),r}if(n.qsa&&!A[e+" "]&&(!m||!m.test(e))&&(1!==T||"object"!==t.nodeName.toLowerCase())){if(g=e,v=t,1===T&&(B.test(e)||$.test(e))){for((v=ee.test(e)&&ge(t.parentNode)||t)===t&&n.scope||((l=t.getAttribute("id"))?l=l.replace(re,ae):t.setAttribute("id",l=w)),s=(h=o(e)).length;s--;)h[s]=(l?"#"+l:":scope")+" "+be(h[s]);g=h.join(",")}try{return I.apply(r,v.querySelectorAll(g)),r}catch(t){A(e,!0)}finally{l===w&&t.removeAttribute("id")}}}return c(e.replace(z,"$1"),t,r,a)}function ce(){var e=[];return function t(n,a){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=a}}function ue(e){return e[w]=!0,e}function le(e){var t=d.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function pe(e,t){for(var n=e.split("|"),a=n.length;a--;)r.attrHandle[n[a]]=t}function fe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ye(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&oe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function me(e){return ue(function(t){return t=+t,ue(function(n,r){for(var a,i=e([],n.length,t),o=i.length;o--;)n[a=i[o]]&&(n[a]=!(r[a]=n[a]))})})}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},i=se.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!J.test(t||n&&n.nodeName||"HTML")},f=se.setDocument=function(e){var t,a,o=e?e.ownerDocument||e:T;return o!=d&&9===o.nodeType&&o.documentElement?(h=(d=o).documentElement,y=!i(d),T!=d&&(a=d.defaultView)&&a.top!==a&&(a.addEventListener?a.addEventListener("unload",ie,!1):a.attachEvent&&a.attachEvent("onunload",ie)),n.scope=le(function(e){return h.appendChild(e).appendChild(d.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),n.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=le(function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Z.test(d.getElementsByClassName),n.getById=le(function(e){return h.appendChild(e).id=w,!d.getElementsByName||!d.getElementsByName(w).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&y){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&y){var n,r,a,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(a=t.getElementsByName(e),r=0;i=a[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],a=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[a++];)1===n.nodeType&&r.push(n);return r}return i},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&y)return t.getElementsByClassName(e)},g=[],m=[],(n.qsa=Z.test(d.querySelectorAll))&&(le(function(e){var t;h.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+L+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+L+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+w+"-]").length||m.push("~="),(t=d.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||m.push("\\["+L+"*name"+L+"*="+L+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]"),e.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+L+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=Z.test(v=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&le(function(e){n.disconnectedMatch=v.call(e,"*"),v.call(e,"[s!='']:x"),g.push("!=",V)}),m=m.length&&new RegExp(m.join("|")),g=g.length&&new RegExp(g.join("|")),t=Z.test(h.compareDocumentPosition),b=t||Z.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},C=t?function(e,t){if(e===t)return p=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e==d||e.ownerDocument==T&&b(T,e)?-1:t==d||t.ownerDocument==T&&b(T,t)?1:l?D(l,e)-D(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return p=!0,0;var n,r=0,a=e.parentNode,i=t.parentNode,o=[e],s=[t];if(!a||!i)return e==d?-1:t==d?1:a?-1:i?1:l?D(l,e)-D(l,t):0;if(a===i)return fe(e,t);for(n=e;n=n.parentNode;)o.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;o[r]===s[r];)r++;return r?fe(o[r],s[r]):o[r]==T?-1:s[r]==T?1:0},d):d},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(f(e),n.matchesSelector&&y&&!A[t+" "]&&(!g||!g.test(t))&&(!m||!m.test(t)))try{var r=v.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){A(t,!0)}return se(t,d,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!=d&&f(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=d&&f(e);var a=r.attrHandle[t.toLowerCase()],i=a&&E.call(r.attrHandle,t.toLowerCase())?a(e,t,!y):void 0;return void 0!==i?i:n.attributes||!y?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},se.escape=function(e){return(e+"").replace(re,ae)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,r=[],a=0,i=0;if(p=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(C),p){for(;t=e[i++];)t===e[i]&&(a=r.push(i));for(;a--;)e.splice(r[a],1)}return l=null,e},a=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=a(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=a(t);return n},(r=se.selectors={cacheLength:50,createPseudo:ue,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&U.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=k[e+" "];return t||(t=new RegExp("(^|"+L+")"+e+"("+L+"|$)"))&&k(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var a=se.attr(r,e);return null==a?"!="===t:!t||(a+="","="===t?a===n:"!="===t?a!==n:"^="===t?n&&0===a.indexOf(n):"*="===t?n&&a.indexOf(n)>-1:"$="===t?n&&a.slice(-n.length)===n:"~="===t?(" "+a.replace(H," ")+" ").indexOf(n)>-1:"|="===t&&(a===n||a.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,a){var i="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===a?function(e){return!!e.parentNode}:function(t,n,c){var u,l,p,f,d,h,y=i!==o?"nextSibling":"previousSibling",m=t.parentNode,g=s&&t.nodeName.toLowerCase(),v=!c&&!s,b=!1;if(m){if(i){for(;y;){for(f=t;f=f[y];)if(s?f.nodeName.toLowerCase()===g:1===f.nodeType)return!1;h=y="only"===e&&!h&&"nextSibling"}return!0}if(h=[o?m.firstChild:m.lastChild],o&&v){for(b=(d=(u=(l=(p=(f=m)[w]||(f[w]={}))[f.uniqueID]||(p[f.uniqueID]={}))[e]||[])[0]===S&&u[1])&&u[2],f=d&&m.childNodes[d];f=++d&&f&&f[y]||(b=d=0)||h.pop();)if(1===f.nodeType&&++b&&f===t){l[e]=[S,d,b];break}}else if(v&&(b=d=(u=(l=(p=(f=t)[w]||(f[w]={}))[f.uniqueID]||(p[f.uniqueID]={}))[e]||[])[0]===S&&u[1]),!1===b)for(;(f=++d&&f&&f[y]||(b=d=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==g:1!==f.nodeType)||!++b||(v&&((l=(p=f[w]||(f[w]={}))[f.uniqueID]||(p[f.uniqueID]={}))[e]=[S,b]),f!==t)););return(b-=a)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,a=r.pseudos[e]||r.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[w]?a(t):a.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ue(function(e,n){for(var r,i=a(e,t),o=i.length;o--;)e[r=D(e,i[o])]=!(n[r]=i[o])}):function(e){return a(e,0,n)}):a}},pseudos:{not:ue(function(e){var t=[],n=[],r=s(e.replace(z,"$1"));return r[w]?ue(function(e,t,n,a){for(var i,o=r(e,null,a,[]),s=e.length;s--;)(i=o[s])&&(e[s]=!(t[s]=i))}):function(e,a,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}}),has:ue(function(e){return function(t){return se(e,t).length>0}}),contains:ue(function(e){return e=e.replace(te,ne),function(t){return(t.textContent||a(t)).indexOf(e)>-1}}),lang:ue(function(e){return G.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=y?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ye(!1),disabled:ye(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:me(function(){return[0]}),last:me(function(e,t){return[t-1]}),eq:me(function(e,t,n){return[n<0?n+t:n]}),even:me(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:me(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:me(function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e}),gt:me(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=de(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=he(t);function ve(){}function be(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function we(e,t,n){var r=t.dir,a=t.next,i=a||r,o=n&&"parentNode"===i,s=x++;return t.first?function(t,n,a){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,a);return!1}:function(t,n,c){var u,l,p,f=[S,s];if(c){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,c))return!0}else for(;t=t[r];)if(1===t.nodeType||o)if(l=(p=t[w]||(t[w]={}))[t.uniqueID]||(p[t.uniqueID]={}),a&&a===t.nodeName.toLowerCase())t=t[r]||t;else{if((u=l[i])&&u[0]===S&&u[1]===s)return f[2]=u[2];if(l[i]=f,f[2]=e(t,n,c))return!0}return!1}}function Te(e){return e.length>1?function(t,n,r){for(var a=e.length;a--;)if(!e[a](t,n,r))return!1;return!0}:e[0]}function Se(e,t,n,r,a){for(var i,o=[],s=0,c=e.length,u=null!=t;s<c;s++)(i=e[s])&&(n&&!n(i,r,a)||(o.push(i),u&&t.push(s)));return o}function xe(e,t,n,r,a,i){return r&&!r[w]&&(r=xe(r)),a&&!a[w]&&(a=xe(a,i)),ue(function(i,o,s,c){var u,l,p,f=[],d=[],h=o.length,y=i||function(e,t,n){for(var r=0,a=t.length;r<a;r++)se(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),m=!e||!i&&t?y:Se(y,f,e,s,c),g=n?a||(i?e:h||r)?[]:o:m;if(n&&n(m,g,s,c),r)for(u=Se(g,d),r(u,[],s,c),l=u.length;l--;)(p=u[l])&&(g[d[l]]=!(m[d[l]]=p));if(i){if(a||e){if(a){for(u=[],l=g.length;l--;)(p=g[l])&&u.push(m[l]=p);a(null,g=[],u,c)}for(l=g.length;l--;)(p=g[l])&&(u=a?D(i,p):f[l])>-1&&(i[u]=!(o[u]=p))}}else g=Se(g===o?g.splice(h,g.length):g),a?a(null,o,g,c):I.apply(o,g)})}function ke(e){for(var t,n,a,i=e.length,o=r.relative[e[0].type],s=o||r.relative[" "],c=o?1:0,l=we(function(e){return e===t},s,!0),p=we(function(e){return D(t,e)>-1},s,!0),f=[function(e,n,r){var a=!o&&(r||n!==u)||((t=n).nodeType?l(e,n,r):p(e,n,r));return t=null,a}];c<i;c++)if(n=r.relative[e[c].type])f=[we(Te(f),n)];else{if((n=r.filter[e[c].type].apply(null,e[c].matches))[w]){for(a=++c;a<i&&!r.relative[e[a].type];a++);return xe(c>1&&Te(f),c>1&&be(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(z,"$1"),n,c<a&&ke(e.slice(c,a)),a<i&&ke(e=e.slice(a)),a<i&&be(e))}f.push(n)}return Te(f)}return ve.prototype=r.filters=r.pseudos,r.setFilters=new ve,o=se.tokenize=function(e,t){var n,a,i,o,s,c,u,l=O[e+" "];if(l)return t?0:l.slice(0);for(s=e,c=[],u=r.preFilter;s;){for(o in n&&!(a=W.exec(s))||(a&&(s=s.slice(a[0].length)||s),c.push(i=[])),n=!1,(a=$.exec(s))&&(n=a.shift(),i.push({value:n,type:a[0].replace(z," ")}),s=s.slice(n.length)),r.filter)!(a=X[o].exec(s))||u[o]&&!(a=u[o](a))||(n=a.shift(),i.push({value:n,type:o,matches:a}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):O(e,c).slice(0)},s=se.compile=function(e,t){var n,a=[],i=[],s=j[e+" "];if(!s){for(t||(t=o(e)),n=t.length;n--;)(s=ke(t[n]))[w]?a.push(s):i.push(s);(s=j(e,function(e,t){var n=t.length>0,a=e.length>0,i=function(i,o,s,c,l){var p,h,m,g=0,v="0",b=i&&[],w=[],T=u,x=i||a&&r.find.TAG("*",l),k=S+=null==T?1:Math.random()||.1,O=x.length;for(l&&(u=o==d||o||l);v!==O&&null!=(p=x[v]);v++){if(a&&p){for(h=0,o||p.ownerDocument==d||(f(p),s=!y);m=e[h++];)if(m(p,o||d,s)){c.push(p);break}l&&(S=k)}n&&((p=!m&&p)&&g--,i&&b.push(p))}if(g+=v,n&&v!==g){for(h=0;m=t[h++];)m(b,w,o,s);if(i){if(g>0)for(;v--;)b[v]||w[v]||(w[v]=N.call(c));w=Se(w)}I.apply(c,w),l&&!i&&w.length>0&&g+t.length>1&&se.uniqueSort(c)}return l&&(S=k,u=T),b};return n?ue(i):i}(i,a))).selector=e}return s},c=se.select=function(e,t,n,a){var i,c,u,l,p,f="function"==typeof e&&e,d=!a&&o(e=f.selector||e);if(n=n||[],1===d.length){if((c=d[0]=d[0].slice(0)).length>2&&"ID"===(u=c[0]).type&&9===t.nodeType&&y&&r.relative[c[1].type]){if(!(t=(r.find.ID(u.matches[0].replace(te,ne),t)||[])[0]))return n;f&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(i=X.needsContext.test(e)?0:c.length;i--&&(u=c[i],!r.relative[l=u.type]);)if((p=r.find[l])&&(a=p(u.matches[0].replace(te,ne),ee.test(c[0].type)&&ge(t.parentNode)||t))){if(c.splice(i,1),!(e=a.length&&be(c)))return I.apply(n,a),n;break}}return(f||s(e,d))(a,t,!y,n,!t||ee.test(e)&&ge(t.parentNode)||t),n},n.sortStable=w.split("").sort(C).join("")===w,n.detectDuplicates=!!p,f(),n.sortDetached=le(function(e){return 1&e.compareDocumentPosition(d.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||pe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||pe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||pe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(e);w.find=S,w.expr=S.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=S.uniqueSort,w.text=S.getText,w.isXMLDoc=S.isXML,w.contains=S.contains,w.escapeSelector=S.escape;var x=function(e,t,n){for(var r=[],a=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(a&&w(e).is(n))break;r.push(e)}return r},k=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},O=w.expr.match.needsContext;function j(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function C(e,t,n){return h(t)?w.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?w.grep(e,function(e){return e===t!==n}):"string"!=typeof t?w.grep(e,function(e){return s.call(t,e)>-1!==n}):w.filter(t,e,n)}w.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},w.fn.extend({find:function(e){var t,n,r=this.length,a=this;if("string"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;t<r;t++)if(w.contains(a[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)w.find(e,a[t],n);return r>1?w.uniqueSort(n):n},filter:function(e){return this.pushStack(C(this,e||[],!1))},not:function(e){return this.pushStack(C(this,e||[],!0))},is:function(e){return!!C(this,"string"==typeof e&&O.test(e)?w(e):e||[],!1).length}});var E,_=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,n){var r,a;if(!e)return this;if(n=n||E,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:_.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:m,!0)),A.test(r[1])&&w.isPlainObject(t))for(r in t)h(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(a=m.getElementById(r[2]))&&(this[0]=a,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):h(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,E=w(m);var N=/^(?:parents|prev(?:Until|All))/,P={children:!0,contents:!0,next:!0,prev:!0};function I(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}w.fn.extend({has:function(e){var t=w(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(w.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,a=this.length,i=[],o="string"!=typeof e&&w(e);if(!O.test(e))for(;r<a;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?w.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?s.call(w(e),this[0]):s.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return x(e,"parentNode")},parentsUntil:function(e,t,n){return x(e,"parentNode",n)},next:function(e){return I(e,"nextSibling")},prev:function(e){return I(e,"previousSibling")},nextAll:function(e){return x(e,"nextSibling")},prevAll:function(e){return x(e,"previousSibling")},nextUntil:function(e,t,n){return x(e,"nextSibling",n)},prevUntil:function(e,t,n){return x(e,"previousSibling",n)},siblings:function(e){return k((e.parentNode||{}).firstChild,e)},children:function(e){return k(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(j(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},function(e,t){w.fn[e]=function(n,r){var a=w.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(a=w.filter(r,a)),this.length>1&&(P[e]||w.uniqueSort(a),N.test(e)&&a.reverse()),this.pushStack(a)}});var M=/[^\x20\t\r\n\f]+/g;function D(e){return e}function R(e){throw e}function L(e,t,n,r){var a;try{e&&h(a=e.promise)?a.call(e).done(t).fail(n):e&&h(a=e.then)?a.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}w.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return w.each(e.match(M)||[],function(e,n){t[n]=!0}),t}(e):w.extend({},e);var t,n,r,a,i=[],o=[],s=-1,c=function(){for(a=a||e.once,r=t=!0;o.length;s=-1)for(n=o.shift();++s<i.length;)!1===i[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=i.length,n=!1);e.memory||(n=!1),t=!1,a&&(i=n?[]:"")},u={add:function(){return i&&(n&&!t&&(s=i.length-1,o.push(n)),function t(n){w.each(n,function(n,r){h(r)?e.unique&&u.has(r)||i.push(r):r&&r.length&&"string"!==b(r)&&t(r)})}(arguments),n&&!t&&c()),this},remove:function(){return w.each(arguments,function(e,t){for(var n;(n=w.inArray(t,i,n))>-1;)i.splice(n,1),n<=s&&s--}),this},has:function(e){return e?w.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return a=o=[],i=n="",this},disabled:function(){return!i},lock:function(){return a=o=[],n||t||(i=n=""),this},locked:function(){return!!a},fireWith:function(e,n){return a||(n=[e,(n=n||[]).slice?n.slice():n],o.push(n),t||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},w.extend({Deferred:function(t){var n=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],r="pending",a={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var e=arguments;return w.Deferred(function(t){w.each(n,function(n,r){var a=h(e[r[4]])&&e[r[4]];i[r[1]](function(){var e=a&&a.apply(this,arguments);e&&h(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,a?[e]:arguments)})}),e=null}).promise()},then:function(t,r,a){var i=0;function o(t,n,r,a){return function(){var s=this,c=arguments,u=function(){var e,u;if(!(t<i)){if((e=r.apply(s,c))===n.promise())throw new TypeError("Thenable self-resolution");u=e&&("object"===(void 0===e?"undefined":_typeof(e))||"function"==typeof e)&&e.then,h(u)?a?u.call(e,o(i,n,D,a),o(i,n,R,a)):(i++,u.call(e,o(i,n,D,a),o(i,n,R,a),o(i,n,D,n.notifyWith))):(r!==D&&(s=void 0,c=[e]),(a||n.resolveWith)(s,c))}},l=a?u:function(){try{u()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,l.stackTrace),t+1>=i&&(r!==R&&(s=void 0,c=[e]),n.rejectWith(s,c))}};t?l():(w.Deferred.getStackHook&&(l.stackTrace=w.Deferred.getStackHook()),e.setTimeout(l))}}return w.Deferred(function(e){n[0][3].add(o(0,e,h(a)?a:D,e.notifyWith)),n[1][3].add(o(0,e,h(t)?t:D)),n[2][3].add(o(0,e,h(r)?r:R))}).promise()},promise:function(e){return null!=e?w.extend(e,a):a}},i={};return w.each(n,function(e,t){var o=t[2],s=t[5];a[t[1]]=o.add,s&&o.add(function(){r=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),o.add(t[3].fire),i[t[0]]=function(){return i[t[0]+"With"](this===i?void 0:this,arguments),this},i[t[0]+"With"]=o.fireWith}),a.promise(i),t&&t.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),i=a.call(arguments),o=w.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?a.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(L(e,o.done(s(n)).resolve,o.reject,!t),"pending"===o.state()||h(i[n]&&i[n].then)))return o.then();for(;n--;)L(i[n],s(n),o.reject);return o.promise()}});var F=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&F.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},w.readyException=function(t){e.setTimeout(function(){throw t})};var q=w.Deferred();function V(){m.removeEventListener("DOMContentLoaded",V),e.removeEventListener("load",V),w.ready()}w.fn.ready=function(e){return q.then(e).catch(function(e){w.readyException(e)}),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||q.resolveWith(m,[w]))}}),w.ready.then=q.then,"complete"===m.readyState||"loading"!==m.readyState&&!m.documentElement.doScroll?e.setTimeout(w.ready):(m.addEventListener("DOMContentLoaded",V),e.addEventListener("load",V));var H=function e(t,n,r,a,i,o,s){var c=0,u=t.length,l=null==r;if("object"===b(r))for(c in i=!0,r)e(t,n,c,r[c],!0,o,s);else if(void 0!==a&&(i=!0,h(a)||(s=!0),l&&(s?(n.call(t,a),n=null):(l=n,n=function(e,t,n){return l.call(w(e),n)})),n))for(;c<u;c++)n(t[c],r,s?a:a.call(t[c],c,n(t[c],r)));return i?t:l?n.call(t):u?n(t[0],r):o},z=/^-ms-/,W=/-([a-z])/g;function $(e,t){return t.toUpperCase()}function B(e){return e.replace(z,"ms-").replace(W,$)}var U=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=w.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},U(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,a=this.cache(e);if("string"==typeof t)a[B(t)]=n;else for(r in t)a[B(r)]=t[r];return a},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][B(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(B):(t=B(t))in r?[t]:t.match(M)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||w.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var X=new G,J=new G,Y=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Y.test(e)?JSON.parse(e):e)}(n)}catch(e){}J.set(e,t,n)}else n=void 0;return n}w.extend({hasData:function(e){return J.hasData(e)||X.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return X.access(e,t,n)},_removeData:function(e,t){X.remove(e,t)}}),w.fn.extend({data:function(e,t){var n,r,a,i=this[0],o=i&&i.attributes;if(void 0===e){if(this.length&&(a=J.get(i),1===i.nodeType&&!X.get(i,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&0===(r=o[n].name).indexOf("data-")&&(r=B(r.slice(5)),Z(i,r,a[r]));X.set(i,"hasDataAttrs",!0)}return a}return"object"===(void 0===e?"undefined":_typeof(e))?this.each(function(){J.set(this,e)}):H(this,function(t){var n;if(i&&void 0===t)return void 0!==(n=J.get(i,e))?n:void 0!==(n=Z(i,e))?n:void 0;this.each(function(){J.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){J.remove(this,e)})}}),w.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=X.get(e,t),n&&(!r||Array.isArray(n)?r=X.access(e,t,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),r=n.length,a=n.shift(),i=w._queueHooks(e,t);"inprogress"===a&&(a=n.shift(),r--),a&&("fx"===t&&n.unshift("inprogress"),delete i.stop,a.call(e,function(){w.dequeue(e,t)},i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return X.get(e,n)||X.access(e,n,{empty:w.Callbacks("once memory").add(function(){X.remove(e,[t+"queue",n])})})}}),w.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?w.queue(this[0],e):void 0===t?this:this.each(function(){var n=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,a=w.Deferred(),i=this,o=this.length,s=function(){--r||a.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(n=X.get(i[o],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),a.promise(t)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ee=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),te=["Top","Right","Bottom","Left"],ne=m.documentElement,re=function(e){return w.contains(e.ownerDocument,e)},ae={composed:!0};ne.getRootNode&&(re=function(e){return w.contains(e.ownerDocument,e)||e.getRootNode(ae)===e.ownerDocument});var ie=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&re(e)&&"none"===w.css(e,"display")};function oe(e,t,n,r){var a,i,o=20,s=r?function(){return r.cur()}:function(){return w.css(e,t,"")},c=s(),u=n&&n[3]||(w.cssNumber[t]?"":"px"),l=e.nodeType&&(w.cssNumber[t]||"px"!==u&&+c)&&ee.exec(w.css(e,t));if(l&&l[3]!==u){for(c/=2,u=u||l[3],l=+c||1;o--;)w.style(e,t,l+u),(1-i)*(1-(i=s()/c||.5))<=0&&(o=0),l/=i;l*=2,w.style(e,t,l+u),n=n||[]}return n&&(l=+l||+c||0,a=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=l,r.end=a)),a}var se={};function ce(e){var t,n=e.ownerDocument,r=e.nodeName,a=se[r];return a||(t=n.body.appendChild(n.createElement(r)),a=w.css(t,"display"),t.parentNode.removeChild(t),"none"===a&&(a="block"),se[r]=a,a)}function ue(e,t){for(var n,r,a=[],i=0,o=e.length;i<o;i++)(r=e[i]).style&&(n=r.style.display,t?("none"===n&&(a[i]=X.get(r,"display")||null,a[i]||(r.style.display="")),""===r.style.display&&ie(r)&&(a[i]=ce(r))):"none"!==n&&(a[i]="none",X.set(r,"display",n)));for(i=0;i<o;i++)null!=a[i]&&(e[i].style.display=a[i]);return e}w.fn.extend({show:function(){return ue(this,!0)},hide:function(){return ue(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ie(this)?w(this).show():w(this).hide()})}});var le,pe,fe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;le=m.createDocumentFragment().appendChild(m.createElement("div")),(pe=m.createElement("input")).setAttribute("type","radio"),pe.setAttribute("checked","checked"),pe.setAttribute("name","t"),le.appendChild(pe),d.checkClone=le.cloneNode(!0).cloneNode(!0).lastChild.checked,le.innerHTML="<textarea>x</textarea>",d.noCloneChecked=!!le.cloneNode(!0).lastChild.defaultValue,le.innerHTML="<option></option>",d.option=!!le.lastChild;var ye={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function me(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&j(e,t)?w.merge([e],n):n}function ge(e,t){for(var n=0,r=e.length;n<r;n++)X.set(e[n],"globalEval",!t||X.get(t[n],"globalEval"))}ye.tbody=ye.tfoot=ye.colgroup=ye.caption=ye.thead,ye.th=ye.td,d.option||(ye.optgroup=ye.option=[1,"<select multiple='multiple'>","</select>"]);var ve=/<|&#?\w+;/;function be(e,t,n,r,a){for(var i,o,s,c,u,l,p=t.createDocumentFragment(),f=[],d=0,h=e.length;d<h;d++)if((i=e[d])||0===i)if("object"===b(i))w.merge(f,i.nodeType?[i]:i);else if(ve.test(i)){for(o=o||p.appendChild(t.createElement("div")),s=(de.exec(i)||["",""])[1].toLowerCase(),c=ye[s]||ye._default,o.innerHTML=c[1]+w.htmlPrefilter(i)+c[2],l=c[0];l--;)o=o.lastChild;w.merge(f,o.childNodes),(o=p.firstChild).textContent=""}else f.push(t.createTextNode(i));for(p.textContent="",d=0;i=f[d++];)if(r&&w.inArray(i,r)>-1)a&&a.push(i);else if(u=re(i),o=me(p.appendChild(i),"script"),u&&ge(o),n)for(l=0;i=o[l++];)he.test(i.type||"")&&n.push(i);return p}var we=/^key/,Te=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Se=/^([^.]*)(?:\.(.+)|)/;function xe(){return!0}function ke(){return!1}function Oe(e,t){return e===function(){try{return m.activeElement}catch(e){}}()==("focus"===t)}function je(e,t,n,r,a,i){var o,s;if("object"===(void 0===t?"undefined":_typeof(t))){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)je(e,s,n,r,t[s],i);return e}if(null==r&&null==a?(a=n,r=n=void 0):null==a&&("string"==typeof n?(a=r,r=void 0):(a=r,r=n,n=void 0)),!1===a)a=ke;else if(!a)return e;return 1===i&&(o=a,(a=function(e){return w().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=w.guid++)),e.each(function(){w.event.add(this,t,a,r,n)})}function Ae(e,t,n){n?(X.set(e,t,!1),w.event.add(e,t,{namespace:!1,handler:function(e){var r,i,o=X.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(w.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=a.call(arguments),X.set(this,t,o),r=n(this,t),this[t](),o!==(i=X.get(this,t))||r?X.set(this,t,!1):i={},o!==i)return e.stopImmediatePropagation(),e.preventDefault(),i.value}else o.length&&(X.set(this,t,{value:w.event.trigger(w.extend(o[0],w.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===X.get(e,t)&&w.event.add(e,t,xe)}w.event={global:{},add:function(e,t,n,r,a){var i,o,s,c,u,l,p,f,d,h,y,m=X.get(e);if(U(e))for(n.handler&&(n=(i=n).handler,a=i.selector),a&&w.find.matchesSelector(ne,a),n.guid||(n.guid=w.guid++),(c=m.events)||(c=m.events=Object.create(null)),(o=m.handle)||(o=m.handle=function(t){return void 0!==w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(M)||[""]).length;u--;)d=y=(s=Se.exec(t[u])||[])[1],h=(s[2]||"").split(".").sort(),d&&(p=w.event.special[d]||{},d=(a?p.delegateType:p.bindType)||d,p=w.event.special[d]||{},l=w.extend({type:d,origType:y,data:r,handler:n,guid:n.guid,selector:a,needsContext:a&&w.expr.match.needsContext.test(a),namespace:h.join(".")},i),(f=c[d])||((f=c[d]=[]).delegateCount=0,p.setup&&!1!==p.setup.call(e,r,h,o)||e.addEventListener&&e.addEventListener(d,o)),p.add&&(p.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),a?f.splice(f.delegateCount++,0,l):f.push(l),w.event.global[d]=!0)},remove:function(e,t,n,r,a){var i,o,s,c,u,l,p,f,d,h,y,m=X.hasData(e)&&X.get(e);if(m&&(c=m.events)){for(u=(t=(t||"").match(M)||[""]).length;u--;)if(d=y=(s=Se.exec(t[u])||[])[1],h=(s[2]||"").split(".").sort(),d){for(p=w.event.special[d]||{},f=c[d=(r?p.delegateType:p.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=i=f.length;i--;)l=f[i],!a&&y!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(f.splice(i,1),l.selector&&f.delegateCount--,p.remove&&p.remove.call(e,l));o&&!f.length&&(p.teardown&&!1!==p.teardown.call(e,h,m.handle)||w.removeEvent(e,d,m.handle),delete c[d])}else for(d in c)w.event.remove(e,d+t[u],n,r,!0);w.isEmptyObject(c)&&X.remove(e,"handle events")}},dispatch:function(e){var t,n,r,a,i,o,s=new Array(arguments.length),c=w.event.fix(e),u=(X.get(this,"events")||Object.create(null))[c.type]||[],l=w.event.special[c.type]||{};for(s[0]=c,t=1;t<arguments.length;t++)s[t]=arguments[t];if(c.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,c)){for(o=w.event.handlers.call(this,c,u),t=0;(a=o[t++])&&!c.isPropagationStopped();)for(c.currentTarget=a.elem,n=0;(i=a.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==i.namespace&&!c.rnamespace.test(i.namespace)||(c.handleObj=i,c.data=i.data,void 0!==(r=((w.event.special[i.origType]||{}).handle||i.handler).apply(a.elem,s))&&!1===(c.result=r)&&(c.preventDefault(),c.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,c),c.result}},handlers:function(e,t){var n,r,a,i,o,s=[],c=t.delegateCount,u=e.target;if(c&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(i=[],o={},n=0;n<c;n++)void 0===o[a=(r=t[n]).selector+" "]&&(o[a]=r.needsContext?w(a,this).index(u)>-1:w.find(a,this,null,[u]).length),o[a]&&i.push(r);i.length&&s.push({elem:u,handlers:i})}return u=this,c<t.length&&s.push({elem:u,handlers:t.slice(c)}),s},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:h(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return fe.test(t.type)&&t.click&&j(t,"input")&&Ae(t,"click",xe),!1},trigger:function(e){var t=this||e;return fe.test(t.type)&&t.click&&j(t,"input")&&Ae(t,"click"),!0},_default:function(e){var t=e.target;return fe.test(t.type)&&t.click&&j(t,"input")&&X.get(t,"click")||j(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?xe:ke,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:ke,isPropagationStopped:ke,isImmediatePropagationStopped:ke,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=xe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=xe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=xe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&we.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Te.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},function(e,t){w.event.special[e]={setup:function(){return Ae(this,e,Oe),!1},trigger:function(){return Ae(this,e),!0},delegateType:t}}),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,a=e.handleObj;return r&&(r===this||w.contains(this,r))||(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),w.fn.extend({on:function(e,t,n,r){return je(this,e,t,n,r)},one:function(e,t,n,r){return je(this,e,t,n,r,1)},off:function(e,t,n){var r,a;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,w(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"===(void 0===e?"undefined":_typeof(e))){for(a in e)this.off(a,t,e[a]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ke),this.each(function(){w.event.remove(this,e,n,t)})}});var Ce=/<script|<style|<link/i,Ee=/checked\s*(?:[^=]|=\s*.checked.)/i,_e=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ne(e,t){return j(e,"table")&&j(11!==t.nodeType?t:t.firstChild,"tr")&&w(e).children("tbody")[0]||e}function Pe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ie(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Me(e,t){var n,r,a,i,o,s;if(1===t.nodeType){if(X.hasData(e)&&(s=X.get(e).events))for(a in X.remove(t,"handle events"),s)for(n=0,r=s[a].length;n<r;n++)w.event.add(t,a,s[a][n]);J.hasData(e)&&(i=J.access(e),o=w.extend({},i),J.set(t,o))}}function De(e,t,n,r){t=i(t);var a,o,s,c,u,l,p=0,f=e.length,y=f-1,m=t[0],g=h(m);if(g||f>1&&"string"==typeof m&&!d.checkClone&&Ee.test(m))return e.each(function(a){var i=e.eq(a);g&&(t[0]=m.call(this,a,i.html())),De(i,t,n,r)});if(f&&(o=(a=be(t,e[0].ownerDocument,!1,e,r)).firstChild,1===a.childNodes.length&&(a=o),o||r)){for(c=(s=w.map(me(a,"script"),Pe)).length;p<f;p++)u=a,p!==y&&(u=w.clone(u,!0,!0),c&&w.merge(s,me(u,"script"))),n.call(e[p],u,p);if(c)for(l=s[s.length-1].ownerDocument,w.map(s,Ie),p=0;p<c;p++)u=s[p],he.test(u.type||"")&&!X.access(u,"globalEval")&&w.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?w._evalUrl&&!u.noModule&&w._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):v(u.textContent.replace(_e,""),u,l))}return e}function Re(e,t,n){for(var r,a=t?w.filter(t,e):e,i=0;null!=(r=a[i]);i++)n||1!==r.nodeType||w.cleanData(me(r)),r.parentNode&&(n&&re(r)&&ge(me(r,"script")),r.parentNode.removeChild(r));return e}w.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,a,i,o,s,c,u,l=e.cloneNode(!0),p=re(e);if(!(d.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(o=me(l),r=0,a=(i=me(e)).length;r<a;r++)s=i[r],c=o[r],void 0,"input"===(u=c.nodeName.toLowerCase())&&fe.test(s.type)?c.checked=s.checked:"input"!==u&&"textarea"!==u||(c.defaultValue=s.defaultValue);if(t)if(n)for(i=i||me(e),o=o||me(l),r=0,a=i.length;r<a;r++)Me(i[r],o[r]);else Me(e,l);return(o=me(l,"script")).length>0&&ge(o,!p&&me(e,"script")),l},cleanData:function(e){for(var t,n,r,a=w.event.special,i=0;void 0!==(n=e[i]);i++)if(U(n)){if(t=n[X.expando]){if(t.events)for(r in t.events)a[r]?w.event.remove(n,r):w.removeEvent(n,r,t.handle);n[X.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),w.fn.extend({detach:function(e){return Re(this,e,!0)},remove:function(e){return Re(this,e)},text:function(e){return H(this,function(e){return void 0===e?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return De(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ne(this,e).appendChild(e)})},prepend:function(){return De(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ne(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return De(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return De(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(me(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return H(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ce.test(e)&&!ye[(de.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(w.cleanData(me(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return De(this,arguments,function(t){var n=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(me(this)),n&&n.replaceChild(t,this))},e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){for(var n,r=[],a=w(e),i=a.length-1,s=0;s<=i;s++)n=s===i?this:this.clone(!0),w(a[s])[t](n),o.apply(r,n.get());return this.pushStack(r)}});var Le=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),Fe=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},qe=function(e,t,n){var r,a,i={};for(a in t)i[a]=e.style[a],e.style[a]=t[a];for(a in r=n.call(e),t)e.style[a]=i[a];return r},Ve=new RegExp(te.join("|"),"i");function He(e,t,n){var r,a,i,o,s=e.style;return(n=n||Fe(e))&&(""!==(o=n.getPropertyValue(t)||n[t])||re(e)||(o=w.style(e,t)),!d.pixelBoxStyles()&&Le.test(o)&&Ve.test(t)&&(r=s.width,a=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=r,s.minWidth=a,s.maxWidth=i)),void 0!==o?o+"":o}function ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ne.appendChild(u).appendChild(l);var t=e.getComputedStyle(l);r="1%"!==t.top,c=12===n(t.marginLeft),l.style.right="60%",o=36===n(t.right),a=36===n(t.width),l.style.position="absolute",i=12===n(l.offsetWidth/3),ne.removeChild(u),l=null}}function n(e){return Math.round(parseFloat(e))}var r,a,i,o,s,c,u=m.createElement("div"),l=m.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",d.clearCloneStyle="content-box"===l.style.backgroundClip,w.extend(d,{boxSizingReliable:function(){return t(),a},pixelBoxStyles:function(){return t(),o},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),c},scrollboxSize:function(){return t(),i},reliableTrDimensions:function(){var t,n,r,a;return null==s&&(t=m.createElement("table"),n=m.createElement("tr"),r=m.createElement("div"),t.style.cssText="position:absolute;left:-11111px",n.style.height="1px",r.style.height="9px",ne.appendChild(t).appendChild(n).appendChild(r),a=e.getComputedStyle(n),s=parseInt(a.height)>3,ne.removeChild(t)),s}}))}();var We=["Webkit","Moz","ms"],$e=m.createElement("div").style,Be={};function Ue(e){var t=w.cssProps[e]||Be[e];return t||(e in $e?e:Be[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=We.length;n--;)if((e=We[n]+t)in $e)return e}(e)||e)}var Ge=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Je={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"};function Ke(e,t,n){var r=ee.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ze(e,t,n,r,a,i){var o="width"===t?1:0,s=0,c=0;if(n===(r?"border":"content"))return 0;for(;o<4;o+=2)"margin"===n&&(c+=w.css(e,n+te[o],!0,a)),r?("content"===n&&(c-=w.css(e,"padding"+te[o],!0,a)),"margin"!==n&&(c-=w.css(e,"border"+te[o]+"Width",!0,a))):(c+=w.css(e,"padding"+te[o],!0,a),"padding"!==n?c+=w.css(e,"border"+te[o]+"Width",!0,a):s+=w.css(e,"border"+te[o]+"Width",!0,a));return!r&&i>=0&&(c+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-c-s-.5))||0),c}function Qe(e,t,n){var r=Fe(e),a=(!d.boxSizingReliable()||n)&&"border-box"===w.css(e,"boxSizing",!1,r),i=a,o=He(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Le.test(o)){if(!n)return o;o="auto"}return(!d.boxSizingReliable()&&a||!d.reliableTrDimensions()&&j(e,"tr")||"auto"===o||!parseFloat(o)&&"inline"===w.css(e,"display",!1,r))&&e.getClientRects().length&&(a="border-box"===w.css(e,"boxSizing",!1,r),(i=s in e)&&(o=e[s])),(o=parseFloat(o)||0)+Ze(e,t,n||(a?"border":"content"),i,r,o)+"px"}function et(e,t,n,r,a){return new et.prototype.init(e,t,n,r,a)}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=He(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,i,o,s=B(t),c=Xe.test(t),u=e.style;if(c||(t=Ue(s)),o=w.cssHooks[t]||w.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(a=o.get(e,!1,r))?a:u[t];"string"===(i=void 0===n?"undefined":_typeof(n))&&(a=ee.exec(n))&&a[1]&&(n=oe(e,t,a),i="number"),null!=n&&n==n&&("number"!==i||c||(n+=a&&a[3]||(w.cssNumber[s]?"":"px")),d.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,r))||(c?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,r){var a,i,o,s=B(t);return Xe.test(t)||(t=Ue(s)),(o=w.cssHooks[t]||w.cssHooks[s])&&"get"in o&&(a=o.get(e,!0,n)),void 0===a&&(a=He(e,t,r)),"normal"===a&&t in Ye&&(a=Ye[t]),""===n||n?(i=parseFloat(a),!0===n||isFinite(i)?i||0:a):a}}),w.each(["height","width"],function(e,t){w.cssHooks[t]={get:function(e,n,r){if(n)return!Ge.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Qe(e,t,r):qe(e,Je,function(){return Qe(e,t,r)})},set:function(e,n,r){var a,i=Fe(e),o=!d.scrollboxSize()&&"absolute"===i.position,s=(o||r)&&"border-box"===w.css(e,"boxSizing",!1,i),c=r?Ze(e,t,r,s,i):0;return s&&o&&(c-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-Ze(e,t,"border",!1,i)-.5)),c&&(a=ee.exec(n))&&"px"!==(a[3]||"px")&&(e.style[t]=n,n=w.css(e,t)),Ke(0,n,c)}}}),w.cssHooks.marginLeft=ze(d.reliableMarginLeft,function(e,t){if(t)return(parseFloat(He(e,"marginLeft"))||e.getBoundingClientRect().left-qe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(n){for(var r=0,a={},i="string"==typeof n?n.split(" "):[n];r<4;r++)a[e+te[r]+t]=i[r]||i[r-2]||i[0];return a}},"margin"!==e&&(w.cssHooks[e+t].set=Ke)}),w.fn.extend({css:function(e,t){return H(this,function(e,t,n){var r,a,i={},o=0;if(Array.isArray(t)){for(r=Fe(e),a=t.length;o<a;o++)i[t[o]]=w.css(e,t[o],!1,r);return i}return void 0!==n?w.style(e,t,n):w.css(e,t)},e,t,arguments.length>1)}}),w.Tween=et,et.prototype={constructor:et,init:function(e,t,n,r,a,i){this.elem=e,this.prop=n,this.easing=a||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(w.cssNumber[n]?"":"px")},cur:function(){var e=et.propHooks[this.prop];return e&&e.get?e.get(this):et.propHooks._default.get(this)},run:function(e){var t,n=et.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):et.propHooks._default.set(this),this}},et.prototype.init.prototype=et.prototype,et.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||!w.cssHooks[e.prop]&&null==e.elem.style[Ue(e.prop)]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}},et.propHooks.scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=et.prototype.init,w.fx.step={};var tt,nt,rt=/^(?:toggle|show|hide)$/,at=/queueHooks$/;function it(){nt&&(!1===m.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(it):e.setTimeout(it,w.fx.interval),w.fx.tick())}function ot(){return e.setTimeout(function(){tt=void 0}),tt=Date.now()}function st(e,t){var n,r=0,a={height:e};for(t=t?1:0;r<4;r+=2-t)a["margin"+(n=te[r])]=a["padding"+n]=e;return t&&(a.opacity=a.width=e),a}function ct(e,t,n){for(var r,a=(ut.tweeners[t]||[]).concat(ut.tweeners["*"]),i=0,o=a.length;i<o;i++)if(r=a[i].call(n,t,e))return r}function ut(e,t,n){var r,a,i=0,o=ut.prefilters.length,s=w.Deferred().always(function(){delete c.elem}),c=function(){if(a)return!1;for(var t=tt||ot(),n=Math.max(0,u.startTime+u.duration-t),r=1-(n/u.duration||0),i=0,o=u.tweens.length;i<o;i++)u.tweens[i].run(r);return s.notifyWith(e,[u,r,n]),r<1&&o?n:(o||s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:t,originalOptions:n,startTime:tt||ot(),duration:n.duration,tweens:[],createTween:function(t,n){var r=w.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(a)return this;for(a=!0;n<r;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),l=u.props;for(!function(e,t){var n,r,a,i,o;for(n in e)if(a=t[r=B(n)],i=e[n],Array.isArray(i)&&(a=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(o=w.cssHooks[r])&&"expand"in o)for(n in i=o.expand(i),delete e[r],i)n in e||(e[n]=i[n],t[n]=a);else t[r]=a}(l,u.opts.specialEasing);i<o;i++)if(r=ut.prefilters[i].call(u,e,l,u.opts))return h(r.stop)&&(w._queueHooks(u.elem,u.opts.queue).stop=r.stop.bind(r)),r;return w.map(l,ct,u),h(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),w.fx.timer(w.extend(c,{elem:e,anim:u,queue:u.opts.queue})),u}w.Animation=w.extend(ut,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return oe(n.elem,e,ee.exec(t),n),n}]},tweener:function(e,t){h(e)?(t=e,e=["*"]):e=e.match(M);for(var n,r=0,a=e.length;r<a;r++)n=e[r],ut.tweeners[n]=ut.tweeners[n]||[],ut.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,a,i,o,s,c,u,l,p="width"in t||"height"in t,f=this,d={},h=e.style,y=e.nodeType&&ie(e),m=X.get(e,"fxshow");for(r in n.queue||(null==(o=w._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,f.always(function(){f.always(function(){o.unqueued--,w.queue(e,"fx").length||o.empty.fire()})})),t)if(a=t[r],rt.test(a)){if(delete t[r],i=i||"toggle"===a,a===(y?"hide":"show")){if("show"!==a||!m||void 0===m[r])continue;y=!0}d[r]=m&&m[r]||w.style(e,r)}if((c=!w.isEmptyObject(t))||!w.isEmptyObject(d))for(r in p&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(u=m&&m.display)&&(u=X.get(e,"display")),"none"===(l=w.css(e,"display"))&&(u?l=u:(ue([e],!0),u=e.style.display||u,l=w.css(e,"display"),ue([e]))),("inline"===l||"inline-block"===l&&null!=u)&&"none"===w.css(e,"float")&&(c||(f.done(function(){h.display=u}),null==u&&(l=h.display,u="none"===l?"":l)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",f.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),c=!1,d)c||(m?"hidden"in m&&(y=m.hidden):m=X.access(e,"fxshow",{display:u}),i&&(m.hidden=!y),y&&ue([e],!0),f.done(function(){for(r in y||ue([e]),X.remove(e,"fxshow"),d)w.style(e,r,d[r])})),c=ct(y?m[r]:0,r,f),r in m||(m[r]=c.start,y&&(c.end=c.start,c.start=0))}],prefilter:function(e,t){t?ut.prefilters.unshift(e):ut.prefilters.push(e)}}),w.speed=function(e,t,n){var r=e&&"object"===(void 0===e?"undefined":_typeof(e))?w.extend({},e):{complete:n||!n&&t||h(e)&&e,duration:e,easing:n&&t||t&&!h(t)&&t};return w.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in w.fx.speeds?r.duration=w.fx.speeds[r.duration]:r.duration=w.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){h(r.old)&&r.old.call(this),r.queue&&w.dequeue(this,r.queue)},r},w.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ie).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var a=w.isEmptyObject(e),i=w.speed(t,n,r),o=function(){var t=ut(this,w.extend({},e),i);(a||X.get(this,"finish"))&&t.stop(!0)};return o.finish=o,a||!1===i.queue?this.each(o):this.queue(i.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,a=null!=e&&e+"queueHooks",i=w.timers,o=X.get(this);if(a)o[a]&&o[a].stop&&r(o[a]);else for(a in o)o[a]&&o[a].stop&&at.test(a)&&r(o[a]);for(a=i.length;a--;)i[a].elem!==this||null!=e&&i[a].queue!==e||(i[a].anim.stop(n),t=!1,i.splice(a,1));!t&&n||w.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=X.get(this),r=n[e+"queue"],a=n[e+"queueHooks"],i=w.timers,o=r?r.length:0;for(n.finish=!0,w.queue(this,e,[]),a&&a.stop&&a.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),w.each(["toggle","show","hide"],function(e,t){var n=w.fn[t];w.fn[t]=function(e,r,a){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(st(t,!0),e,r,a)}}),w.each({slideDown:st("show"),slideUp:st("hide"),slideToggle:st("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){w.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),w.timers=[],w.fx.tick=function(){var e,t=0,n=w.timers;for(tt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||w.fx.stop(),tt=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){nt||(nt=!0,it())},w.fx.stop=function(){nt=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,n){return t=w.fx&&w.fx.speeds[t]||t,n=n||"fx",this.queue(n,function(n,r){var a=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(a)}})},function(){var e=m.createElement("input"),t=m.createElement("select").appendChild(m.createElement("option"));e.type="checkbox",d.checkOn=""!==e.value,d.optSelected=t.selected,(e=m.createElement("input")).value="t",e.type="radio",d.radioValue="t"===e.value}();var lt,pt=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return H(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})}}),w.extend({attr:function(e,t,n){var r,a,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?w.prop(e,t,n):(1===i&&w.isXMLDoc(e)||(a=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?lt:void 0)),void 0!==n?null===n?void w.removeAttr(e,t):a&&"set"in a&&void 0!==(r=a.set(e,n,t))?r:(e.setAttribute(t,n+""),n):a&&"get"in a&&null!==(r=a.get(e,t))?r:null==(r=w.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!d.radioValue&&"radio"===t&&j(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,a=t&&t.match(M);if(a&&1===e.nodeType)for(;n=a[r++];)e.removeAttribute(n)}}),lt={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,t){var n=pt[t]||w.find.attr;pt[t]=function(e,t,r){var a,i,o=t.toLowerCase();return r||(i=pt[o],pt[o]=a,a=null!=n(e,t,r)?o:null,pt[o]=i),a}});var ft=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;function ht(e){return(e.match(M)||[]).join(" ")}function yt(e){return e.getAttribute&&e.getAttribute("class")||""}function mt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(M)||[]}w.fn.extend({prop:function(e,t){return H(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[w.propFix[e]||e]})}}),w.extend({prop:function(e,t,n){var r,a,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&w.isXMLDoc(e)||(t=w.propFix[t]||t,a=w.propHooks[t]),void 0!==n?a&&"set"in a&&void 0!==(r=a.set(e,n,t))?r:e[t]=n:a&&"get"in a&&null!==(r=a.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):ft.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),d.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.fn.extend({addClass:function(e){var t,n,r,a,i,o,s,c=0;if(h(e))return this.each(function(t){w(this).addClass(e.call(this,t,yt(this)))});if((t=mt(e)).length)for(;n=this[c++];)if(a=yt(n),r=1===n.nodeType&&" "+ht(a)+" "){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a!==(s=ht(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,a,i,o,s,c=0;if(h(e))return this.each(function(t){w(this).removeClass(e.call(this,t,yt(this)))});if(!arguments.length)return this.attr("class","");if((t=mt(e)).length)for(;n=this[c++];)if(a=yt(n),r=1===n.nodeType&&" "+ht(a)+" "){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");a!==(s=ht(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=void 0===e?"undefined":_typeof(e),r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):h(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,yt(this),t),t)}):this.each(function(){var t,a,i,o;if(r)for(a=0,i=w(this),o=mt(e);t=o[a++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=yt(this))&&X.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":X.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+ht(yt(n))+" ").indexOf(t)>-1)return!0;return!1}});var gt=/\r/g;w.fn.extend({val:function(e){var t,n,r,a=this[0];return arguments.length?(r=h(e),this.each(function(n){var a;1===this.nodeType&&(null==(a=r?e.call(this,n,w(this).val()):e)?a="":"number"==typeof a?a+="":Array.isArray(a)&&(a=w.map(a,function(e){return null==e?"":e+""})),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,a,"value")||(this.value=a))})):a?(t=w.valHooks[a.type]||w.valHooks[a.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(a,"value"))?n:"string"==typeof(n=a.value)?n.replace(gt,""):null==n?"":n:void 0}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:ht(w.text(e))}},select:{get:function(e){var t,n,r,a=e.options,i=e.selectedIndex,o="select-one"===e.type,s=o?null:[],c=o?i+1:a.length;for(r=i<0?c:o?i:0;r<c;r++)if(((n=a[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!j(n.parentNode,"optgroup"))){if(t=w(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,a=e.options,i=w.makeArray(t),o=a.length;o--;)((r=a[o]).selected=w.inArray(w.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=w.inArray(w(e).val(),t)>-1}},d.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),d.focusin="onfocusin"in e;var vt=/^(?:focusinfocus|focusoutblur)$/,bt=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(t,n,r,a){var i,o,s,c,u,p,f,d,g=[r||m],v=l.call(t,"type")?t.type:t,b=l.call(t,"namespace")?t.namespace.split("."):[];if(o=d=s=r=r||m,3!==r.nodeType&&8!==r.nodeType&&!vt.test(v+w.event.triggered)&&(v.indexOf(".")>-1&&(v=(b=v.split(".")).shift(),b.sort()),u=v.indexOf(":")<0&&"on"+v,(t=t[w.expando]?t:new w.Event(v,"object"===(void 0===t?"undefined":_typeof(t))&&t)).isTrigger=a?2:3,t.namespace=b.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:w.makeArray(n,[t]),f=w.event.special[v]||{},a||!f.trigger||!1!==f.trigger.apply(r,n))){if(!a&&!f.noBubble&&!y(r)){for(c=f.delegateType||v,vt.test(c+v)||(o=o.parentNode);o;o=o.parentNode)g.push(o),s=o;s===(r.ownerDocument||m)&&g.push(s.defaultView||s.parentWindow||e)}for(i=0;(o=g[i++])&&!t.isPropagationStopped();)d=o,t.type=i>1?c:f.bindType||v,(p=(X.get(o,"events")||Object.create(null))[t.type]&&X.get(o,"handle"))&&p.apply(o,n),(p=u&&o[u])&&p.apply&&U(o)&&(t.result=p.apply(o,n),!1===t.result&&t.preventDefault());return t.type=v,a||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(g.pop(),n)||!U(r)||u&&h(r[v])&&!y(r)&&((s=r[u])&&(r[u]=null),w.event.triggered=v,t.isPropagationStopped()&&d.addEventListener(v,bt),r[v](),t.isPropagationStopped()&&d.removeEventListener(v,bt),w.event.triggered=void 0,s&&(r[u]=s)),t.result}},simulate:function(e,t,n){var r=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(r,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),d.focusin||w.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,a=X.access(r,t);a||r.addEventListener(e,n,!0),X.access(r,t,(a||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,a=X.access(r,t)-1;a?X.access(r,t,a):(r.removeEventListener(e,n,!0),X.remove(r,t))}}});var wt=e.location,Tt={guid:Date.now()},St=/\?/;w.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+t),n};var xt=/\[\]$/,kt=/\r?\n/g,Ot=/^(?:submit|button|image|reset|file)$/i,jt=/^(?:input|select|textarea|keygen)/i;function At(e,t,n,r){var a;if(Array.isArray(t))w.each(t,function(t,a){n||xt.test(e)?r(e,a):At(e+"["+("object"===(void 0===a?"undefined":_typeof(a))&&null!=a?t:"")+"]",a,n,r)});else if(n||"object"!==b(t))r(e,t);else for(a in t)At(e+"["+a+"]",t[a],n,r)}w.param=function(e,t){var n,r=[],a=function(e,t){var n=h(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){a(this.name,this.value)});else for(n in e)At(n,e[n],t,a);return r.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&jt.test(this.nodeName)&&!Ot.test(e)&&(this.checked||!fe.test(e))}).map(function(e,t){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}});var Ct=/%20/g,Et=/#.*$/,_t=/([?&])_=[^&]*/,Nt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pt=/^(?:GET|HEAD)$/,It=/^\/\//,Mt={},Dt={},Rt="*/".concat("*"),Lt=m.createElement("a");function Ft(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,a=0,i=t.toLowerCase().match(M)||[];if(h(n))for(;r=i[a++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function qt(e,t,n,r){var a={},i=e===Dt;function o(s){var c;return a[s]=!0,w.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||i||a[u]?i?!(c=u):void 0:(t.dataTypes.unshift(u),o(u),!1)}),c}return o(t.dataTypes[0])||!a["*"]&&o("*")}function Vt(e,t){var n,r,a=w.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((a[n]?e:r||(r={}))[n]=t[n]);return r&&w.extend(!0,e,r),e}Lt.href=wt.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(wt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Vt(Vt(e,w.ajaxSettings),t):Vt(w.ajaxSettings,e)},ajaxPrefilter:Ft(Mt),ajaxTransport:Ft(Dt),ajax:function(t,n){"object"===(void 0===t?"undefined":_typeof(t))&&(n=t,t=void 0),n=n||{};var r,a,i,o,s,c,u,l,p,f,d=w.ajaxSetup({},n),h=d.context||d,y=d.context&&(h.nodeType||h.jquery)?w(h):w.event,g=w.Deferred(),v=w.Callbacks("once memory"),b=d.statusCode||{},T={},S={},x="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(u){if(!o)for(o={};t=Nt.exec(i);)o[t[1].toLowerCase()+" "]=(o[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=o[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?i:null},setRequestHeader:function(e,t){return null==u&&(e=S[e.toLowerCase()]=S[e.toLowerCase()]||e,T[e]=t),this},overrideMimeType:function(e){return null==u&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)k.always(e[k.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||x;return r&&r.abort(t),O(0,t),this}};if(g.promise(k),d.url=((t||d.url||wt.href)+"").replace(It,wt.protocol+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(M)||[""],null==d.crossDomain){c=m.createElement("a");try{c.href=d.url,c.href=c.href,d.crossDomain=Lt.protocol+"//"+Lt.host!=c.protocol+"//"+c.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=w.param(d.data,d.traditional)),qt(Mt,d,n,k),u)return k;for(p in(l=w.event&&d.global)&&0==w.active++&&w.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Pt.test(d.type),a=d.url.replace(Et,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Ct,"+")):(f=d.url.slice(a.length),d.data&&(d.processData||"string"==typeof d.data)&&(a+=(St.test(a)?"&":"?")+d.data,delete d.data),!1===d.cache&&(a=a.replace(_t,"$1"),f=(St.test(a)?"&":"?")+"_="+Tt.guid+++f),d.url=a+f),d.ifModified&&(w.lastModified[a]&&k.setRequestHeader("If-Modified-Since",w.lastModified[a]),w.etag[a]&&k.setRequestHeader("If-None-Match",w.etag[a])),(d.data&&d.hasContent&&!1!==d.contentType||n.contentType)&&k.setRequestHeader("Content-Type",d.contentType),k.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Rt+"; q=0.01":""):d.accepts["*"]),d.headers)k.setRequestHeader(p,d.headers[p]);if(d.beforeSend&&(!1===d.beforeSend.call(h,k,d)||u))return k.abort();if(x="abort",v.add(d.complete),k.done(d.success),k.fail(d.error),r=qt(Dt,d,n,k)){if(k.readyState=1,l&&y.trigger("ajaxSend",[k,d]),u)return k;d.async&&d.timeout>0&&(s=e.setTimeout(function(){k.abort("timeout")},d.timeout));try{u=!1,r.send(T,O)}catch(e){if(u)throw e;O(-1,e)}}else O(-1,"No Transport");function O(t,n,o,c){var p,f,m,T,S,x=n;u||(u=!0,s&&e.clearTimeout(s),r=void 0,i=c||"",k.readyState=t>0?4:0,p=t>=200&&t<300||304===t,o&&(T=function(e,t,n){for(var r,a,i,o,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(a in s)if(s[a]&&s[a].test(r)){c.unshift(a);break}if(c[0]in n)i=c[0];else{for(a in n){if(!c[0]||e.converters[a+" "+c[0]]){i=a;break}o||(o=a)}i=i||o}if(i)return i!==c[0]&&c.unshift(i),n[i]}(d,k,o)),!p&&w.inArray("script",d.dataTypes)>-1&&(d.converters["text script"]=function(){}),T=function(e,t,n,r){var a,i,o,s,c,u={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)u[o.toLowerCase()]=e.converters[o];for(i=l.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!c&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=i,i=l.shift())if("*"===i)i=c;else if("*"!==c&&c!==i){if(!(o=u[c+" "+i]||u["* "+i]))for(a in u)if((s=a.split(" "))[1]===i&&(o=u[c+" "+s[0]]||u["* "+s[0]])){!0===o?o=u[a]:!0!==u[a]&&(i=s[0],l.unshift(s[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+c+" to "+i}}}return{state:"success",data:t}}(d,T,k,p),p?(d.ifModified&&((S=k.getResponseHeader("Last-Modified"))&&(w.lastModified[a]=S),(S=k.getResponseHeader("etag"))&&(w.etag[a]=S)),204===t||"HEAD"===d.type?x="nocontent":304===t?x="notmodified":(x=T.state,f=T.data,p=!(m=T.error))):(m=x,!t&&x||(x="error",t<0&&(t=0))),k.status=t,k.statusText=(n||x)+"",p?g.resolveWith(h,[f,x,k]):g.rejectWith(h,[k,x,m]),k.statusCode(b),b=void 0,l&&y.trigger(p?"ajaxSuccess":"ajaxError",[k,d,p?f:m]),v.fireWith(h,[k,x]),l&&(y.trigger("ajaxComplete",[k,d]),--w.active||w.event.trigger("ajaxStop")))}return k},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],function(e,t){w[t]=function(e,n,r,a){return h(n)&&(a=a||r,r=n,n=void 0),w.ajax(w.extend({url:e,type:t,dataType:a,data:n,success:r},w.isPlainObject(e)&&e))}}),w.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),w._evalUrl=function(e,t,n){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){w.globalEval(e,t,n)}})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(h(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return h(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=h(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Ht={0:200,1223:204},zt=w.ajaxSettings.xhr();d.cors=!!zt&&"withCredentials"in zt,d.ajax=zt=!!zt,w.ajaxTransport(function(t){var n,r;if(d.cors||zt&&!t.crossDomain)return{send:function(a,i){var o,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];for(o in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||a["X-Requested-With"]||(a["X-Requested-With"]="XMLHttpRequest"),a)s.setRequestHeader(o,a[o]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(Ht[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),w.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),w.ajaxTransport("script",function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,a){t=w("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&a("error"===e.type?404:200,e.type)}),m.head.appendChild(t[0])},abort:function(){n&&n()}}});var Wt,$t=[],Bt=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=$t.pop()||w.expando+"_"+Tt.guid++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(t,n,r){var a,i,o,s=!1!==t.jsonp&&(Bt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return a=t.jsonpCallback=h(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Bt,"$1"+a):!1!==t.jsonp&&(t.url+=(St.test(t.url)?"&":"?")+t.jsonp+"="+a),t.converters["script json"]=function(){return o||w.error(a+" was not called"),o[0]},t.dataTypes[0]="json",i=e[a],e[a]=function(){o=arguments},r.always(function(){void 0===i?w(e).removeProp(a):e[a]=i,t[a]&&(t.jsonpCallback=n.jsonpCallback,$t.push(a)),o&&h(i)&&i(o[0]),o=i=void 0}),"script"}),d.createHTMLDocument=((Wt=m.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Wt.childNodes.length),w.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(d.createHTMLDocument?((r=(t=m.implementation.createHTMLDocument("")).createElement("base")).href=m.location.href,t.head.appendChild(r)):t=m),i=!n&&[],(a=A.exec(e))?[t.createElement(a[1])]:(a=be([e],t,i),i&&i.length&&w(i).remove(),w.merge([],a.childNodes)));var r,a,i},w.fn.load=function(e,t,n){var r,a,i,o=this,s=e.indexOf(" ");return s>-1&&(r=ht(e.slice(s)),e=e.slice(0,s)),h(t)?(n=t,t=void 0):t&&"object"===(void 0===t?"undefined":_typeof(t))&&(a="POST"),o.length>0&&w.ajax({url:e,type:a||"GET",dataType:"html",data:t}).done(function(e){i=arguments,o.html(r?w("<div>").append(w.parseHTML(e)).find(r):e)}).always(n&&function(e,t){o.each(function(){n.apply(this,i||[e.responseText,t,e])})}),this},w.expr.pseudos.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length},w.offset={setOffset:function(e,t,n){var r,a,i,o,s,c,u=w.css(e,"position"),l=w(e),p={};"static"===u&&(e.style.position="relative"),s=l.offset(),i=w.css(e,"top"),c=w.css(e,"left"),("absolute"===u||"fixed"===u)&&(i+c).indexOf("auto")>-1?(o=(r=l.position()).top,a=r.left):(o=parseFloat(i)||0,a=parseFloat(c)||0),h(t)&&(t=t.call(e,n,w.extend({},s))),null!=t.top&&(p.top=t.top-s.top+o),null!=t.left&&(p.left=t.left-s.left+a),"using"in t?t.using.call(e,p):("number"==typeof p.top&&(p.top+="px"),"number"==typeof p.left&&(p.left+="px"),l.css(p))}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){w.offset.setOffset(this,e,t)});var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],a={top:0,left:0};if("fixed"===w.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===w.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((a=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),a.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-a.top-w.css(r,"marginTop",!0),left:t.left-a.left-w.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===w.css(e,"position");)e=e.offsetParent;return e||ne})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;w.fn[e]=function(r){return H(this,function(e,r,a){var i;if(y(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===a)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:a,n?a:i.pageYOffset):e[r]=a},e,r,arguments.length)}}),w.each(["top","left"],function(e,t){w.cssHooks[t]=ze(d.pixelPosition,function(e,n){if(n)return n=He(e,t),Le.test(n)?w(e).position()[t]+"px":n})}),w.each({Height:"height",Width:"width"},function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){w.fn[r]=function(a,i){var o=arguments.length&&(n||"boolean"!=typeof a),s=n||(!0===a||!0===i?"margin":"border");return H(this,function(t,n,a){var i;return y(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===a?w.css(t,n,s):w.style(t,n,a,s)},t,o?a:void 0,o)}})}),w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}});var Ut=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),h(e))return r=a.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(a.call(arguments)))}).guid=e.guid=e.guid||w.guid++,i},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=j,w.isFunction=h,w.isWindow=y,w.camelCase=B,w.type=b,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},w.trim=function(e){return null==e?"":(e+"").replace(Ut,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return w});var Gt=e.jQuery,Xt=e.$;return w.noConflict=function(t){return e.$===w&&(e.$=Xt),t&&e.jQuery===w&&(e.jQuery=Gt),w},void 0===t&&(e.jQuery=e.$=w),w}),define("jqueryplugins",["jquery"],function(e){e.prototype.extend({popAttr:function(e){var t=this.attr(e);return this.removeAttr(e),t},popData:function(e){var t=this.data(e);return this.removeData(e),t},tag:function(){return this[0]&&this[0].tagName&&this[0].tagName.toLowerCase()},textNodes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*";return 1===this.length&&this[0]instanceof Text?[this[0]]:this.get().concat(this.contents().get(),this.find(e).contents().get()).filter(function(e,t,n){return e instanceof Text&&n.indexOf(e)===t}).sort(function(e,t){return 2&e.compareDocumentPosition(t)?1:-1})},findAndFilter:function(e){return this.filter(e).add(this.find(e))}})}),function(){var e=void 0,t={};function n(){for(var e=0;e<arguments.length;e++)for(var t in arguments[e])this[t]=arguments[e][t]}function r(e,t){e.childAt=e.childAt||{};for(var n=t.start;n<t.end;n+=1)e.childAt[n]=t}function a(e,t,n,r){return!(e.canFollow&&!(e.canFollow.indexOf(n&&n.type)>-1)||e.cannotFollow&&(-1!==e.cannotFollow.indexOf(n&&n.type)||e.cannotFollow.indexOf("text")>-1&&r)||e.peek&&e.peek.toLowerCase()!==t.slice(0,e.peek.length).toLowerCase())}function i(e){for(var n=e.innerText,r=[],i=0,s=i,c=n.length,u=null;i<c;){for(var l=n.slice(i),p=(r.length?r[0]:e).innerMode,f=0,d=p.length;f<d;f+=1){var h=t[p[f]];if(a(h,l,u,s<i)&&h.pattern.test(l)){var y=h.pattern.exec(l),m=h.fn(y),g=!1,v=0;if(m.matches){for(;v<r.length;v+=1){var b=r[v].type;if(b in m.matches){g=!0;break}0===b.indexOf("verbatim")&&(b="verbatimOpener"),m.cannotCross&&m.cannotCross.indexOf(b)>-1&&(v=r.length-1)}if(v>=r.length&&!m.isFront)continue}s<i&&e.addChild({type:"text",text:n.slice(s,i),innerMode:p}),s=i+=(u=e.addChild(m)).text.length,g&&(o(e,u,r[v]),r=r.slice(v+1)),u.isFrontToken()&&r.unshift(u);break}}f===d&&(i+=1,null===u&&(u={type:"text"}))}for(s<i&&e.addChild({type:"text",text:n.slice(s,i),innerMode:(r.length?r[0]:e).innerMode});r.length>0;)r.shift().demote();return e}function o(e,t,n){var a=e.children.indexOf(t),i=e.children.indexOf(n);t.children=e.children.splice(i+1,a-(i+1)),t.children.forEach(function(e){r(t,e)}),t.type=t.matches[n.type],t.innerText="";for(var o=0,s=t.children.length;o<s;o++)t.innerText+=t.children[o].text;t.start=n.start,t.text=n.text+t.innerText+t.text,Object.keys(n).forEach(function(e){Object.hasOwnProperty.call(t,e)||(t[e]=n[e])}),t.isFront&&(t.isFront=!1),e.children.splice(i,1),r(e,t)}n.prototype={constructor:n,addChild:function(e){var t=this.lastChildEnd(),a=new n({start:t,end:e.text&&t+e.text.length,children:[]},e);return a.innerText&&i(a),this.children.push(a),r(this,a),a},firstChild:function(){return this.children&&this.children[0]||null},lastChild:function(){return this.children&&this.children[this.children.length-1]||null},lastChildEnd:function(){var e=this.lastChild();return e?e.end:this.start+Math.max(0,this.text.indexOf(this.innerText))},tokenAt:function(e){if(e<this.start||e>=this.end)return null;if(this.childAt)return this.childAt[e]&&this.childAt[e].tokenAt(e)||this;if(this.children.length)for(var t=0;t<this.children.length;t+=1){var n=this.children[t].tokenAt(e);if(n)return n}return this},pathAt:function(e){if(e<this.start||e>=this.end)return[];if(this.childAt)return(this.childAt[e]&&this.childAt[e].pathAt(e)||[]).concat(this);var t=[];if(this.children.length)for(var n=0;n<this.children.length;n+=1){var r=this.children[n].pathAt(e);if(r.length){t.concat(r);break}}return t.concat(this)},nearestTokenAt:function(e){return e<this.start||e>=this.end?null:this.children?this.children.reduce(function(t,n){return t||(e>=n.start&&e<n.end?n:null)},null):this},everyLeaf:function(e){return this.children&&0!==this.children.length?this.children.reduce(function(t,n){return t&&n.everyLeaf(e)},!0):!!e(this)},isWhitespace:function(){return this.everyLeaf(function(e){return"whitespace"===e.type||!e.text.trim()})},isFrontToken:function(){return this.isFront},isBackToken:function(){return"matches"in this},demote:function(){this.type="text"},error:function(e){this.type="error",this.message=e},toString:function(){var e=this.type+"("+this.start+"\u2192"+this.end+")";return this.children&&this.children.length>0&&(e+="["+this.children+"]"),e}},e={lex:function(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"start";return i(new n({type:"root",start:r||0,end:t.length,text:t,innerText:t,children:[],childAt:{},innerMode:e.modes[a]}))},rules:t,modes:{}},"object"===("undefined"==typeof module?"undefined":_typeof(module))?module.exports=e:"function"==typeof define&&define.amd?define("lexer",[],function(){return e}):this&&this.loaded?(this.modules||(this.modules={}),this.modules.Lexer=e):this.TwineLexer=e}.call(eval("this")||("undefined"!=typeof global?global:window)),function(){var e;function t(e){return e&&"object"===(void 0===e?"undefined":_typeof(e))?(Object.keys(e).forEach(function(n){e[n]=t(e[n])}),e):(e+"").replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function n(e){return function(){return"("+e+Array.apply(0,arguments).join("|")+")"}}var r=n("?:"),a=n("?!"),i=n("?="),o="[ \\f\\t\\v\\u00a0\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]*",s=o.replace("*","+"),c="\\b",u="[\\w\\-\\u00c0-\\u00de\\u00df-\\u00ff\\u0150\\u0170\\u0151\\u0171\\uD800-\\uDFFF]",l=u.replace("\\-",""),p=r("\\n","$"),f=o+"(\\*+)"+s,d=o+"((?:0\\.)+)"+s,h=o+"-{3,}"+o+p,y=o+"(==+>|<=+|=+><=+|<==+>)"+o+p,m=o+"(=+\\|+|\\|+=+|=+\\|+=+|\\|=+\\|)"+o+p,g={opener:"\\[\\[(?!\\[)",text:"("+function(){return"[^"+Array.apply(0,arguments).map(t).join("")+"]*"}("]")+")",rightSeparator:r("\\->","\\|"),leftSeparator:"<\\-",closer:"\\]\\]",legacySeparator:"\\|",legacyText:"("+r("[^\\|\\]]","\\]"+a("\\]"))+"+)"},v=l+"*"+l.replace("\\w","a-zA-Z")+l+"*",b="\\$("+v+")",w="_("+v+")",T="'s"+s+"("+v+")",S="("+v+")"+s+"of"+c+a("it\\b"),x="'s"+s,k=r("it","time","visits?","exits?","pos")+c,O="its"+s+"("+v+")",j="its"+s,A="("+v+")"+s+"of"+s+"it"+c,C="of\\b"+s+"it"+c,E={opener:"\\(",name:"("+r("\\$","_")+"?"+u+"+):"+a("\\/"),closer:"\\)"},_=r("=<","=>","[gl]te?\\b","n?eq\\b","isnot\\b","are\\b","x\\b","isa\\b","or"+s+"a"+c),N="[a-zA-Z][\\w\\-]*",P="(?:\"[^\"]*\"|'[^']*'|[^'\">])*?",I="\\|("+u+"+)(>|\\))",M="(<|\\()("+u+"+)\\|",D="\\b(\\d+(?:\\.\\d+)?(?:[eE][+\\-]?\\d+)?)"+a("m?s")+c;g.main=g.opener+r(g.text+g.rightSeparator,g.text.replace("*","*?")+g.leftSeparator)+g.text,e={upperLetter:"[A-Z\\u00c0-\\u00de\\u0150\\u0170]",lowerLetter:"[a-z0-9_\\-\\u00df-\\u00ff\\u0151\\u0171]",anyLetter:u,anyLetterStrict:l,whitespace:s.replace("[","[\\n\\r"),escapedLine:"\\\\\\n\\\\?|\\n\\\\",br:"\\n(?!\\\\)",commentFront:"\x3c!--",commentBack:"--\x3e",tag:"<\\/?"+N+P+">",tagPeek:"<",scriptStyleTag:"<("+r("script","style","textarea")+")"+P+">[^]*?<\\/\\1>",scriptStyleTagOpener:"<",url:"("+r("https?","mailto","javascript","ftp","data")+":\\/\\/[^\\s<]+[^<.,:;\"')\\]\\s])",bullet:"\\*",hr:h,heading:"[ \\f\\t\\v\\u00a0\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]*(#{1,6})[ \\f\\t\\v\\u00a0\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]*",align:y,column:m,bulleted:f,numbered:d,strikeOpener:t("~~"),italicOpener:t("//"),boldOpener:t("''"),supOpener:t("^^"),strongFront:t("**"),strongBack:t("**"),emFront:t("*"),emBack:t("*"),verbatimOpener:"`+",collapsedFront:"{",collapsedBack:"}",hookAppendedFront:"\\["+a("=+"),hookPrependedFront:I+"\\["+a("=+"),hookFront:"\\["+a("=+"),hookBack:"\\]"+a(M),hookAppendedBack:"\\]"+M,unclosedHook:"\\[=+",unclosedHookPrepended:I+"\\[=+",unclosedCollapsed:"\\{=+",passageLink:g.main+g.closer,passageLinkPeek:"[[",legacyLink:g.opener+g.legacyText+g.legacySeparator+g.legacyText+g.closer,legacyLinkPeek:"[[",simpleLink:g.opener+g.legacyText+g.closer,simpleLinkPeek:"[[",macroFront:E.opener+i(E.name),macroFrontPeek:"(",macroName:E.name,groupingFront:"\\("+a(E.name),groupingFrontPeek:"(",groupingBack:"\\)",twine1Macro:"<<[^>\\s]+\\s*(?:\\\\.|'(?:[^'\\\\]*\\\\.)*[^'\\\\]*'|\"(?:[^\"\\\\]*\\\\.)*[^\"\\\\]*\"|[^'\"\\\\>]|>(?!>))*>>",twine1MacroPeek:"<<",validPropertyName:v,property:T,propertyPeek:"'s",belongingProperty:S,possessiveOperator:x,belongingOperator:"of\\b",belongingOperatorPeek:"of",itsOperator:j,itsOperatorPeek:"its",belongingItOperator:C,belongingItOperatorPeek:"of",variable:b,variablePeek:"$",tempVariable:w,tempVariablePeek:"_",hookName:"\\?("+u+"+)\\b",hookNamePeek:"?",cssTime:"(\\d+\\.?\\d*|\\d*\\.?\\d+)(m?s)\\b",colour:r(r("Red","Orange","Yellow","Lime","Green","Cyan","Aqua","Blue","Navy","Purple","Fuchsia","Magenta","White","Gray","Grey","Black","Transparent"),"#[\\dA-Fa-f]{3}(?:[\\dA-Fa-f]{3})?"),datatype:r("alnum","alphanumeric","any(?:case)?","array","bool(?:ean)?","changer","colou?r","const","command","dm","data"+r("map","type","set"),"ds","digit","gradient","empty","even","int"+a("o")+"(?:eger)?","lambda","lowercase","macro","linebreak","newline","num(?:ber)?","odd","str(?:ing)?","uppercase","whitespace")+c,number:D,boolean:r("true","false")+c,identifier:k,itsProperty:O,itsPropertyPeek:"its",belongingItProperty:A,escapedStringChar:"\\\\[^\\n]",singleStringOpener:"'",doubleStringOpener:'"',singleStringCloser:"'",doubleStringCloser:'"',is:"is"+a(s+"not"+c,s+"an?"+c,s+"in"+c,s+"<",s+">")+c,isNot:"is"+s+"not"+a(s+r("an?","in")+c)+c,isA:"is"+s+"an?"+c,isNotA:"is"+s+"not"+s+"an?"+c,matches:"matches\\b",doesNotMatch:"does"+s+"not"+s+"match"+c,and:"and\\b",or:"or\\b",not:"not\\b",inequality:"((?:is(?:"+s+"not)?"+o+")*)("+r("<(?!=)","<=",">(?!=)",">=")+")",isIn:"is"+s+"in"+c,contains:"contains\\b",doesNotContain:"does"+s+"not"+s+"contain"+c,isNotIn:"is"+s+"not"+s+"in"+c,addition:t("+")+a("="),subtraction:t("-")+a("=","type"),multiplication:t("*")+a("="),division:r("/","%")+a("="),comma:",",spread:"\\.\\.\\."+a("\\."),to:r("to\\b","="),into:"into\\b",making:"making\\b",where:"where\\b",when:"when\\b",via:"via\\b",each:"each\\b",augmentedAssign:r("\\+","\\-","\\*","\\/","%")+"=",bind:"2?bind\\b",typeSignature:t("-type")+c,incorrectOperator:_},"object"===("undefined"==typeof module?"undefined":_typeof(module))?module.exports=e:"function"==typeof define&&define.amd?define("patterns",[],function(){return e}):this&&this.loaded?(this.modules||(this.modules={}),this.modules.Patterns=e):this.Patterns=e}.call(eval("this")||("undefined"!=typeof global?global:window)),function(){var e=void 0;Object.assign=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var t=Object.keys,n=Object.assign;function r(r){return Object.freeze({lex:function(r){function a(e){return e=e||"innerText",function(t){var n=t.reduceRight(function(e,t,n){return e||(n?t:"")},""),r={};return r[e]=n,r}}function i(e,t){var n={};return n[e]=t,function(){return{isFront:!0,matches:n,cannotCross:["verbatimOpener"]}}}var o=Object.bind(0,null);function s(e,t){return Object.keys(t).forEach(function(n){var r=t[n].fn;t[n].fn=function(t){var a=r(t);return a.text||(a.text=t[0]),a.type||(a.type=n),a.innerMode||(a.innerMode=e),a}}),t}var c=[],u=[],l=[],p=s(c,{hr:{fn:o},bulleted:{fn:function(e){return{depth:e[1].length}}},numbered:{fn:function(e){return{depth:e[1].length/2}}},heading:{fn:function(e){return{depth:e[1].length}}},align:{fn:function(e){var t=void 0,n=e[1],r=n.indexOf("><");return~r?25===(t=Math.round(r/(n.length-2)*50))&&(t="center"):"<"===n[0]&&">"===n.slice(-1)?t="justify":n.indexOf(">")>-1?t="right":n.indexOf("<")>-1&&(t="left"),{align:t}}},column:{fn:function(e){var t=void 0,n=e[1],r=n.indexOf("|");return r&&r<n.length-1?t="center":"|"===n[0]&&"|"===n.slice(-1)?t="none":r===n.length-1?t="right":r||(t="left"),{column:t,width:/\|+/.exec(n)[0].length,marginLeft:/^=*/.exec(n)[0].length,marginRight:/=*$/.exec(n)[0].length}}}});t(p).forEach(function(e){p[e].canFollow=[null,"br","hr","bulleted","numbered","heading","align","column","escapedLine"],p[e].cannotFollow=["text"]});var f=s(c,{twine1Macro:{fn:function(){return{type:"error",message:"Harlowe macros use a different syntax to Twine 1, SugarCube, and Yarn macros."}}},emBack:{fn:function(){return{matches:{emFront:"em"},cannotCross:["verbatimOpener"]}}},strongBack:{fn:function(){return{matches:{strongFront:"strong"},cannotCross:["verbatimOpener"]}}},strongFront:{fn:function(){return{isFront:!0}}},emFront:{fn:function(){return{isFront:!0}}},boldOpener:{fn:i("boldOpener","bold")},italicOpener:{fn:i("italicOpener","italic")},strikeOpener:{fn:i("strikeOpener","strike")},supOpener:{fn:i("supOpener","sup")},commentFront:{fn:function(){return{isFront:!0}}},commentBack:{fn:function(){return{matches:{commentFront:"comment"}}}},scriptStyleTag:{fn:o},tag:{fn:o},url:{fn:o},hookPrependedFront:{fn:function(e){return{name:e[1],hidden:")"===e[2],isFront:!0,tagPosition:"prepended"}}},hookFront:{fn:function(){return{isFront:!0}}},hookBack:{fn:function(){return{matches:{hookPrependedFront:"hook",hookFront:"hook"},cannotCross:["verbatimOpener"]}}},hookAppendedBack:{fn:function(e){return{name:e[2],hidden:"("===e[1],tagPosition:"appended",matches:{hookFront:"hook"},cannotCross:["verbatimOpener"]}}},unclosedHook:{fn:o},unclosedHookPrepended:{fn:function(e){return{type:"unclosedHook",name:e[1],hidden:")"===e[2]}}},verbatimOpener:{fn:function(e){var t=e[0].length,n={};return n["verbatim"+t]="verbatim",{type:"verbatim"+t,isFront:!0,matches:n}}},unclosedCollapsed:{fn:o},collapsedFront:{fn:function(){return{isFront:!0}}},collapsedBack:{fn:function(){return{matches:{collapsedFront:"collapsed"},cannotCross:["verbatimOpener"]}}},escapedLine:{fn:o},legacyLink:{fn:function(e){return{type:"twineLink",innerText:e[1],passage:e[2],innerMode:c}}},br:{fn:o}}),d=n(s(u,{macroFront:{fn:function(e){return{isFront:!0,name:e[1]}}},groupingBack:{fn:function(){return{matches:{groupingFront:"grouping",macroFront:"macro"},cannotCross:["singleStringOpener","doubleStringOpener"]}}},passageLink:{fn:function(e){var t=e[1]||"",n=e[2]||"",r=e[3]||"";return{type:"twineLink",innerText:n?r:t,passage:t?r:n,innerMode:c}}},simpleLink:{fn:function(e){return{type:"twineLink",innerText:e[1]||"",passage:e[1]||"",innerMode:c}}},variable:{cannotFollow:["macroFront"],fn:a("name")},tempVariable:{cannotFollow:["macroFront"],fn:a("name")}}),{hookFront:f.hookFront,hookBack:f.hookBack}),h=s(u,n({macroName:{canFollow:["macroFront"],fn:a("name")},groupingFront:{fn:function(){return{isFront:!0}}},property:{fn:a("name"),canFollow:["variable","hookName","property","tempVariable","colour","itsProperty","belongingItProperty","macro","grouping","string","datatype","hook","boolean","number"]},possessiveOperator:{fn:o},itsProperty:{cannotFollow:["text"],fn:a("name")},itsOperator:{cannotFollow:["text"],fn:o},belongingItProperty:{cannotFollow:["text"],fn:a("name")},belongingItOperator:{cannotFollow:["text"],fn:o},belongingProperty:{cannotFollow:["text"],fn:a("name")},belongingOperator:{cannotFollow:["text"],fn:o},escapedStringChar:{fn:function(){return{type:"text"}}},singleStringOpener:{fn:function(){return{isFront:!0,matches:{singleStringOpener:"string"},innerMode:l}}},doubleStringOpener:{fn:function(){return{isFront:!0,matches:{doubleStringOpener:"string"},innerMode:l}}},hookName:{fn:a("name")},cssTime:{fn:function(e){return{value:+e[1]*("s"===e[2].toLowerCase()?1e3:1)}}},datatype:{cannotFollow:["text"],fn:function(e){return{name:e[0].toLowerCase()}}},colour:{cannotFollow:["text"],fn:function(e){var t=e[0].toLowerCase(),n={red:"e61919",orange:"e68019",yellow:"e5e619",lime:"80e619",green:"19e619",cyan:"19e5e6",aqua:"19e5e6",blue:"197fe6",navy:"1919e6",purple:"7f19e6",fuchsia:"e619e5",magenta:"e619e5",white:"fff",black:"000",gray:"888",grey:"888"};return{colour:Object.hasOwnProperty.call(n,t)?"#"+n[t]:t}}},number:{fn:function(e){return{value:parseFloat(e[0])}}},inequality:{fn:function(e){return{operator:e[2],negate:e[1].indexOf("not")>-1}}},augmentedAssign:{fn:function(e){return{operator:e[0][0]}}},identifier:{fn:a("name"),cannotFollow:["text"]},whitespace:{fn:o,cannotFollow:"text"},incorrectOperator:{fn:function(e){var t={"=>":">=","=<":"<=",gte:">=",lte:"<=",gt:">",lt:"<",eq:"is",isnot:"is not",neq:"is not",isa:"is a",are:"is",x:"*","or a":"or"}[e[0].toLowerCase().replace(/\s+/g," ")];return{type:"error",message:"Please say "+(t?"'"+t+"'":"something else")+" instead of '"+e[0]+"'.",explanation:"In the interests of readability, I want certain operators to be in a specific form."}},cannotFollow:"text"}},["boolean","is","to","into","where","when","via","making","each","and","or","not","isNot","contains","doesNotContain","isIn","isA","isNotA","isNotIn","matches","doesNotMatch","bind"].reduce(function(e,t){return e[t]={fn:o,cannotFollow:["text"]},e},{}),["comma","spread","typeSignature","addition","subtraction","multiplication","division"].reduce(function(e,t){return e[t]={fn:o},e},{}))),y=s(l,{singleStringCloser:h.singleStringOpener,doubleStringCloser:h.doubleStringOpener,escapedStringChar:h.escapedStringChar});c.push.apply(c,_toConsumableArray(t(p)).concat(_toConsumableArray(t(d)),_toConsumableArray(t(f)))),u.push.apply(u,_toConsumableArray(t(d)).concat(_toConsumableArray(t(h)))),l.push.apply(l,_toConsumableArray(t(y)));var m=n({},p,f,d,h,y);t(m).forEach(function(t){var n=e[t];m[t].pattern="string"!=typeof n?n:RegExp("^(?:"+n+")","i"),e[t+"Peek"]&&(m[t].peek=e[t+"Peek"])}),n(r.rules,m);var g=r.modes;return g.start=g.markup=c,g.macro=u,g.string=l,r}(r).lex,Patterns:e})}"object"===("undefined"==typeof module?"undefined":_typeof(module))?(e=require("./patterns"),module.exports=r(require("./lexer"))):"function"==typeof define&&define.amd?define("markup",["lexer","patterns"],function(t,n){return e=n,r(t)}):this&&this.loaded&&this.modules?(e=this.modules.Patterns,this.modules.Markup=r(this.modules.Lexer)):(e=this.Patterns,this.TwineMarkup=r(this.TwineLexer))}.call(eval("this")||("undefined"!=typeof global?global:window)),define("utils/polyfills",[],function(){var e=Array.prototype;"function"!=typeof e.includes&&(e.includes=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!Number.isNaN(t)&&Number.isFinite(n)&&void 0!==t)return e.indexOf.call(this,t,n)>-1;var r=Object(this),a=parseInt(r.length);if(a<=0)return!1;for(var i=n>=0?n:Math.max(0,a+n);i<a;){if(Object.is(t,r[i]))return!0;i+=1}return!1}),!window.Symbol&&(window.Symbol={iterator:"_es6-shim iterator_"})}),define("utils",["jquery","markup","utils/polyfills"],function(e){var t=String.fromCharCode,n="audio,blockquote,canvas,div,h1,h2,h3,h4,h5,hr,ol,p,pre,table,ul,video,tw-align,tw-story,tw-passage,tw-sidebar,tw-columns,tw-column,tw-meter".split(","),r="a,b,i,em,strong,sup,sub,abbr,acronym,s,strike,del,big,small,script,img,button,input,tw-link,tw-broken-link,tw-verbatim,tw-collapsed,tw-error,tw-colour,tw-icon".split(","),a=["audio"],i=[function(e){return t(e)!==t(e).toLowerCase()},function(e){return t(e)!==t(e).toUpperCase()},function(e){return t(e).toLowerCase()!==t(e).toUpperCase()}].map(function(e){return"["+Array.from(Array(57343)).map(function(e,t){return t}).filter(e).map(function(e,n,r){return e===r[n-1]+1&&e===r[n+1]-1?"-":t(e)}).join("").replace(/\-+/g,"-")+"]"}),o=_slicedToArray(i,3),s=o[0],c=o[1],u=o[2];function l(e){return"instant"===e?0:800}var p=void 0,f=[],d={},h=0,y={},m=0,g={},v=void 0;function b(e,t,n,r,a){var i=null,o=0,s=t+n;function c(n){1&e[0].compareDocumentPosition(document)&&(s=0),i&&(s-=n-i,o+=n-i),i=n,r>0&&h+m>0&&(s-=r,e.css("animation-delay",(v.cssTimeUnit(e.css("animation-delay"))||0)-r+"ms")),s<=0?a(o):requestAnimationFrame(c),s<=t&&e.css("visibility","")}s?requestAnimationFrame(c):c()}return e(document.documentElement).on("keydown keyup mousedown mouseup",function(e){var t=e.key,n=e.button,r=e.type.includes("down"),a=t?d:y,i=t&&v.insensitiveName(t)||n;a[i]&&!r?t?h=Math.max(h-1,0):m=Math.max(m-1,0):!a[i]&&r&&(t?h+=1:m+=1),a[i]=r}).on("mousemove",function(e){var t=e.pageX,n=e.pageY;g.x=t,g.y=n}),v={lockProperty:function(e,t,n){var r=Object.create({configurable:0,writable:0});return n&&(r.value=n),Object.defineProperty(e,t,r),e},permutations:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.length,a=[[].concat(t)],i=Array(r).fill(0),o=1,s=void 0,c=void 0;o<r;)i[o]<o?(s=o%2&&i[o],c=t[o],t[o]=t[s],t[s]=c,++i[o],o=1,a.push([].concat(t))):(i[o]=0,++o);return a},shuffled:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t,n){var r=Math.random()*(n+1)|0;return r===n?e.push(t):(e.push(e[r]),e[r]=t),e},[])},matMul:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i;if(r.length>0)return(i=v).matMul.apply(i,[v.matMul(e,t)].concat(r));if(!t)return e;for(var o=[],s=0;s<e.length;s++){o[s]=[];for(var c=0;c<t[0].length;c++){for(var u=0,l=0;l<e[0].length;l++)u+=e[s][l]*t[l][c];o[s][c]=u}}return o},cssTimeUnit:function(e){return"ms"===(e=e.toLowerCase()).slice(-2)?+e.slice(0,-2)||0:"s"===e.slice(-1)&&1e3*+e.slice(0,-1)||0},nth:function(e){var t=(+e+"").slice(-1);return e+("1"===t?"st":"2"===t?"nd":"3"===t?"rd":"th")},plural:function(e,t){return e+" "+t+(e>1?"s":"")},andList:function(e){return 1===e.length?e[0]:e.slice(0,-1).join(", ")+" and "+e[e.length-1]},realWhitespace:"[ \\n\\r\\f\\t\\v\\u00a0\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]",anyRealLetter:"[\\dA-Za-z\\u00c0-\\u00de\\u00df-\\u00ff\\u0150\\u0170\\u0151\\u0171\\uD800-\\uDFFF]",anyUppercase:s,anyLowercase:c,anyCasedLetter:u,anyNewline:"(?:\\n|\\r|\\r\\n)",unescape:function(e){return e.replace(/&(?:amp|lt|gt|quot|nbsp|zwnj|#39|#96);/g,function(e){return{"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'","&nbsp;":String.fromCharCode(160),"&zwnj;":String.fromCharCode(8204)}[e]})},escape:function(e){return e.replace(/[&><"']/g,function(e){return{"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"}[e]})},insensitiveName:function(e){return(e+"").toLowerCase().replace(/-|_/g,"")},allKeysDown:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every(function(e){return d[e]})},someKeysDown:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(function(e){return d[e]})},buttonsDown:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every(function(e){return y[e]})},anyInputDown:function(){return h+m>0},mouseCoords:g,parentColours:function(e){for(var t={colour:null,backgroundColour:null},n=/^\w+a\(.+?,\s*0\s*\)$|^transparent$/;e.length&&e[0]!==document;e=e.parent()){if(!t.backgroundColour){var r=e.css("background-color");r.match(n)||(t.backgroundColour=r)}if(!t.colour){var a=e.css("color");a.match(n)||(t.colour=a)}if(t.colour&&t.backgroundColour)return t}return{colour:"#fff",backgroundColour:"#000"}},childrenProbablyInline:function(e){var t=[];return[].every.call(e.findAndFilter("*"),function(e){return!!(e.hidden||/none|inline/.test(e.style.display)||/display: (none|inline)/.test(e.getAttribute("style")))||!n.includes(e.tagName.toLowerCase())&&!/display: (?!none|inline|inherit|unset)/.test(e.getAttribute("style"))&&(!!r.includes(e.tagName.toLowerCase())||(t.push(e),!0))})&&t.every(function(e){return window.getComputedStyle(e).display.includes("inline")})},transitionReplace:function(t,n,r){var a=t.closest("tw-hook");a.length>0&&(t=a);var i=e("<tw-transition-container>").css("position","relative");i.insertBefore(t.first());var o=void 0;n&&(o=e("<tw-transition-container>").appendTo(i),n.appendTo(o));var s=e("<tw-transition-container>").css("position","absolute").prependTo(i);t.detach().appendTo(s),v.transitionOut(s,r),n&&v.transitionIn(o,r,function(){o.unwrap().children().first().unwrap()})},transitionOut:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0;0!==e.length&&(n=n||l(t),(e.length>1||!v.childrenProbablyInline(e)||!["tw-hook","tw-passage","tw-expression"].includes(e.tag()))&&(e=e.wrapAll("<tw-transition-container>").parent()),o&&e.css("transform-origin",o),e.attr("data-t8n",t).addClass("transition-out").css({"animation-duration":n+"ms","animation-delay":r-i+"ms"}),requestAnimationFrame(function(){v.childrenProbablyInline(e)?e.css("display","inline"):e.parent().is("tw-backdrop,tw-story")||e[0].setAttribute("style",e[0].getAttribute("style")+"display:block !important;width:100%")}),b(e,n,r-i,a,function(){e.remove()}))},transitionIn:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0;if(0!==t.length){r=r||l(n);var u=t.length>1||!v.childrenProbablyInline(t)||!["tw-hook","tw-passage","tw-expression"].includes(t.tag());u&&(t=t.wrapAll("<tw-transition-container>").parent()),c&&t.css("transform-origin",c),t.attr("data-t8n",n).addClass("transition-in").css(Object.assign({"animation-duration":r+"ms","animation-delay":i-s+"ms"},i-s?{visibility:"hidden"}:{})),requestAnimationFrame(function(){v.childrenProbablyInline(t)?t.css("display","inline"):t.parent().is("tw-backdrop,tw-story")||t[0].setAttribute("style",t[0].getAttribute("style")+"display:block !important;width:100%")}),b(t,r,i-s,o,function(n){var r=0===t.filter(a.join(",")).length;u&&r?(t.find("tw-transition-container").each(function(t,r){(r=e(r)).css("animation-delay",v.cssTimeUnit(r.css("animation-delay")||0)-n+"ms")}),t.contents().unwrap()):t.removeClass("transition-in").removeAttr("data-t8n")})}},debounce:function(e){var t=void 0,n=void 0,r=0,a=function a(){Date.now()-r>300?(t=0,e.apply(void 0,_toConsumableArray(n))):t=requestAnimationFrame(a)};return function(){r=Date.now(),n=arguments,t&&cancelAnimationFrame(t),t=requestAnimationFrame(a)}},impossible:function(e,t){window.console&&console.error(e+"(): "+t)},assertMustHave:function(e,t){if(window.console)for(var n=0;n<t.length;n+=1)t[n]in e||console.error("Assertion failed: object lacks property "+t[n])},assertOnlyHas:function(e,t){if(window.console)for(var n in e)t.includes(n)||console.error("Assertion failed: object had unexpected property '"+n+"'!")},onStartup:function(e){f?f.push(e):e()},get storyElement(){return p}},e(function(){p=e("tw-story"),f.forEach(function(e){return e()}),f=null}),Object.freeze(v)}),define("utils/naturalsort",[],function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String;return function(n,r){var a,i,o,s,c=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,u=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,l=/^0x[0-9a-f]+$/i,p=/^0/,f=t(n).trim(),d=t(r).trim(),h=f.replace(c,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),y=d.replace(c,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(f.match(l))||1!==h.length&&f.match(u)&&Date.parse(f),g=parseInt(d.match(l))||m&&d.match(u)&&Date.parse(d)||null;if(e&&window.Intl&&window.Intl.Collator&&(o=window.Intl.Collator(e)),g){if(m<g)return-1;if(m>g)return 1}for(var v=0,b=Math.max(h.length,y.length);v<b;v++){if(a=!(h[v]||"").match(p)&&parseFloat(h[v])||h[v]||0,i=!(y[v]||"").match(p)&&parseFloat(y[v])||y[v]||0,isNaN(a)!==isNaN(i))return isNaN(a)?1:-1;if((void 0===a?"undefined":_typeof(a))!==(void 0===i?"undefined":_typeof(i)))a+="",i+="";else if("string"==typeof a&&o&&0!==(s=o.compare(a,i)))return s;if(a<i)return-1;if(a>i)return 1}return 0}}}),define("twinescript/compiler",["utils"],function(e){var t=e.impossible,n=JSON.stringify;function r(e,t){for(var n=0;n<e.length;n+=1)if(t.includes(e[n].type))return n;return NaN}function a(e,t){var n=[];return e.length?([["error"],["comma"],["to","into"],["where","when","via"],["making","each"],["typeSignature"],["augmentedAssign"],["and","or"],["is","isNot"],["contains","doesNotContain","isIn","isNotIn"],["isA","isNotA","matches","doesNotMatch"],["inequality"],["addition","subtraction"],["multiplication","division"],{rightAssociative:["spread","bind"]},{rightAssociative:["not","positive","negative"]},{rightAssociative:["belongingProperty","belongingItProperty","belongingOperator","belongingItOperator"]},["property","itsProperty","possessiveOperator","itsOperator"],["twineLink"],["macro"],["grouping"]]["most"===t?"reverse":"valueOf"]().some(function(t){var a=void 0;if(a=t.rightAssociative?r(e,t.rightAssociative):function(e,t){return e.length-1-r.apply(void 0,[[].concat(_toConsumableArray(e)).reverse(),t])}(e,t),!Number.isNaN(a)&&a>-1)return n=[e[a],a],!0}),n):n}function i(e){if("inequality"===e.type){var t=e.operator;return e.negate?{">":"<=","<":">=",">=":"<","<=":">"}[t]:t}return e.type}function o(e){var t=i(e);return{">":"<","<":">",">=":"<=","<=":">=",contains:"isIn",doesNotContain:"isNotIn",isIn:"contains",isA:"typifies",typifies:"isA",isNotA:"untypifies",untypifies:"isNotA"}[t]||t}var s=["inequality","is","isNot","isIn","contains","doesNotContain","isNotIn","isA","typifies","isNotA","untypifies","matches","doesNotMatch"];function c(e,t,r){return"TwineError.create("+n(e)+","+n(t)+","+n(r)+")"}return function e(r){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=u.isVarRef,p=u.isTypedVar,f=u.whitespaceError,d=u.elidedComparison,h=u.testNeedsRight,y="Operations.Identifiers.it";if(!(r=[].concat(r)).length)return l&&f?c("operation",f):"";var m=void 0;if(1===r.length){var g=(m=r[0]).type;if("identifier"===g)return l?"VarRef.create(Operations.Identifiers,"+n(m.text)+")":"Operations.Identifiers."+m.text.toLowerCase()+" ";if("variable"===g||"tempVariable"===g){var v="VarRef.create("+("tempVariable"===g?"section.stackTop.tempV":"State.v")+"ariables,"+n(m.name)+")"+(l||p?"":".get()");return p?"TypedVar.create(Datatype.create('any'),"+v+")":v}if("hookName"===g)return"HookSet.create({type:'name', data:'"+m.name+"'}) ";if("string"===g)return m.text.replace(/(.?)\n/g,function(e,t){return("\\"===t?"\\\\":"\n"===t?"\\n":t)+"\\n"});if("hook"===g)return"CodeHook.create("+n(m.text.slice(1,-1))+","+n(m.html||"")+")";if("colour"===g)return"Colour.create("+n(m.colour)+")";if("datatype"===g)return"Datatype.create("+n(m.name)+")";if("blockedValue"===g)return"section.blockedValue()";if("root"===g)return e(m.children);if("whitespace"===g&&l&&f)return c("operation",f)}var b,w=a(r,"least"),T=_slicedToArray(w,2);m=T[0],b=T[1];var S=(m||{}).type,x=r.slice(0,b),k=r.slice(b+1),O=function(e,t){return{isVarRef:!0,isTypedVar:t,whitespaceError:"I need usable data to be on the "+e+' of "'+m.text+'".'}},j="must",A="mustn't",C="may",E=void 0,_=void 0,N="",P="",I="",M=j,D=j,R=!1;if(S)if("comma"===S)P=",",D=C;else if("spread"===S)N="Operations.makeSpreader(",I=")",M=C;else if("bind"===S)N="VarBind.create(",_=e(k,O("right")),I=(m.text.startsWith("2")?",'two way'":"")+")",M=A;else if("to"===S)N="Operations.makeAssignmentRequest(Operations.setIt(",_=e(k,O("right")),P="),",E=e(x,O("left",!0)),I=",'to')";else if("into"===S)N="Operations.makeAssignmentRequest(",_=e(x,O("left")),P=",Operations.setIt(",E=e(k,O("right",!0)),I="),'into')";else if("typeSignature"===S)N="TypedVar.create(",P=",",_=e(k,O("right")),I=")",p=!1;else if("where"===S||"when"===S||"via"===S)N="Lambda.create(",E=e(x,{isVarRef:!0,whitespaceError:null}).trim()||"undefined",P=","+n(m.type)+",",_=n(e(k)),I=","+n(r.map(function(e){return e.text}).join(""))+")";else if("making"===S||"each"===S)"each"===S?(N="Lambda.create(",_=e(k,O("right")).trim(),I=",'where','true',"+n(r.map(function(e){return e.text}).join(""))+")",M=C):(N="Lambda.create(",E=e(x,{isVarRef:!0,whitespaceError:null}).trim()||"undefined",P=","+n(m.type)+",",_=e(k,O("right")).trim(),I=","+n(r.map(function(e){return e.text}).join(""))+")");else if("augmentedAssign"===S)N="Operations.makeAssignmentRequest(",E=e(x,O("left")),P=",",_="Operations["+n(m.operator)+"]("+e(x)+","+e(k)+")",I=","+n(m.operator)+")";else if("and"===S||"or"===S){var L=function e(t){var n=a(t,"least"),r=_slicedToArray(n,2),i=r[0],o=r[1];if(i)return s.includes(i.type)?i:["and","or"].includes(i.type)?e(t.slice(0,o))||e(t.slice(o+1)):void 0},F=L(x),q=L(k),V=c("operation",'This use of "is not" and "'+S+'" is grammatically ambiguous.','Maybe try rewriting this as "__ is not __ '+S+' __ is not __"');if(N="Operations."+S+"(",P=",",I=")",d===m.type)N=I="",E=e(x,{isVarRef:l,elidedComparison:d}).trim(),_=e(k,{elidedComparison:d}).trim();else if(F&&!q){var H=F,z=n(i(H));if("isNot"===H.type||"isNotA"===H.type||"untypifies"===H.type)return V;_="Operations.elidedComparisonOperator("+n(m.type)+","+z+","+e(k,{elidedComparison:S})+")"}else if(!F&&q){var W=q,$=r.indexOf(W),B=n(o(W));if("isNot"===W.type||"isNotA"===W.type||"untypifies"===W.type)return V;_="Operations.elidedComparisonOperator("+n(m.type)+","+B+","+e(x,{elidedComparison:S})+")",E=e([].concat(_toConsumableArray(r.slice($+1)),[Object.assign(Object.create(W),_defineProperty({},"inequality"===W.type?"operator":"type",o(W)))],_toConsumableArray(r.slice(b+1,$))))}l=!1}else if(s.includes(S))R=!0,l=!1,N="Operations["+n(i(m))+"](",P=",",I=")";else if("addition"===S||"subtraction"===S){if(!e(x,{testNeedsRight:!0}).trim())return m.type={addition:"positive",subtraction:"negative"}[S],e(r,{isVarRef:l,whitespaceError:f,elidedComparison:d,testNeedsRight:h});l=!1,N="Operations["+n(m.text)+"](",P=",",I=")"}else if("multiplication"===S||"division"===S)l=!1,N="Operations["+n(m.text)+"](",P=",",I=")";else if("positive"===S||"negative"===S)l=!1,E="negative"===S?"-1":"1",N="Operations['*'](",P=",",I=")";else if("not"===S)N="Operations.not(",_=e(k),I=")",M=C;else if("belongingProperty"===S)N="VarRef.create(",_=e(k,O("right")),I=","+n(m.name)+")"+(l?"":".get()"),M=C;else if("belongingOperator"===S||"belongingItOperator"===S)E=m.type.includes("It")?y:e(k,O("right")),_=e(x),N="VarRef.create(",P=",{computed:true,value:",I="})"+(l?"":".get()");else if("property"===S)N="VarRef.create(",E=e(x,O("left")),I=","+n(m.name)+")"+(l?"":".get()"),D=C;else if("itsProperty"===S||"belongingItProperty"===S)N="VarRef.create(",E=y,I=","+n(m.name)+")"+(l?"":".get()"),M=D=C;else if("possessiveOperator"===S||"itsOperator"===S)m.type.includes("it")&&(E=y,M=C),N="VarRef.create(",P=",{computed:true,value:",I="})"+(l?"":".get()"),p=!1;else if("twineLink"===S)P='Macros.run("link-goto", [section,'+n(m.innerText)+","+n(m.passage)+"])",M=D=A;else if("macro"===S){var U=m.children[0],G="$"===U.text[0]||"_"===U.text[0];"macroName"===U.type||G||t("Compiler.compile","macro token had no macroName child token"),P="Macros.run"+(G?"Custom":"")+"("+(G?"VarRef.create("+("_"===U.text[0]?"section.stackTop.tempV":"State.v")+"ariables,"+n(U.text.trim().slice(1,-1))+").get()":'"'+m.name+'"')+", [section,"+e(m.children.slice(1),{isTypedVar:p})+"])",M=D=A}else if("grouping"===S)P="("+e(m.children,{isVarRef:l})+")",M=D=A;else if("error"===S)return c("syntax",n(m.message),m.explanation?n(m.explanation):"");return b>-1?(E=(E||e(x,{isVarRef:l,isTypedVar:p})).trim(),_=(_||e(k)).trim(),R&&!E&&(E=y),M===j&&!E||D===j&&!_?h&&D&&!_?"":c("operation","I need usable code to be "+(M===j?"left ":"")+(M===j&&D===j?"and ":"")+(D===j?"right ":"")+"of "+m.text+"."):M===A&&E||D===A&&_?c("operation","There can't be a "+(E&&M===A&&_&&D===A?E+" or "+_:E&&M===A?E:_)+" to the "+(M===A?"left ":"")+(M===A&&D===A?"or ":"")+(D===A?"right ":"")+"of "+m.text+".","There could be a comma missing between them, or there could be a "):N+E+P+_+I):1===r.length?(("value"in r[0]?r[0].value:r[0].text)+"").trim()||" ":r.reduce(function(t,n){return t+e(n,{isVarRef:l,isTypedVar:p})},"")}}),define("internaltypes/twineerror",["jquery","utils"],function(e,t){var n=t.impossible,r=t.escape;e(document.documentElement).on("click","tw-folddown",function(t){var n=t.target;for((n=e(n)).toggleClass("open");n&&!n.next().length;)n=n.parent();n&&n.next().toggle()});var a={syntax:"The markup seems to contain a mistake.",saving:"I tried to save or load the game, but I couldn't do it.",operation:"I tried to perform an operation on some data, but the data's type was incorrect.",macrocall:"I tried to use a macro, but its call wasn't written correctly.",datatype:"I tried to use a macro, but was given the wrong type of data to it.",custommacro:"I tried to use a custom macro, but its code hook had a mistake in it.",infinite:"I almost ended up doing the same thing over and over, forever.",property:"I tried to access a value in a string/array/datamap, but I couldn't find it.",unimplemented:"I currently don't have this particular feature. I'm sorry.",javascript:"This error message was reported by your browser's Javascript engine. I don't understand it either, but it usually means that an expression was badly written.",propagated:"Click the 'Open' button to see the code hook as it was executed.",user:"This is a custom error created by (error:). It usually means you used a custom macro incorrectly.",assertion:"This command exists to provide a helpful error if a certain important condition wasn't true."},i={error:[],warning:[]},o={create:function(e,t,r,i){return t&&"string"==typeof t||n("TwineError.create","has a bad message string"),r||e in a||n("TwineError.create","no error explanation given"),"user"!==e&&(t=t[0].toUpperCase()+t.slice(1)),Object.assign(Object.create(this),{type:e,message:t,explanation:r,source:void 0,innerDOM:i,appendTitleText:!1})},fromError:function(e){return o.create("javascript","\u2615 "+e.message)},containsError:function(){for(var e=0;e<arguments.length;e+=1){var t=arguments.length<=e?void 0:arguments[e];if(t instanceof Error)return t;if(o.isPrototypeOf(t))return t;if(Array.isArray(t)){var n=o.containsError.apply(o,_toConsumableArray(t));if(n)return n}}return!1},createWarning:function(e,t){return Object.assign(this.create(e,t),{warning:!0})},render:function(n){var o=this;n=n||this.source||"";var s=e("<tw-error class='"+("javascript"===this.type?"javascript ":"")+(this.warning?"warning":"error")+"' title='"+r(n)+"'>"+r(this.message+(this.appendTitleText?" "+n:""))+"</tw-error>"),c=e("<tw-error-explanation>").text(this.explanation||a[this.type]).hide(),u=e("<tw-folddown tabindex=0>");return this.innerDOM&&e("<tw-open-button>").on("click",function(){var n=e("<tw-backdrop><tw-dialog></tw-backdrop>");n.find("tw-dialog").prepend(o.innerDOM,e("<tw-link tabindex=0>OK</tw-link>").on("click",function(){o.innerDOM.detach(),n.remove()}).wrap("<tw-dialog-links>").parent()),t.storyElement.prepend(n)}).appendTo(s),s.append(u).append(c),s.data("TwineError",this),i.error.forEach(function(e){return e(o,n)}),s},on:function(e,t){if(e in i)return"function"!=typeof t||i[e].includes(t)||i[e].push(t),o;n("TwineError.on","invalid event name")}};return o}),define("renderer",["utils","markup","twinescript/compiler","internaltypes/twineerror"],function(e,t,n,r){var a=e.escape,i=e.impossible,o=e.insensitiveName,s=void 0;function c(e,t){return"<"+t+">"+e+"</"+t+">"}function u(e,t){var n=s.render(e.children);return n&&c(n,t)}var l,p,f="text-align: center; max-width:50%; ",d=RegExp(t.Patterns.macroFront+t.Patterns.macroName,"ig");return s={options:{debug:!1,blockerMacros:[],metadataMacros:[]},preprocess:function(e){var a=s.options.metadataMacros;if(!(e.match(d)||[]).some(function(e){return a.some(function(t){return o(e.slice(1,-1))===t})}))return{};var i=!1,c={};return t.lex(e).children.forEach(function e(t){if("macro"===t.type){if(a.some(function(e){return t.name===e})){if(r.isPrototypeOf(c[t.name]))return;if(i)return void(c[t.name]=r.create("syntax","The ("+t.name+":) macro can't appear after non-metadata macros."));if(c[t.name])return void(c[t.name]=r.create("syntax","There is more than one ("+t.name+":) macro."));c[t.name]={code:n(t),source:t.text}}else i=!0;t.children.forEach(function e(t){"macro"===t.type&&a.some(function(e){return t.name===e})?c[t.name]=r.create("syntax","The ("+t.name+":) macro can't be inside another macro."):t.children.forEach(e)})}else t.children.forEach(e)}),c},exec:(l=void 0,p=void 0,function(e){return"string"!=typeof e?(i("Renderer.exec","source was not a string, but "+(void 0===e?"undefined":_typeof(e))),""):e===l?p:(l=e,p=s.render(t.lex(e).children))}),render:function e(i){var l="",p=[];if(!i)return l;for(var d=i.length,h=0;h<d;h+=1){var y=i[h];switch(y.type){case"error":l+=r.create("syntax",y.message,y.explanation).render(a(y.text))[0].outerHTML;break;case"numbered":case"bulleted":var m="numbered"===y.type?"ol":"ul";l+="<"+m+">";for(var g=1;h<d&&i[h];){if("br"===i[h].type){if(l+="</li>",!i[h+1]||i[h+1].type!==y.type)break}else i[h].type===y.type?(l+=("<"+m+">").repeat(Math.max(0,i[h].depth-g)),l+=("</"+m+">").repeat(Math.max(0,g-i[h].depth)),l+="<li>",g=i[h].depth):l+=e([i[h]]);h+=1}l+=("</"+m+">").repeat(g+1);break;case"align":for(;y&&"align"===y.type;){var v=y.align,b=h+=1;if("left"===v){h-=1;break}for(;h<d&&i[h]&&"align"!==i[h].type;)h+=1;var w=e(i.slice(b,h)),T="";switch(v){case"center":T+=f+"margin-left: auto; margin-right: auto;";break;case"justify":case"right":T+="text-align: "+v+";";break;default:+v&&(T+=f+"margin-left: "+v+"%;")}l+="<tw-align "+(T?'style="'+T+'"':"")+">"+w+"</tw-align>\n",y=i[h]}break;case"column":for(var S=[];y&&"column"===y.type;){var x=y.column,k=h+=1;if("none"===x){h-=1;break}for(;h<d&&i[h]&&"column"!==i[h].type;)h+=1;S.push({text:y.text,type:x,body:e(i.slice(k,h)),width:y.width,marginLeft:y.marginLeft,marginRight:y.marginRight}),y=i[h]}S.length&&function(){var e=S.reduce(function(e,t){return e+t.width},0);l+="<tw-columns>"+S.map(function(t){return"<tw-column type="+t.type+'  style="width:'+t.width/e*100+"%; margin-left: "+t.marginLeft+"em; margin-right: "+t.marginRight+'em;">'+t.body+"</tw-column>\n"}).join("")+"</tw-columns>"}();break;case"heading":for(l+="<h"+y.depth+">";++h<d&&i[h];){if("br"===i[h].type){l+="</h"+y.depth+">";break}l+=e([i[h]])}break;case"br":if(!p.length||/td|th/.test(p[0])){l+="<br>";for(var O=i[h+1];O&&("br"===O.type||"tag"===O.type&&/^<br\b/i.test(O.text));)l+="<tw-consecutive-br"+("tag"===O.type?" data-raw":"")+"></tw-consecutive-br>",O=i[(h+=1)+1]}break;case"hr":l+="<hr>";break;case"escapedLine":case"comment":break;case"inlineUrl":l+='<a class="link" href="'+a(y.text)+'">'+y.text+"</a>";break;case"scriptStyleTag":case"tag":var j=y.text.toLowerCase();/^<\/?(?:table|thead|tbody|tr|tfoot|td|th)\b/.test(j)&&p[y.text.startsWith("</")?"shift":"unshift"](j),l+=y.text.startsWith("</")?y.text:y.text.replace(/>$/," data-raw>");break;case"sub":case"sup":case"strong":case"em":l+=u(y,y.type);break;case"strike":l+=u(y,"s");break;case"bold":l+=u(y,"b");break;case"italic":l+=u(y,"i");break;case"twineLink":var A=_slicedToArray(t.lex("(link-goto:"+JSON.stringify(y.innerText)+","+JSON.stringify(y.passage)+")").children,1)[0];l+='<tw-expression type="macro" name="link-goto"'+(s.options.debug?' title="'+a(y.text)+'"':"")+' js="'+a(n(A))+'"></tw-expression>';break;case"hook":l+="<tw-hook "+(y.hidden?"hidden ":"")+(y.name?'name="'+o(y.name)+'"':"")+(s.options.debug&&y.name?' title="Hook: ?'+y.name+'"':"")+' source="'+a(y.innerText)+'"></tw-hook>';break;case"unclosedHook":return l+="<tw-hook "+(y.hidden?"hidden ":"")+(y.name?'name="'+o(y.name)+'"':"")+'source="'+a(i.slice(h+1,d).map(function(e){return e.text}).join(""))+'"></tw-hook>';case"verbatim":l+=c(a(y.innerText).replace(/\n/g,"<br>"),"tw-verbatim");break;case"collapsed":l+=u(y,"tw-collapsed");break;case"unclosedCollapsed":return l+="<tw-collapsed>"+e(i.slice(h+1,d))+"</tw-collapsed>";case"variable":case"tempVariable":case"macro":var C=function(){var t=[],i=[];if("macro"===y.type&&function n(r){"string"!==r.type&&"hook"!==r.type&&r.children.every(n);var a=r.firstChild();if("macro"===r.type&&a&&"macroName"===a.type&&s.options.blockerMacros.includes(o(a.text.slice(0,-1))))t.push(r);else if("hook"===r.type){if(!r.everyLeaf(function(e){return"error"!==e.type||(i.push(e),!1)}))return!1;r.html=e(r.children)}return!0}(y),i.length)return{v:r.create("syntax","This code hook's markup contained "+i.length+" error"+(i.length?"s":"")+":<br>\u2014"+i.map(function(e){return e.message}).join("<br>\u2014")).render(a(y.text))[0].outerHTML};var c=t.length&&t.map(function(e){var t=n(e);return e.type="blockedValue",t});l+='<tw-expression type="'+y.type+'" name="'+a(y.name||y.text)+'"'+(s.options.debug?' title="'+a(y.text)+'"':"")+(t.length?' blockers="'+a(JSON.stringify(c))+'"':"")+' js="'+a(n(y))+'"></tw-expression>',t.forEach(function(e){return e.type="macro"})}();if("object"===(void 0===C?"undefined":_typeof(C)))return C.v;break;default:l+=y.children&&y.children.length?e(y.children):y.text}}return l}},Object.freeze(s)}),define("passages",["jquery","utils/naturalsort","utils","markup","renderer","internaltypes/twineerror"],function(e,t,n,r,a,i){var o=n.unescape,s=n.onStartup,c=Object.assign;function u(e){var t=o(e.html()),n=a.preprocess(t);return c(new Map([["source",t],["tags",(e.attr("tags")||"").split(/\s/)||[]],["name",e.attr("name")]]),{TwineScript_TypeName:"a passage datamap",TwineScript_ObjectName:"a passage datamap",metadata:n})}var l=c(new Map,{TwineScript_ObjectName:"the Passages datamap",getTagged:function(e){var n=t("en",function(e){return e.get("name")}),r=[];return this.forEach(function(t){var n=t instanceof Map&&t.get("tags");Array.isArray(n)&&n.includes(e)&&r.push(t)}),r.sort(n)},getStorylets:function(e,n){var r=n?n.filter(e,[].concat(_toConsumableArray(l.values()))):[].concat(_toConsumableArray(l.values()));if(i.containsError(r))return r;var a=[],o=-1/0,s=r.reduce(function(t,n){if(t)return t;var r=n.get("storylet");if(r){var s=e.speculate(r,n.get("name"),"a (storylet:) macro");if(i.containsError(s))return s.message="There's an error in the storylet passage \""+n.get("name")+'":\n'+s.message,s.source=r.TwineScript_ToSource(),s;if(s){var c=n.get("exclusivity");o=Math.max(o,"number"==typeof c?c:0),a.push(n)}}},void 0);if(s)return s;var c=t("en");return a.filter(function(e){var t=e.get("exclusivity");return(t="number"==typeof t?t:0)===o}).sort(function(e,t){var n=e.get("urgency"),r=t.get("urgency");return(n="number"==typeof n?n:0)!==(r="number"==typeof r?r:0)?r-n:c(e.get("name"),t.get("name"))})},allStorylets:function(){return[].concat(_toConsumableArray(l.values())).filter(function(e){return e.get("storylet")})},loadMetadata:function(e){var t=[];return l.forEach(function(n){n.metadata&&Object.keys(n.metadata).forEach(function(r){if(i.containsError(n.metadata[r]))t.push(n.metadata[r]);else{var a=n.metadata[r],o=a.code,s=a.source,c=e.speculate(o,n.get("name"),"a ("+r+":) macro"),u='In "'+n.get("name")+'":\n';if(i.containsError(c))return c.message=u+c.message,c.source=s,void t.push(c);c instanceof Map?c.forEach(function(e,t){return l(t,e)}):l(r,c)}function l(e,r){n.has(e)?t.push(i.create("syntax","This passage's datamap already has a '"+JSON.stringify(e)+"' data name.")):n.set(e,r)}}),n.metadata=void 0}),t},hasValid:function(e){var t=this.get(e);return t&&t instanceof Map&&t.has("source")},create:u});return s(function(){Array.from(e("tw-storydata > tw-passagedata")).forEach(function(t){t=e(t),l.set(t.attr("name"),new u(t))})}),l}),define("utils/operationutils",["utils/naturalsort","utils","internaltypes/twineerror","patterns"],function(e,t,n,r){var a=t.impossible,i=t.nth,o=t.insensitiveName,s=t.permutations,c=r.validPropertyName,u="object",l="boolean",p="string",f="number",d="function";function h(e){return!!e&&((void 0===e?"undefined":_typeof(e))===u||(void 0===e?"undefined":_typeof(e))===d)}function y(e){return e&&Object.getPrototypeOf(e)===Object.prototype}function m(e){return Array.isArray(e)?"array":e instanceof Map?"datamap":e instanceof Set?"dataset":(void 0===e?"undefined":_typeof(e))===p?p:e&&(void 0===e?"undefined":_typeof(e))===u?u:""}function g(e){if(!h(e))return e;if(_typeof(e.TwineScript_Clone)===d)return e.TwineScript_Clone();if(Array.isArray(e))return[].concat(_toConsumableArray(e));if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if((void 0===e?"undefined":_typeof(e))===d)return Object.assign(e.bind(),e);switch(Object.getPrototypeOf(e)){case Object.prototype:return Object.assign({},e);case null:return Object.assign(Object.create(null),e)}return a("OperationUtils.clone","The value "+e+" cannot be cloned!"),e}function v(e){return h(e)&&"TwineScript_ObjectName"in e?e.TwineScript_ObjectName:Array.isArray(e)?"an array":e instanceof Map?"a datamap":e instanceof Set?"a dataset":(void 0===e?"undefined":_typeof(e))===l?"the boolean value '"+e+"'":(void 0===e?"undefined":_typeof(e))===p||(void 0===e?"undefined":_typeof(e))===f?"the "+(void 0===e?"undefined":_typeof(e))+" "+JSON.stringify(e):void 0===e?"an empty variable":"...whatever this is"}function b(e,t){return(void 0===e?"undefined":_typeof(e))!==u&&(void 0===t?"undefined":_typeof(t))!==u?e===t:Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every(function(e,n){return b(t[n],e)}):e instanceof Map&&t instanceof Map?b(Array.from(e.entries()).sort(),Array.from(t.entries()).sort()):e instanceof Set&&t instanceof Set?b([].concat(_toConsumableArray(e)),[].concat(_toConsumableArray(t))):e&&_typeof(e.TwineScript_is)===d?e.TwineScript_is(t):e&&(void 0===e?"undefined":_typeof(e))===u&&t&&(void 0===t?"undefined":_typeof(t))===u&&y(e)&&y(t)?b(Object.getOwnPropertyNames(e).map(function(t){return[t,e[t]]}),Object.getOwnPropertyNames(t).map(function(e){return[e,t[e]]})):Object.is(e,t)}return Object.freeze({isObject:h,isPureObject:y,singleTypeCheck:function e(t,n){if(null===n)return void 0===t;var r=void 0===t?"undefined":_typeof(t);if((void 0===n?"undefined":_typeof(n))!==d&&n.pattern){if("optional"===n.pattern||"zero or more"===n.pattern)return void 0===t||e(t,n.innerType);if("either"===n.pattern)return n.innerType.some(function(n){return e(t,n)});if("lambda"===n.pattern&&e(t,n.innerType))return n.clauses.includes("where")==="where"in t&&n.clauses.includes("making")==="making"in t&&n.clauses.includes("via")==="via"in t&&n.clauses.includes("with")==="with"in t;if("insensitive set"===n.pattern)return n.innerType.includes(o(t));if("range"===n.pattern)return n.range(t);if("wrapped"===n.pattern)return e(t,n.innerType)}return(void 0===n||void 0!==t)&&("anything"===n.TwineScript_TypeName&&void 0!==t&&!t.TwineScript_Unstorable||"everything"===n.TwineScript_TypeName&&void 0!==t||(n===String?r===p:n===Boolean?r===l:n===parseInt?r===f&&!Number.isNaN(t)&&!(t+"").includes("."):n===Number?r===f&&!Number.isNaN(t):n===Array?Array.isArray(t):n===Map||n===Set?t instanceof n:Object.isPrototypeOf.call(n,t)))},isValidDatamapName:function(e,t){if(e instanceof Map||a("isValidDatamapName","called with non-Map"),n.containsError(t))return t;if((void 0===t?"undefined":_typeof(t))!==p&&(void 0===t?"undefined":_typeof(t))!==f)return n.create("property","Only strings and numbers can be used as data names for "+v(e)+", not "+v(t)+".");var r=(void 0===t?"undefined":_typeof(t))===p?+t:""+t;return!(!Number.isNaN(r)&&e.has(r))||n.create("property","You mustn't use both "+v(t)+" and "+v(r)+" as data names in the same datamap.")},collectionType:m,isSequential:function(e){return(void 0===e?"undefined":_typeof(e))===p||Array.isArray(e)||_typeof(e.hooks)===d},unstorableValue:function e(t){return t&&t.TwineScript_Unstorable&&t||Array.isArray(t)&&t.find(e)||t instanceof Map&&[].concat(_toConsumableArray(t.values())).find(e)||t instanceof Set&&[].concat(_toConsumableArray(t)).find(e)},clone:g,objectName:v,typeName:function e(t){var n=y(t);if(n&&t.innerType)return t.typeName?t.typeName:"insensitive set"===t.pattern?"a case-insensitive string name":"either"===t.pattern?(Array.isArray(t.innerType)||a("typeName",'"either" pattern had non-array inner type'),t.innerType.map(e).join(" or ")):"optional"===t.pattern?"(optional) "+e(t.innerType):e(t.innerType);if(n&&t.pattern&&"range"===t.pattern){if(t.name)return t.name;var r=t.min,i=t.max;return"a"+(r>0?" positive":"")+(t.integer?" whole":"")+" number"+(0===r?" between 0 and "+i:i<1/0?" up to "+i:"")}return t===String||t===Number||t===Boolean?"a "+_typeof(t()):t===parseInt?"a whole number":t===Map?"a datamap":t===Set?"a dataset":t===Array?"an array":h(t)&&"TwineScript_TypeName"in t?t.TwineScript_TypeName:v(t)},typeID:function(e){var t=void 0===e?"undefined":_typeof(e);return[l,p,f].includes(t)?t:Array.isArray(e)?"array":e instanceof Map?"datamap":e instanceof Set?"dataset":e.TwineScript_TypeID||""},toSource:function t(r,o){var s=n.containsError(r);return s&&a("toSource","received a TwineError: "+s.message),_typeof(r.TwineScript_ToSource)===d?r.TwineScript_ToSource():y(r)&&"first"in r&&"last"in r?(r.first<0?(-1!==r.first?i(-r.first):"")+"last":i(r.first+1))+"to"+(r.last<0?(-1!==r.last?i(-r.last):"")+"last":i(r.last+1)):Array.isArray(r)?"(a:"+("property"===o?r.map(function(e){return e+(e>0)}):r).map(t)+")":r instanceof Map?"(dm:"+Array.from(r.entries()).sort(function(t,n){return[t[0],n[0]].sort(e("en"))[0]===t[0]?-1:1}).map(function(e){return e.map(t)})+")":r instanceof Set?"(ds:"+Array.from(r).sort(e("en")).map(t)+")":(void 0===r?"undefined":_typeof(r))===f&&"property"===o?r<0?-1===r?"last":i(-r)+"last":i(r+1):(void 0===r?"undefined":_typeof(r))===p&&"property"===o?RegExp(c).test(r)?r:"("+JSON.stringify(r)+")":JSON.stringify(r)},is:b,contains:function(e,t){if(e||""===e){if((void 0===e?"undefined":_typeof(e))===p)return(void 0===t?"undefined":_typeof(t))!==p?n.create("operation",v(e)+" can only contain strings, not "+v(t)+"."):e.includes(t);if(Array.isArray(e))return e.some(function(e){return b(e,t)});if(e instanceof Set||e instanceof Map)return Array.from(e.keys()).some(function(e){return b(e,t)})}return n.create("operation",v(e)+" cannot contain any values, let alone "+v(t))},isA:function(e,t){return _typeof(t.TwineScript_IsTypeOf)===d?t.TwineScript_IsTypeOf(e):n.create("operation",'"is a" should only be used to compare type names, not '+v(t)+".")},matches:function e(t,r){var a=!1;if(t&&_typeof(t.TwineScript_IsTypeOf)===d){var i=t.TwineScript_IsTypeOf(r);if(n.containsError(i))return i;a|=i}if(r&&_typeof(r.TwineScript_IsTypeOf)===d){var o=r.TwineScript_IsTypeOf(t);if(n.containsError(o))return o;a|=o}if(a)return!0;if(Array.isArray(t)&&Array.isArray(r)){for(var c=0,u=0,l=!0;l&&c<t.length&&u<r.length;){var p=t[c],f=r[u];if(p.rest){for(;u<r.length&&e(p,f);)f=r[u+=1];c+=1}else if(f.rest){for(;c<t.length&&e(p,f);)p=t[c+=1];u+=1}else e(p,f)?(c+=1,u+=1):l=!1}return l&&c>=t.length&&u>=r.length}return t instanceof Map&&r instanceof Map?e(Array.from(t.entries()).sort(),Array.from(r.entries()).sort()):t instanceof Set&&r instanceof Set?(t=[].concat(_toConsumableArray(t)),s.apply(void 0,_toConsumableArray(r)).some(function(n){return e(t,n)})):b(t,r)},subset:function e(t,r,a){if(!r||!a)return n.create("macrocall","The sub"+m(t)+" index value must not be "+(r&&a)+".");var i=(void 0===t?"undefined":_typeof(t))===p;if(i&&(t=Array.from(t)),r<0&&(r=Math.max(0,t.length+r+1)),a<0&&(a=Math.max(0,t.length+a+1)),r>a)return e(arguments[0],a,r);var o=t.slice(r>0?r-1:r,a).map(g);return i?o.join(""):o},range:function e(t,n){if(t>n)return e(n,t);var r=[t];for(n-=t;n-- >0;)r.push(++t);return r},printBuiltinValue:function e(t){return n.containsError(t)?t:t&&_typeof(t.TwineScript_Print)===d?t.TwineScript_Print():t instanceof Map?(t=Array.from(t.entries()),n.containsError(t)?t:t.reduce(function(t,n){var r=_slicedToArray(n,2),a=r[0],i=r[1];return t+"<tr><td>`"+e(a)+"`</td><td>`"+e(i)+"`</td></tr>"},"<table class=datamap>")+"</table>"):t instanceof Set?Array.from(t.values()).map(e)+"":Array.isArray(t)?t.map(e)+"":t&&_typeof(t.jquery)===p?t:h(t)?n.create("unimplemented","I don't know how to print this value yet."):t+""},unique:function(e,t,n){return!n.slice(t+1).some(function(t){return b(e,t)})}})}),define("utils/renderutils",["jquery","utils","renderer"],function(e,t,n){var r=RegExp(t.realWhitespace+"+"),a=RegExp(t.realWhitespace+"+","g");function i(e,t,n){var r=e.textContent.length;if(!(t>=r)){var a=void 0,i=[a=0===t?e:e.splitText(t)];return n&&(n<=0&&(n=r-n),n<r&&i.push(a.splitText(n-t))),i}}var o,s=(o=void 0,function(){if(void 0!==o)return o;var t=e("<p>");return t[0].normalize?(t.append(document.createTextNode("0-"),document.createTextNode("2"),document.createTextNode(""))[0].normalize(),o=1===t.contents().length):o=!1});var c="tw-collapsed,[collapsing=true]";var u=/^(=*)([^=]+)=*$/;return Object.freeze({dialog:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r.section,i=r.parent,o=void 0===i?t.storyElement:i,s=r.cd,c=r.message,u=void 0===c?"":c,l=r.defaultValue,p=r.buttons,f=void 0===p?[{name:"OK",confirm:!0,callback:Object}]:p,d=e("<tw-backdrop><tw-dialog>"+(l||""===l?"<input type=text style='display:block;margin:0 auto'></input>\n":"")+"<tw-dialog-links>"+(f.length?f.reduce(function(e,t,n){var r=t.name;return e+"<tw-link style='margin:0 "+(n===f.length-1?"0 0 0.5em":0===n?"0.5em 0 0":"0.5em")+"' tabindex=0>"+r+"</tw-link>"},""):"<tw-link tabindex=0>"+f[0].name+"</tw-link>")+"</tw-dialog-links></tw-dialog></tw-backdrop>"),h=d.find("tw-dialog");if(o.append(d),a){a.renderInto(u,h,Object.assign({},s,{append:"prepend"}));var y=s&&s.transition&&d.find("tw-dialog > tw-transition-container");y&&y.length&&y.appendTo(d).append(h.prepend(y.contents().detach()))}else h.prepend(n.exec(u));if(l){var m=d.find("input").last();m.val(l).on("keypress",function(e){13===e.which&&(d.remove(),f.filter(function(e){return e.confirm}).forEach(function(e){return e.callback()}))}),setTimeout(function(){return m.focus()},100)}return f.reverse().forEach(function(t,n){e(d.find("tw-link").get(-n-1)).on("click",function(){d.remove(),t.callback()})}),d},realWhitespace:r,textNodeToChars:function(e){var t=[].concat(_toConsumableArray(e.textContent));return 1===t.length?[e]:t.reduce(function(e,t){return t.match(r)&&e.length&&e[e.length-1].match(r)?e[e.length-1]+=t:e.push(t),e},[]).reduce(function(t,n){var r=e;return n.length<e.textContent.length&&(e=e.splitText(n.length)),t.concat(r)},[])},findTextInNodes:function e(t,n){var r=[],a="",o=[];if(!t.length||!n)return o;for(;t.length>0;){r.push(t[0]),a+=t[0].textContent,t.shift();var s=a.indexOf(n);if(s>-1){for(var c,u=a.length-(s+n.length);s>=r[0].textContent.length;)s-=r[0].textContent.length,r.shift();if(1===r.length){var l=i(r[0],s,s+n.length);o.push(l[0]),l[1]&&t.unshift(l[1]);break}o.push(i(r[0],s,r[0].length)[0]),(c=o).push.apply(c,_toConsumableArray(r.slice(1,-1)));var p=i(r[r.length-1],0,r[r.length-1].textContent.length-u);o.push(p[0]),p[1]&&t.unshift(p[1]),o=o.filter(Boolean);break}}return[o].concat(_toConsumableArray(e(t,n)))},collapse:function(t){function n(t){return 0===e(this||t).parentsUntil(c).filter("tw-verbatim, tw-expression, [collapsing=false]").length}var r=function e(t){var n=t[0],r=t.parent();if(!r.length||t.findAndFilter("tw-story").length)return null;var a=r.textNodes().filter(function(e){var t=e.compareDocumentPosition(n);return 4&t&&!(8&t)});return(a=a[a.length-1])||e(r)}(t);e(r).parents(c).length||(r=null);var i=function e(t){var n=t[0],r=t.parent();if(!r.length||t.findAndFilter("tw-story").length)return null;var a=r.textNodes().filter(function(e){var t=e.compareDocumentPosition(n);return 2&t&&!(8&t)})[0];return a||e(r)}(t);e(i).parents(c).length||(i=null);var o="br:not([data-raw]),tw-consecutive-br:not([data-raw])";t.find(o).filter(n).replaceWith(document.createTextNode(" "));var u=(t=e(t.get().map(function(t){return e(t).filter(n).is(o)?e(document.createTextNode(" ")).replaceAll(t)[0]:t}))).textNodes(),l=0;u.reduce(function(e,t){return n(t)?(t.textContent=t.textContent.replace(a," ")," "!==t.textContent[0]||e&&e.textContent&&!(e.textContent.search(/\s$/)>-1)||(t.textContent=t.textContent.slice(1)),t):document.createTextNode("A")},r),[].concat(_toConsumableArray(u)).reverse().every(function(e){return!!n(e)&&(e.textContent.match(/^\s*$/)?(l+=e.textContent.length,e.textContent="",!0):(e.textContent=e.textContent.replace(/\s+$/,function(e){return l+=e.length,""}),!1))}),l>0&&i&&(u[u.length-1].textContent+=" "),t[0]&&s()&&t[0].normalize()},geomStringRegExp:u,geomParse:function(e){var t=e.length,n=u.exec(e)||[],r=_slicedToArray(n,3),a=r[0],i=r[1],o=r[2];return a?{marginLeft:i.length/t*100,size:o.length/t*100}:{marginLeft:0,size:0}}})}),define("datatypes/hookset",["jquery","utils","utils/renderutils","utils/operationutils"],function(e,t,n,r){var a=n.textNodeToChars,i=n.realWhitespace,o=n.findTextInNodes,s=r.toSource;function c(n){var r=n.dom,s=e();this.next&&(s=s.add(c.call(this.next,n)));var u=function(t,n){if(Array.isArray(n))return n.reduce(function(e,n){return e.add(t.get(n))},e());if(n&&"object"===(void 0===n?"undefined":_typeof(n))&&"first"in n&&"last"in n){var r=n.first,o=n.last,s=t.length;r<0&&(r+=s),o<0&&(o+=s);for(var c=[t.get(r)];r!==o;)r+=Math.sign(o-r),c.push(t.get(r));return e(c)}if("string"==typeof n){if("chars"===n){var u=[],l=!0,p=!1,f=void 0;try{for(var d,h=t.textNodes(":not(tw-error, tw-error *)")[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var y=d.value,m=!0,g=!1,v=void 0;try{for(var b,w=a(y)[Symbol.iterator]();!(m=(b=w.next()).done);m=!0){var T=b.value;T.textContent.match(i)||u.push(T)}}catch(e){g=!0,v=e}finally{try{!m&&w.return&&w.return()}finally{if(g)throw v}}}}catch(e){p=!0,f=e}finally{try{!l&&h.return&&h.return()}finally{if(p)throw f}}return e(u)}if("links"===n)return t.findAndFilter("tw-link, .enchantment-link");if("visited"===n)return t.findAndFilter("tw-link.visited");if("lines"===n){var S=t.findAndFilter("br:not(tw-sidebar *),tw-consecutive-br:not(tw-sidebar *)").get(),x=[[]];return t.textNodes(":not(tw-error, tw-error *):not(tw-sidebar, tw-sidebar *)").forEach(function(e){S.length&&2&e.compareDocumentPosition(S[0])&&(S.shift(),x.push([])),x[x.length-1]=x[x.length-1].concat(e)}),x=x.map(function(t){return t.map(function(n){for(var r=n.parentNode;e(r).textNodes().every(function(e){return t.includes(e)})&&!t.every(function(t){return e(r).has(t).length});){r=(n=r).parentNode}return n})}),e(x.map(function(t){return e(t).wrapAll("<tw-pseudo-hook>").parent()[0]}))}}return e(t.get(n))};if(this.selector){var l=void 0;if("string"===this.selector.type)l=function(t,n){var r=o(n.textNodes(),t),a=e();return r.forEach(function(t){a=a.add(e(t).wrapAll("<tw-pseudo-hook>").parent())}),a}(this.selector.data,r);else{if("base"===this.selector.type)return s.add(u(c.call(this.selector.data,n),this.property));var p=function(e){var n='tw-hook[name="'+(e=t.insensitiveName(e).replace(/"/g,"&quot;"))+'"],tw-enchantment[name="'+e+'"]';return n+={page:", tw-story",passage:", tw-passage",sidebar:", tw-sidebar",link:", tw-link, .enchantment-link"}[e]||""}(this.selector.data);l=r.findAndFilter(p).add(r.parentsUntil(t.storyElement.parent())).filter(p)}s=this.property?s.add(u(l,this.property)):s.add(l)}return s}function u(e){if(!e)return[];var n=e.selector,r=e.property,a=e.next;return[JSON.stringify(["base"===n.type?u(n.data):t.insensitiveName(n.data),r])].concat(_toConsumableArray(u(a))).sort()}var l=Object.freeze({forEach:function(t,n){var r=c.call(this,t).each(function(t){n(e(this),t)});return t.dom.findAndFilter("tw-pseudo-hook").contents().unwrap(),r},hooks:function(e){return c.call(this,e)},get TwineScript_ObjectName(){return this.property||this.next?"a complex hook name":"?"+this.selector.data+" (a hook name)"},TwineScript_TypeID:"hookName",TwineScript_TypeName:"a hook name (like ?this)",TwineScript_Unstorable:!0,TwineScript_ToSource:function(){var e="",n=this.selector,r=n.type,a=n.data;return"name"===r?a.match(RegExp("^"+t.anyRealLetter+"+$"))?e+="?"+a:e+="(hooks-named:"+JSON.stringify(a)+")":"string"===r?e+=JSON.stringify(a):"base"===r&&(e+=a.TwineScript_ToSource()+"'s "+s(this.property,"property")),this.next&&(e+=" + "+this.next.TwineScript_ToSource()),e},"TwineScript_+":function(e){for(var t=this.TwineScript_Clone(),n=t;n.next;)n=n.next;return n.next=e,t},TwineScript_is:function(e){return u(this)+""==u(e)+""},TwineScript_GetProperty:function(e){return l.create({type:"base",data:this},e,void 0)},TwineScript_Properties:["chars","links","lines","visited"],TwineScript_Clone:function(){return l.create(this.selector,this.property,this.next)},create:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return Object.assign(Object.create(this||l),{selector:Object.freeze(e),property:t,next:n})},from:function(e){return l.isPrototypeOf(e)||"string"==typeof e||t.impossible("HookSet.from() was given a non-HookSet non-string."),l.isPrototypeOf(e)?e:l.create({type:"string",data:e})}});return l}),define("internaltypes/changedescriptor",["jquery","utils","renderer","datatypes/hookset"],function(e,t,n,r){var a=t.assertOnlyHas,i=t.impossible,o=t.transitionIn,s=n.exec,c=Object.assign,u=Object.keys,l=Object.create,p=Object.seal,f=function(e){return e.split(/\n/g).reduce(function(e,t,n,r){var a=r.length;return e.concat(document.createTextNode(t),n!==a-1&&document.createElement(t.length?"br":"tw-consecutive-br"))},[])},d=void 0,h={source:"",appendSource:null,enabled:!0,enablers:null,verbatim:!1,target:null,append:"",newTargets:null,transition:"",transitionTime:null,transitionDeferred:!1,transitionDelay:0,transitionSkip:0,transitionOrigin:null,loopVars:null,styles:null,attr:null,data:null,innerEnchantments:null,section:null,timestamp:0,summary:function(){var e=this;return["source","appendSource","enabled","verbatim","target","append","newTargets","transition","transitionTime","transitionDeferred","transitionDelay","transitionSkip","transitionOrigin","innerEnchantments","enablers"].filter(function(t){return e.hasOwnProperty(t)}).concat([this.attr.length&&"attr",this.styles.length&&"styles",u(this.loopVars).length&&"loopVars",u(this.data).length&&"data"].filter(Boolean))},create:function(e,t){var n=c(l(this),{attr:[].concat(this.attr||[]),styles:[].concat(this.styles||[]),loopVars:this.loopVars||{},data:this.data||{}},e);return t&&t.run(n),n},update:function(){var e=this,t=this.section,n=this.newTargets,a=this.transition,i=this.transitionDeferred,s=this.append,c=this.target;"function"==typeof c&&(c=c());var l=function(t){if(Array.isArray(e.styles)&&e.styles.length>0){var n=e.styles.reduce(function(e,t){return u(t).forEach(function(n){var r=t[n];e[+("function"==typeof r)].push(_defineProperty({},n,r))}),e},[[],[]]),r=_slicedToArray(n,2),a=r[0],i=r[1];a.forEach(function(e){return t.css(e)}),setTimeout(function(){i.forEach(function(e){return t.css(e)})})}e.attr&&e.attr.forEach(function(e){return t.attr(e)}),e.data&&t.data(e.data)};if(Array.isArray(n)&&n.length&&(c=n.map(function(e){return e.target})),[].concat(c).forEach(function(e){r.isPrototypeOf(e)?e.forEach(t,l):l(e)}),a&&!i&&!s){var p=c,f=void 0;do{!(f=p.data("timestamp"))&&(p=p.parent())}while(!f&&p.length);o(c,a,this.transitionTime,this.transitionDelay,this.transitionSkip,f?Date.now()-f:0,this.transitionOrigin)}},render:function(){var t=this,n=this.source,u=this.transition,l=this.transitionTime,p=this.transitionDeferred,y=this.enabled,m=this.enablers,g=this.data,v=this.section,b=this.newTargets,w=this.innerEnchantments,T=this.appendSource,S=this.target,x=this.target,k=this.append;if("function"==typeof S&&(S=S()),a(this,d),!k)return i("ChangeDescriptor.render","This doesn't have an 'append' method chosen."),e();if(m&&m.length){var O=m[0],j=O.descriptor,A=O.changer,C=j.render();if(A){var E=h.create({section:v,target:C});A.run(E),E.update()}return C}if(!y||void 0!==S.attr("hidden"))return h.create({target:S,attr:this.attr.filter(function(e){return!("style"in e)}),data:c({},g,{originalSource:n,hidden:!0})}).update(),e();if(Array.isArray(b)&&b.length&&(S=b),!S)return i("ChangeDescriptor.render","ChangeDescriptor has source but not a target!"),e();var _=e();if([].concat(S).filter(function(e){return!e.jquery}).map(function(e){var t=k,n=void 0;if(e.target&&e.append){var r=e;t=r.append,n=r.before,e=e.target}return{elements:e.hooks(v,x).filter(function(){return!(n&&1&this.compareDocumentPosition(document)&&2&this.compareDocumentPosition(x[0]))}),append:t}},[]).forEach(function(n){var r=n.elements,a=n.append;r.each(function(n,r){r=e(r),_=_.add(t.create({target:r,append:a,newTargets:null}).render()),r.filter("tw-pseudo-hook").contents().unwrap()})}),_.length||Array.isArray(S)||r.isPrototypeOf(S))return _;if(!(k in S)){if("replace"!==k)return i("ChangeDescriptor.render","The target doesn't have a '"+k+"' method."),e();S[0]instanceof Text?k="replaceWith":(S.empty(),k="append")}return S[0]instanceof Text&&("append"===k&&(k="after"),"prepend"===k&&(k="before")),_=e(n&&(this.verbatim?f(n):e.parseHTML(s(n),document,!0))),Array.isArray(T)&&T.forEach(function(n){var r=n.source,a=n.append,i=e(t.verbatim?f(r):e.parseHTML(s(r),document,!0));_="append"===a?_.add(i):"prepend"===a?i.add(_):i}),S[k](_.length?_:void 0),S.data("timestamp",Date.now()),this.update(),u&&!p&&o("replace"===k?S:_,u,l,this.transitionDelay,this.transitionSkip,this.expedite,this.transitionOrigin),w&&w.map(function(e){return e(S)}).forEach(function(e){return v.addEnchantment(e)}),_}};return d=u(h),p(h)}),define("datatypes/changercommand",["utils","utils/operationutils","internaltypes/changedescriptor","internaltypes/twineerror"],function(e,t,n,r){var a=e.impossible,i=t.is,o=t.toSource,s={},c={TwineScript_TypeID:"changer",TwineScript_TypeName:"a changer",TwineScript_Print:function(){return"`[A ("+this.macroName+":) changer]`"},TwineScript_ToSource:function(){return"("+this.macroName+":"+("else"===this.name?"":this.params.map(o))+")"+(this.next?"+"+this.next.TwineScript_ToSource():"")},summary:function(){var e=n.create();return this.run(e),e.summary()},create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Array.isArray(t)||a("ChangerCommand.create","params was not an array but "+t),Object.assign(Object.create(this),{macroName:e,params:t,next:n,TwineScript_ObjectName:"a ("+e+":) changer"})},"TwineScript_+":function(e){for(var t=this.TwineScript_Clone(),n=t;n.next;)n=n.next;return n.next=e,t},TwineScript_is:function(e){if(c.isPrototypeOf(e))return this.macroName===e.macroName&&i(this.params,e.params)&&i(this.next,e.next)},TwineScript_Clone:function(){for(var e=this.create(this.macroName,this.params,this.next),t=e;t.next;)t=t.next=t.next.TwineScript_Clone();return e},run:function(e){var t=s[this.macroName].apply(s,[e].concat(_toConsumableArray(this.params)));if(r.containsError(t))return t;this.next&&this.next.run(e)},register:function(e,t){s[e]=t}};return Object.freeze(c)}),define("state",["utils","passages","datatypes/changercommand","internaltypes/twineerror","utils/operationutils","markup","twinescript/compiler"],function(e,t,n,r,a,i,o){var s=e.impossible,c=a.objectName,u=a.toSource,l=i.lex,p=Object.assign,f=Object.create,d=Object.defineProperty;d(Map.prototype,"toJSON",{value:void 0}),d(Set.prototype,"toJSON",{value:void 0});var h=["localStorage","sessionStorage"].map(function(e){try{return!!window[e]&&(window[e].setItem("test","1"),window[e].removeItem("test"),!0)}catch(e){return!1}}),y=p(f(null),{TwineScript_ObjectName:"this story's variables",TwineScript_TypeDefs:f(null),TwineScript_VariableStore:!0,TwineScript_MockVisits:null}),m={passage:"",variables:y,create:function(e,t){var n=f(m);return n.passage=e||"",n.variables=p(f(this.variables),t),n}},g=[],v=-1,b=m.create(),w=void 0,T={forward:[],back:[],load:[]},S=void 0;function x(e){b=(g[v]||m).create(e),function(){if(S.hasSessionStorage){var e=S.serialise();if("string"==typeof e)try{sessionStorage.setItem("Saved Session",e)}catch(e){return}}}()}return S=p({get passage(){return b.passage},get variables(){return b.variables},get pastLength(){return v},get futureLength(){return g.length-1-v},get mockVisits(){return b.variables.TwineScript_MockVisits||[]},set mockVisits(e){b.variables.TwineScript_MockVisits=e},passageNameVisited:function(e){var n=0;if(!t.get(e))return 0;for(var r=0;r<=v;r++)n+=+(e===g[r].passage);return n},passageNameLastVisited:function(e){if(!t.get(e))return 1/0;if(e===b.passage)return 0;for(var n=v;n>0;n--)if(g[n].passage===e)return v-n+1;return 1/0},pastPassageNames:function(){for(var e=[],t=v-1;t>=0;t--)e.unshift(g[t].passage);return e},timelinePassageNames:function(){return g.map(function(e){return e.passage})},play:function(e){b||s("State.play","present is undefined!"),b.passage=e,g=g.slice(0,v+1).concat(b),v+=1,x(e),T.forward.forEach(function(t){return t(e)})},rewind:function(e){var t=1,n=!1;if(e)if("string"==typeof e){if((t=this.passageNameLastVisited(e))===1/0)return}else"number"==typeof e&&(t=e);for(;t>0&&v>0;t--)n=!0,v-=1;return n&&(x(g[v].passage),T.back.forEach(function(e){return e()})),n},fastForward:function(e){var t=1,n=!1;for("number"==typeof e&&(t=e);t>0&&g.length>0;t--)n=!0,v+=1;return n&&(x(g[v].passage),T.forward.forEach(function(e){return e(g[v].passage,"fastForward")})),n},on:function(e,t){if(e in T)return"function"!=typeof t||T[e].includes(t)||T[e].push(t),S;s("State.on","invalid event name")},reset:function(){g=[],v=-1,b=m.create(),w=void 0,T.load.forEach(function(e){return e(g)})},hasStorage:h[0],hasSessionStorage:h[1]},function(){function e(e,t){Object.keys(t).forEach(function(n){return!n.startsWith("TwineScript_")&&(t[n]=e.eval(o(l(t[n],0,"macro"))))})}return{serialise:function(){var e=g.slice(0,v+1),t=e.map(function(e){return Object.keys(e.variables).filter(function(t){return e.variables[t]&&(n=e.variables[t],a=void 0===n?"undefined":_typeof(n),!(!r.containsError(n)&&("function"==typeof n.TwineScript_ToSource||Array.isArray(n)||n instanceof Map||n instanceof Set||"string"===a||"number"===a||"boolean"===a||Object.isPrototypeOf.call(y.TwineScript_TypeDefs,n))));var n,a}).map(function(t){return[t,e.variables[t]]})});if(w||(w=t.reduce(function(e,t,n){var r=_slicedToArray(t,2),a=r[0],i=r[1];return e||a&&[a,i,n+1]},void 0)),w){var n=_slicedToArray(w,3),a=n[0],i=n[1],o=n[2];return r.create("saving","The variable $"+a+" holds "+c(i)+" (which is, or contains, a complex data value) on turn "+o+"; the game can no longer be saved.")}try{return JSON.stringify(e,function(e,t){return this.TwineScript_VariableStore?"TwineScript_TypeDefs"===e?Object.keys(t).reduce(function(e,n){return e[n]=u(t[n]),e},{}):"TwineScript_MockVisits"===e?t:u(t):t})}catch(e){return!1}},deserialise:function(n,r){var a,i=void 0,o=y,s="The save data is unintelligible.";try{i=JSON.parse(r)}catch(e){return Error(s)}return Array.isArray(i)?(a=(i=i.map(function(r){if("object"!==(void 0===r?"undefined":_typeof(r))||!r.hasOwnProperty("passage")||!r.hasOwnProperty("variables"))return Error(s);if(!t.hasValid(r.passage))return Error("The data refers to a passage named '"+r.passage+"', but it isn't in this story.");if(r.variables=p(f(o),r.variables),Object.hasOwnProperty.call(r.variables,"TwineScript_TypeDefs")){var a=r.variables.TwineScript_TypeDefs=p(f(o.TwineScript_TypeDefs),r.variables.TwineScript_TypeDefs);try{e(n,a)}catch(e){return Error(s)}}try{e(n,r.variables)}catch(e){return Error(s)}return o=r.variables,p(f(m),r)})).find(function(e){return e instanceof Error}))?a:(g=i,T.load.forEach(function(e){return e(g)}),v=g.length-1,x(g[v].passage),!0):Error(s)}}}()),Object.seal(m),Object.freeze(S)}),define("internaltypes/varref",["state","internaltypes/twineerror","utils","utils/operationutils","datatypes/hookset"],function(e,t,n,r,a){var i=n.impossible,o=n.andList,s=n.nth,c=r.is,u=r.isObject,l=r.toSource,p=r.isSequential,f=r.objectName,d=r.typeName,h=r.clone,y=r.isValidDatamapName,m=r.subset,g=r.collectionType,v=r.unstorableValue,b=r.matches,w=void 0,T=0,S={set:[],delete:[]},x="You can only access position strings/numbers ('4th', 'last', '2ndlast', (2), etc.) or slices ('1stTo2ndlast', '3rdTo5th'), ",k="You can't access the '0th' or '0thlast' position of ";function O(e,n){var r=void 0;if(t.containsError(n))return r;if(e instanceof Map&&(r=t.containsError(y(e,n))))return r;if(p(e)){var i=void 0;if("number"==typeof n){if(0===n)return t.create("property","You can't access elements at position 0 of "+f(e)+".","Only positive and negative position values exist.");n>0&&(n-=1)}else if("string"==typeof n&&(i=/^(\d+)(?:st|[nr]d|th)last$/i.exec(n))){if("0"===i[1])return t.create("property",k+f(e)+".");n=-i[1]}else if("string"==typeof n&&(i=/^(\d+)(?:st|[nr]d|th)$/i.exec(n))){if("0"===i[1])return t.create("property",k+f(e)+".");n=i[1]-1}else if("string"==typeof n&&(i=/^(?:(\d+)(?:st|[nr]d|th)(last)?|last)to(?:(\d+)(?:st|[nr]d|th)(last)?|last)$/i.exec(n))){var s=_slicedToArray(i,5),c=s[1],u=void 0===c?0:c,l=s[2],d=s[3],h=void 0===d?0:d;n={last:h=s[4]?-h:h-1,first:u=l?-u:u-1}}else if("last"===n)n=-1;else if("random"===n){if(!e.length)return t.create("property","I can't get a random value from "+f(e)+", because it's empty");n=Math.random()*Array.from(e).length|0}else{if(a.isPrototypeOf(e)&&!a.TwineScript_Properties.includes(n))return t.create("property",x+o(a.TwineScript_Properties.map(function(e){return"'"+e+"'"}))+" of "+f(e)+", not "+f(n)+".");if(!["length","any","all","start","end","random"].includes(n)&&!a.isPrototypeOf(e))return t.create("property",x+"'length', 'any', 'all', 'start', 'end', and 'random' of "+f(e)+", not "+f(n)+".")}}else if(e instanceof Set){if(!["length","any","all"].includes(n))return t.create("property","You can only get the 'length', 'any' and 'all' of "+f(e)+".","To check contained values, use the 'contains' operator.");"length"===n&&(n="size")}else{if(Array.isArray(e.TwineScript_Properties)&&!e.TwineScript_Properties.includes(n))return t.create("property","You can only get the "+o(e.TwineScript_Properties.map(function(e){return"'"+e+"'"}))+" of "+f(e)+", not "+f(n)+".");if("number"==typeof e||"boolean"==typeof e)return t.create("property","You can't get data values from "+f(e)+".")}return n}function j(e,t){return t-0<0&&Math.abs(t)<=e.length?e.length+(t-0):t}var A=/[^\x0000-\xFFFF]/,C=new Map;function E(e,t){if(void 0===e)return e;if(e instanceof Map||w.isPrototypeOf(e))return e.get(t);if(("any"===t||"all"===t||"start"===t||"end"===t)&&!e.TwineScript_VariableStoreName)return function(e,t){var n="'"+t+"' value"+("any"===t?"":"s")+" of ";return{determiner:t,array:[].concat(_toConsumableArray(e)),string:"string"==typeof e&&e,TwineScript_ObjectName:n+f(e),TwineScript_TypeName:n+"a data structure",TwineScript_Unstorable:!0,TwineScript_Print:function(){return"`["+this.TwineScript_TypeName+"]`"}}}(e,t);if("string"==typeof e)if(C.has(e))e=C.get(e);else if(A.test(e)){var n=[].concat(_toConsumableArray(e));C.set(e,n),e=n}else C.set(e,e);if(p(e)&&Number.isFinite(t)&&(t=j(e,t)),e.TwineScript_GetProperty)return e.TwineScript_GetProperty(t);var r=e[t];return"function"!=typeof r?r:void 0}function _(e){if(e.computed){var t=e.value;return w.isPrototypeOf(t)&&(t=t.get()),"string"==typeof t?"('"+t+"')":"("+t+")"}return"number"==typeof e?s(e):"'"+e+"'"}function N(n,r,i){if(n.TwineScript_VariableStore){if(n.TwineScript_TypeDefs&&r in n.TwineScript_TypeDefs){var o=n.TwineScript_TypeDefs[r];if("const"===o.name){if(void 0!==n[r])return t.create("operation","I can't alter "+(n===e.variables?"$":"_")+r+" because it's been restricted to a constant value.","This variable can't be changed for the rest of the story.")}else if(!b(o,i))return t.create("operation","I can't set "+(n===e.variables?"$":"_")+r+" to "+d(i)+" because it's been restricted to "+l(o)+"-type data.","You can restrict a variable or data name by giving a typed variable to (set:) or (put:).")}return!0}return Array.isArray(r)?r.map(function(e){return N(n,e)}):n instanceof Map?"string"==typeof r||t.create("operation",f(n)+" can only have string data names, not "+f(r)+"."):p(n)?["length","random","any","all","start","end"].includes(r)?t.create("operation","I can't forcibly alter the '"+r+"' of "+f(n)+".","start"===r||"end"===r?"Alter the values at actual positions, like 1st or 2ndlast, rather than just the '"+r+"'.":void 0):+r==(0|r)||t.create("property",f(n)+" can only have position keys ('3rd', '1st', (5), etc.), not "+_(r)+"."):n.TwineScript_Identifiers&&r in n?t.create("keyword","I can't alter the value of the '"+r+"' identifier.","You can only alter data in variables and hooks, not fixed identifiers."):t.create("operation","I can't modify "+f(n),n instanceof Set?"You should use an (array:) if you need to modify the data inside this dataset.":a.isPrototypeOf(n)?"You should alter hooks indirectly using macros like (replace:) or (enchant:).":void 0)}function P(e,t,n){var r=t;e instanceof Map?e.set(t,n):(p(e)&&(t=j(e,t)),e.TwineScript_Set?e.TwineScript_Set(t):e[t]=n),S.set.forEach(function(t){return t(e,r,n)})}function I(e,t){var n=t;p(e)&&(t=j(e,t)),Array.isArray(e)&&/^(?:[1-9]\d*|0)$/.exec(t)?e.splice(t,1):e instanceof Map||e instanceof Set?e.delete(t):delete e[t],S.delete.forEach(function(t){return t(e,n)})}function M(e){return Object.assign(Object.create(w),{error:e})}function D(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;if(r&&"object"===(void 0===r?"undefined":_typeof(r))&&"last"in r&&"first"in r){if(a.isPrototypeOf(n))return n.TwineScript_GetProperty(r);var s=r.first,c=r.last;return m(n,s+(s>=0),c+(c>=0))}if(Array.isArray(r))return a.isPrototypeOf(n)?n.TwineScript_GetProperty(r):r.map(function(e){return D(n,e,e)})["string"==typeof n?"join":"valueOf"]("");var u=E(n,r);if(void 0===u){if(n===e.variables)return T;if(n.TwineScript_VariableStore)return t.create("property","There isn't a temp variable named _"+i+" in this place.","Temp variables only exist inside the same passage and hook in which they're (set:).");if(Array.isArray(n)&&"number"==typeof r)return t.create("property","This array of "+n.length+" elements doesn't have a "+_(i)+" element.",n.length?"It contains: "+o(n.map(f))+".":"The array is empty.");var l=Array.from("function"==typeof n.keys&&n.keys());return t.create("property","I can't find a "+_(i)+" data name in "+f(n),n instanceof Map&&l.length?"Its names include: "+o(l)+".":void 0)}return u}function R(e,n){var r=this,a=this.compiledPropertyChain.reduce(function(e,t){var n=void 0;return n=0===e.length?r.object:D.apply(void 0,_toConsumableArray(e[e.length-1])),e.push([n,t])&&e},[]).reduceRight(e,n);return t.containsError(a)?a:void 0}return w=Object.freeze({get:function(){if(this.error)return this.error;for(var e=this.object,t=0;t<this.compiledPropertyChain.length-1;t+=1)e=D(e,this.compiledPropertyChain[t]);return D(e,this.compiledPropertyChain.slice(-1)[0],this.propertyChain.slice(-1)[0])},set:function(n){var r=this;return this.error?this.error:!this.object||this.object.TwineScript_VariableStore||this.object.TwineScript_Identifiers?R.call(this,function(n,a,i){var o,s=_slicedToArray(a,2),c=s[0],l=s[1];if(o=t.containsError(n,c,l)||t.containsError(N(c,l,n)))return o;var d;if(d=v(n))return t.create("operation",f(n)+" can't be stored"+(g(n)?" because it holds "+f(d)+".":""));if(i>0)c=h(c);else if(c.TwineScript_VariableStore&&c!==e.variables){for(var y=c;y.TwineScript_VariableStore&&!y.hasOwnProperty(l);)y=Object.getPrototypeOf(y);y.TwineScript_VariableStore&&(c=y)}if("string"==typeof c){if("string"!=typeof n)return t.create("datatype","I can't put this non-string value, "+f(n)+", in a string.");if(n.length!==(Array.isArray(l)?l.length:1))return t.create("datatype",f(n)+"is not the right length to fit into this string location.");c=[].concat(_toConsumableArray(c));var m=[].concat(_toConsumableArray(n));[].concat(l).forEach(function(e){0+e<0&&(e=c.length+(0+e)),c=[].concat(_toConsumableArray(c.slice(0,e)),[m.shift()],_toConsumableArray(c.slice(e+1)))}),c=c.join("")}else u(c)&&(void 0!==n.TwineScript_KnownName&&(n.TwineScript_KnownName=r.TwineScript_ObjectName),Array.isArray(l)&&p(n)?("string"==typeof n&&(n=[].concat(_toConsumableArray(n))),l.map(function(e,t){return[e,n[t]]}).forEach(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];return P(c,n,r)})):P(c,l,n));return c},n):t.create("macrocall","I can't (set:) "+f(this)+", if the "+(f(this.object).match(/ (.+$)/)||["","value"])[1]+" isn't stored in a variable.","Modifying data structures that aren't in variables won't change the game state at all.")},delete:function(){return this.error?this.error:R.call(this,function(e,n,r){var a,i=_slicedToArray(n,2),o=i[0],s=i[1];if(a=t.containsError(e,o,s)||t.containsError(N(o,s)))return a;if(r>0&&(o=h(o)),null===e){var c="string"==typeof o;c&&(o=[].concat(_toConsumableArray(o))),Array.isArray(s)?(p(o)&&(s=[].concat(_toConsumableArray(new Set(s)))).sort(function(e,t){return j(o,t)-j(o,e)}),s.forEach(function(e){return I(o,e)})):I(o,s),c&&(o=o.join(""))}else P(o,s,e);return o},null)},defineType:function(e){var n=this.object,r=this.compiledPropertyChain;if(!n||!n.TwineScript_VariableStore||1!==r.length||!n.TwineScript_TypeDefs)return t.create("unimplemented","I can only restrict the datatypes of variables, not data names or anything else.");var a=r[0];Object.hasOwnProperty.call(n,"TwineScript_TypeDefs")||(n.TwineScript_TypeDefs=Object.create(n.TwineScript_TypeDefs));var i=n.TwineScript_TypeDefs,o=i[a];if(o&&!c(o,e))return t.create("operation","I can't redefine the type of "+f(this)+" to "+(e.TwineScript_ObjectName||d(e))+", as it is already "+(o.TwineScript_ObjectName||d(o))+".");i[a]=e,"const"===e.name&&(n[a]=void 0)},matches:function(e,t){return this.object===e&&this.compiledPropertyChain[0]===t},getName:function(){return this.compiledPropertyChain[0]},create:function(e,n){var r=void 0;if(r=t.containsError(e))return M(r);if(n=[].concat(n),w.isPrototypeOf(e)){if(u(e.error))return e;n=e.propertyChain.concat(n),e=e.object}var a=function(e,n){return n.reduce(function(r,a,i){var o;return a.computed&&(a=a.value),w.isPrototypeOf(a)&&(a=a.get()),a=Array.isArray(a)?a.map(function(t){return O(e,t)}):O(e,a),(o=t.containsError(r,a))?o:(i<n.length-1&&(e=D(e,a)),r.push(a),r)},[])}(e,n);return(r=t.containsError(a))?M(r):Object.assign(Object.create(w),{object:e,propertyChain:n,compiledPropertyChain:a})},TwineScript_ToSource:function(){var t=this,n=function(e,n){return!n&&t.object.TwineScript_VariableStore?e:_(e)};return(this.object===e.variables?"$":this.object.TwineScript_VariableStore?"_":f(this.object)+"'s ")+(1===this.propertyChain.length?n(this.propertyChain[0]):this.propertyChain.reduce(function(e,t,r){return e+"'s "+n(t,r)}))},get TwineScript_ObjectName(){return this.TwineScript_ToSource()+(this.object.TwineScript_VariableStoreName?" in "+this.object.TwineScript_VariableStoreName:"")},on:function(e,t){if(e in S)return"function"!=typeof t||S[e].includes(t)||S[e].push(t),w;i("VarRef.on","invalid event name")}})}),define("internaltypes/varscope",[],function(){return Object.seal({TwineScript_ObjectName:"the temporary variables",TwineScript_VariableStore:!0,TwineScript_TypeDefs:Object.create(null)})}),define("internaltypes/twinenotifier",["jquery","utils"],function(e,t){var n=t.impossible,r={create:function(e){return e||n("TwineNotifier.create","called with only 1 string."),Object.assign(Object.create(r),{message:e})},render:function(){return e("<tw-notifier>").attr("message",this.message)}};return r}),define("datatypes/custommacro",["jquery","utils/operationutils","internaltypes/changedescriptor","internaltypes/varref","internaltypes/varscope","internaltypes/twineerror","internaltypes/twinenotifier"],function(e,t,n,r,a,i,o){var s=t.objectName,c=t.typeName,u=t.matches,l=Object.assign,p=Object.create,f=function(t){return function(c){for(var u=arguments.length,f=Array(u>1?u-1:0),d=1;d<u;d++)f[d-1]=arguments[d];t.called+=1;var h=t.varNames,y=t.params,m=t.body,g=l(p(a),{TwineScript_VariableStoreName:t.TwineScript_ObjectName+" call #"+t.called,TwineScript_TypeDefs:p(null)}),v=[],b=0;f.forEach(function(e,t){var n=h[b];g.TwineScript_TypeDefs[n]=y[b].datatype.rest?y[b].datatype.create("array"):y[b].datatype;var a=r.create(g,n);if(y[b].datatype.rest){var i=(g[n]||[]).concat([e]);if(t<f.length-1)return void(g[n]=i);a.set(i)}else a.set(e),b+=1;v.push(o.create(s(a)+" is now "+s(g[n])))}),f.length&&(b+=1),y[b]&&y[b].datatype.rest&&(r.create(g,h[b]).set([]),g.TwineScript_TypeDefs[name]=y[b].datatype.create("array"));var w=void 0,T=e("<p>").append(m.html),S=c.stack.length;for(c.stack.unshift({tempVariables:g,dom:T,output:function(e){w=e}}),c.execute();c.stack.length>S;)c.stack.shift();var x,k,O=T.find("tw-error");return O.length?(T.prepend(v.map(function(e){return e.render()}),"<br>"),i.create("propagated",O.length+" error"+(O.length>1?"s":"")+" occurred when running "+t.TwineScript_ObjectName+".",void 0,T)):void 0===w?i.create("custommacro",t.TwineScript_ObjectName+" didn't output any data or hooks using (output:) or (output-data:)."):n.isPrototypeOf(w)?(x=w,k=l({TwineScript_TypeID:"command",TwineScript_ObjectName:"a custom command",TwineScript_TypeName:"a custom command",TwineScript_Print:function(){return"`[a custom command]`"},TwineScript_Attach:function(e){return e.run(x),k},TwineScript_Run:function(){return x}})):w}},d=Object.freeze({TwineScript_TypeID:"macro",TwineScript_TypeName:"a custom macro",get TwineScript_ObjectName(){return this.TwineScript_KnownName?"the "+this.TwineScript_KnownName+" macro":"a custom macro"},TwineScript_GetProperty:function(e){if("params"===e)return[].concat(_toConsumableArray(this.params))},TwineScript_Properties:["params"],TwineScript_Print:function(){return"`["+this.TwineScript_ObjectName+"]`"},TwineScript_Clone:function(){return l(p(d),this)},TwineScript_ToSource:function(){return"(macro:"+this.params.map(function(e){return e.TwineScript_ToSource()}).concat("")+this.body.TwineScript_ToSource()+")"},create:function(e,t){var n=l(p(this),{params:e,called:0,varNames:e.map(function(e){return e.varRef.propertyChain[0]}),typeSignature:e.map(function(e){var t=void 0;return t=e.datatype.toTypeSignatureObject?e.datatype.toTypeSignatureObject({rest:e.rest}):{pattern:"range",range:function(t){return u(e.datatype,t)},name:c(e.datatype)},e.rest?{pattern:"zero or more",innerType:t}:t}),body:t,TwineScript_KnownName:""});return n.fn=f(n),n}});return d}),define("datatypes/lambda",["utils/operationutils","internaltypes/varscope","internaltypes/varref","internaltypes/twineerror"],function(e,t,n,r){var a=e.objectName,i=Object.freeze({TwineScript_TypeID:"lambda",TwineScript_TypeName:"a lambda",get TwineScript_ObjectName(){return'a "'+("making"in this?"making ... ":"")+("where"in this?"where ... ":"")+("when"in this?"when ... ":"")+("via"in this?"via ... ":"")+'" lambda'},TwineScript_Print:function(){return"`[A lambda]`"},TwineScript_is:function(e){return e===this},TwineScript_ToSource:function(){return this.source},TypeSignature:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return{pattern:"lambda",innerType:i,clauses:t,typeName:'a "'+t.concat("").join(" ...")+'" lambda'}},TwineScript_Clone:function(){return Object.assign(Object.create(i),this)},create:function(e,o,s,c){var u=void 0;function l(e){var r=e&&e.varRef?e.varRef:e;return void 0===r||r&&n.isPrototypeOf(r)&&t.isPrototypeOf(r.object)&&1===r.propertyChain.length}if("making"===o&&!l(s))return r.create("syntax","I need a temp variable, or typed temp variable, to the right of '"+o+"', not "+a(s)+".");if(r.containsError(e))return e;if(i.isPrototypeOf(e)){if("when"===o||"when"in e)return r.create("syntax","A 'when' lambda cannot have any other clauses, such as '"+o+"'.");if(o in e&&("where"!==o||"true"!==e[o]))return r.create("syntax","This lambda has two '"+o+"' clauses.");u=e}else{if("when"===o&&void 0!==e)return r.create("syntax","A 'when' lambda shouldn't begin with a temp variable (just use 'when' followed by the condition).");if(!l(e))return r.create("syntax","This lambda needs to start with a single temp variable, or typed temp variable, not "+a(e)+".");(u=Object.create(this)).loop=e||""}return u.source=c.trim(),u[o]=s,u.making&&u.making.getName()===(u.loop&&u.loop.getName())?r.create("syntax","This lambda has two variables named '"+u.loop.getName()+"'.","Lambdas should have all-unique parameter names."):u},apply:function(e,n){var a=n.loop,i=n.pos,o=n.making,s=n.ignoreVia,c=n.tempVariables;function u(e,t){if(e)if("datatype"in e&&"varRef"in e){var n=e.varRef.create(c,e.varRef.propertyChain);n.defineType(e.datatype);var a=n.set(t);if(r.containsError(a))return a}else c[e.getName()]=t}c=c||Object.create(e.stack.length?e.stackTop.tempVariables:t);var l=u(this.loop,a)||u(this.making,o);if(r.containsError(l))return l;e.stack.unshift(Object.assign(Object.create(e.stackTop||null),{tempVariables:c,lambdaPos:this.when?void 0:i}));var p=e.eval("Operations");!a||this.making||this.when?p.initialiseIt(r.create("operation","I can't use 'it', or an implied 'it', in "+this.TwineScript_ObjectName)):p.initialiseIt(a);var f=!s&&this.via,d=e.eval("where"in this||"when"in this?"Operations.where("+(this.where||this.when)+","+(f||"true")+",null)":f||"true");return e.stack.shift(),d},filter:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=void 0,o=t.reduce(function(t,o,s){if(i=r.containsError(t))return i;var c=n.apply(e,{loop:o,pos:s+1,ignoreVia:!0,tempVariables:a});return(i=r.containsError(c))?i:t.concat(c?[o]:[])},[]);return(i=r.containsError(o))?i:o}});return i}),define("datatypes/codehook",["internaltypes/twineerror","renderer"],function(e,t){var n=t.exec;return Object.freeze({TwineScript_TypeName:"a code hook",TwineScript_ObjectName:"a code hook",TwineScript_Unstorable:!0,TwineScript_ToSource:function(){return"["+this.source+"]"},create:function(t,r){r||(r=n(t));var a=e.containsError(r);return a||Object.assign(Object.create(this),{source:t,html:r})}})}),define("datatypes/colour",["jquery","utils"],function(e,t){var n=t.matMul,r=Math.max,a=Math.min,i=Math.sin,o=Math.cos,s=Math.pow,c=Math.round,u=Math.floor,l=Math.atan2,p=Math.cbrt,f=Math.sqrt,d=Math.PI,h=Object.assign,y=Object.create,m=/^([\da-fA-F])([\da-fA-F])([\da-fA-F])$/,g=/^([\da-fA-F])([\da-fA-F])([\da-fA-F])([\da-fA-F])([\da-fA-F])([\da-fA-F])$/,v=y(null);function b(e){var t=e.r,n=e.g,i=e.b,o=e.a,s=r(t/=255,n/=255,i/=255),u=a(t,n,i),l=(s+u)/2,p=s-u;if(s===u)return{h:0,s:0,l:l};var f=void 0;switch(s){case t:f=(n-i)/p+(n<i?6:0);break;case n:f=(i-t)/p+2;break;case i:f=(t-n)/p+4}return{h:f=c(60*f),s:l>.5?p/(2-s-u):p/(s+u),l:l,a:o}}var w=[.96422,1,.82521],T=24389/27,S=216/24389,x=function(e){return e.map(function(e){return[e]})},k=function(e){return e.map(function(e){return e[0]})};function O(e){var t=e.l,r=e.c,a=e.h,c=e.a;t*=100;var u=[];u[1]=(t+16)/116,u[0]=r*o(a*d/180)/500+u[1],u[2]=u[1]-r*i(a*d/180)/200;var l=[s(u[0],3)>S?s(u[0],3):(116*u[0]-16)/T,t>T*S?s((t+16)/116,3):t/T,s(u[2],3)>S?s(u[2],3):(116*u[2]-16)/T].map(function(e,t){return e*w[t]}),p=k(n([[.9555766,-.0230393,.0631636],[-.0282895,1.0099416,.0210077],[.0122982,-.020483,1.3299098]],n([[3.2404542,-1.5371385,-.4985314],[-.969266,1.8760108,.041556],[.0556434,-.2040259,1.0572252]],x(l)))).map(function(e){return 255*e}),f=_slicedToArray(p,3);return{r:f[0],g:f[1],b:f[2],a:c}}function j(e){var t=O(e);return[t.r,t.g,t.b].every(function(e){return e>=0&&e<=255})}var A=Object.freeze({TwineScript_TypeID:"colour",TwineScript_TypeName:"a colour",TwineScript_ObjectName:"a colour",TwineScript_DebugName:function(){return"a colour "+this.TwineScript_Print()},"TwineScript_+":function(e){var t=this.toRGBA(),n=e.toRGBA();return A.create({r:Math.min(Math.round(.6*(t.r+n.r)),255),g:Math.min(Math.round(.6*(t.g+n.g)),255),b:Math.min(Math.round(.6*(t.b+n.b)),255),a:(t.a+n.a)/2})},TwineScript_Print:function(){var e=this.toRGBA();return"<tw-colour style='background-color:rgba("+[e.r,e.g,e.b,e.a]+");'></tw-colour>"},TwineScript_is:function(e){if(!A.isPrototypeOf(e))return!1;if(e.lcha&&this.lcha)return e.lcha.l===this.lcha.l&&e.lcha.c===this.lcha.c&&e.lcha.h===this.lcha.h&&e.a===this.a;var t=this.toRGBA();return(e=e.toRGBA()).r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a},TwineScript_Clone:function(){return A.create(this)},toRGBAString:function(){var e=this.toRGBA();return"rgba("+e.r+", "+e.g+", "+e.b+", "+e.a+")"},toHSLA:function(){return b(this.toRGBA())},toRGBA:function(){return this.lch?O(function(e){if(j(e))return e;var t=(e=h({},e)).c,n=0;for(e.c/=2;t-n>1e-5;)j(e)?n=e.c:t=e.c,e.c=(t+n)/2;return e}(h({},this.lch,{a:this.a}))):this},toLCHA:function(){return this.lch?h({},this.lch):(t=(e=this).r,r=e.g,a=e.b,i=e.a,o=k(n([[1.0478112,.0228866,-.050127],[.0295424,.9904844,-.0170491],[-.0092345,.0150436,.7521316]],n([[.4124564,.3575761,.1804375],[.2126729,.7151522,.072175],[.0193339,.119192,.9503041]],x([t/255,r/255,a/255])))).map(function(e,t){return e/w[t]}).map(function(e){return e>S?p(e):(T*e+16)/116}),c=[116*o[1]-16,500*(o[0]-o[1]),200*(o[1]-o[2])],u=180*l(c[2],c[1])/d,{l:c[0]/100,c:f(s(c[1],2)+s(c[2],2)),h:u>=0?u:u+360,a:i});var e,t,r,a,i,o,c,u},LCHRotate:function(e){e<0&&(e=360+e);var t=this.toLCHA();return t.h=(t.h+e)%360,t.a=this.a,A.create(t)},TwineScript_GetProperty:function(e){if("lch"===e){var t=this.toLCHA();return new Map([["l",t.l],["c",t.c],["h",t.h]])}var n=this.toRGBA();return"h"===e||"s"===e||"l"===e?b(n)[e]:"r"===e||"g"===e||"b"===e||"a"===e?n[e]:void 0},TwineScript_Properties:["h","s","l","r","g","b","a","lch"],TwineScript_ToSource:function(){var e=!this.lch&&b(this);if(e&&!e.h&&!e.s){if(1===e.l)return"white";if(0===e.l)return"black"}return"("+(this.lch?"lch":"hsl")+":"+(this.lch?[this.lch.l,this.lch.c,this.lch.h]:[e.h,e.s,e.l])+(1!==this.a?","+this.a:"")+")"},create:function(t){return"string"==typeof t?this.create((A.isHexString(t)?function(e){return"string"!=typeof e?e:(e=(e=e.replace("#","")).replace(m,"$1$1$2$2$3$3"),{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16)})}:function(t){if(t in v)return v[t];var n=e("<p>").css("background-color",t).css("background-color");return n="transparent"===n?{r:0,g:0,b:0,a:0}:n.startsWith("rgb")?n.match(/\d+/g).reduce(function(e,t,n){return e["rgb"[n]]=+t,e},{}):{r:192,g:192,b:192},v[t]=n,n})(t)):!("h"in t&&"s"in t&&"l"in t)||"r"in t||"g"in t||"b"in t?("a"in t&&"number"==typeof t.a||(t.a=1),h(y(this),"h"in t&&"c"in t&&!("s"in t)&&"l"in t?{a:t.a,lch:{l:t.l,c:t.c,h:t.h}}:t)):this.create(function(e){var t=e.h,n=e.s,r=e.l,a=e.a;if(0===n){var i=u(255*r);return{r:i,g:i,b:i}}var o=r<.5?r*(1+n):r+n-r*n,s=2*r-o;function c(e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?s+6*(o-s)*e:e<.5?o:e<2/3?s+(o-s)*(2/3-e)*6:s}return{r:u(255*c((t/=360)+1/3)),g:u(255*c(t)),b:u(255*c(t-1/3)),a:a}}(t))},isHexString:function(e){return"string"==typeof e&&"#"===e[0]&&(e.slice(1).match(m)||e.slice(1).match(g))},isCSS3Function:function(e){return"string"==typeof e&&/^(?:rgb|hsl)a?\(\s*\d+\s*,\s*\d+%?\s*,\s*\d+%?(?:,\s*\d+(?:\.\d+)?\s*)?\)$/.test(e)}});return A}),define("datatypes/gradient",["utils/operationutils"],function(e){var t=e.toSource,n=Object.freeze({TwineScript_TypeID:"gradient",TwineScript_TypeName:"a gradient",TwineScript_ObjectName:"a gradient",TwineScript_DebugName:function(){return"a gradient "+this.TwineScript_Print()},TwineScript_GetProperty:function(e){var t=this;return"angle"===e?this.angle:"stops"===e?this.stops.map(function(e){return new Map([[t.repeating?"pixels":"percent",e.stop],["colour",e.colour.TwineScript_Clone()]])}):void 0},TwineScript_Properties:["angle","stops"],TwineScript_ToSource:function(){return"(gradient:"+this.angle+","+this.stops.map(function(e){return t(e.stop)+","+t(e.colour)})+")"},TwineScript_is:function(e){var t=this;return e.angle===this.angle&&e.stops.length===this.stops.length&&e.stops.every(function(e,n){var r=e.colour,a=e.stop;return t.stops[n].stop===a&&t.stops[n].colour.TwineScript_is(r)})},TwineScript_Clone:function(){return n.create(this.angle,[].concat(_toConsumableArray(this.stops)))},TwineScript_Print:function(){return"<tw-colour style='background:"+this.toLinearGradientString()+"'></tw-colour>"},create:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object.assign(Object.create(this),{angle:e,stops:t.sort(function(e,t){return e.stop-t.stop}),repeating:n})},multiply:function(e){return n.create(this.angle,this.stops.map(function(t){return{colour:t.colour,stop:t.stop*e}}))},toLinearGradientString:function(){var e=this;return(this.repeating?"repeating-":"")+"linear-gradient("+this.angle+"deg, "+this.stops.reduce(function(t,n){var r=n.colour,a=n.stop;return t+r.toRGBAString()+" "+a*(e.repeating?1:100)+(e.repeating?"px,":"%,")},"").slice(0,-1)+")"}});return n}),define("datatypes/datatype",["utils","utils/operationutils","datatypes/changercommand","datatypes/colour","datatypes/gradient","datatypes/lambda","datatypes/custommacro","internaltypes/twineerror"],function(e,t,n,r,a,i,o,s){var c=e.realWhitespace,u=e.anyRealLetter,l=e.anyCasedLetter,p=e.anyNewline,f=t.objectName,d=Object.assign,h=Object.seal,y=Object.keys,m=Math.floor,g=Math.abs,v=void 0,b=void 0,w={TwineScript_TypeID:"datatype",TwineScript_TypeName:"a datatype",TwineScript_Print:function(){return"`["+this.TwineScript_ObjectName+"]`"},get TwineScript_ObjectName(){return"the "+(this.rest?"...":"")+this.name+" datatype"},TwineScript_is:function(e){return w.isPrototypeOf(e)&&e.name===this.name},TwineScript_Clone:function(){return this.rest?this:Object.create(this)},TwineScript_ToSource:function(){return(this.rest?"...":"")+this.name},TwineScript_IsTypeOf:function(e){var t=this.name,n=this.rest;return!!v[t]&&v[t](e,n)},toTypeSignatureObject:function(){var e=this.name,t={pattern:"range",range:v[e],name:"a "+("dm"===e?"datamap":"ds"===e?"dataset":"num"===e?e+"ber":"str"===e?e+"ing":"color"===e?"colour":"bool"===e?e+"ean":"alnum"===e?"alphanumeric character":"int"===e?e+"eger":"even"===e||"odd"===e?e+" number":e.endsWith("case")||"whitespace"===e?e+" character":"empty"===e?e+" value":e)};return this.rest?{pattern:"zero or more",innerType:t}:t},create:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e="datamap"===e?"dm":"dataset"===e?"ds":"number"===e?"num":"string"===e?"str":"color"===e?"colour":"boolean"===e?"bool":"alphanumeric"===e?"alnum":"integer"===e?"int":"newline"===e?"linebreak":e;var n=Object.create(this);return n.name=e,n.rest=t,n},from:function(e){var t=y(b).find(function(t){return b[t](e)});return t?w.create(t):s.create("datatype",f(e)+" doesn't correspond to a datatype value.")}};return b={array:Array.isArray,dm:function(e){return e instanceof Map},ds:function(e){return e instanceof Set},datatype:function(e){return w.isPrototypeOf(e)},changer:function(e){return n.isPrototypeOf(e)},colour:function(e){return r.isPrototypeOf(e)},gradient:function(e){return a.isPrototypeOf(e)},lambda:function(e){return i.isPrototypeOf(e)},macro:function(e){return o.isPrototypeOf(e)},str:function(e){return"string"==typeof e},num:function(e){return"number"==typeof e},bool:function(e){return"boolean"==typeof e}},v=d({},b,{even:function(e){return!isNaN(e)&&m(g(e))%2==0},odd:function(e){return!isNaN(e)&&m(g(e))%2==1},empty:function(e){return e instanceof Map||e instanceof Set?!e.size:!(!Array.isArray(e)&&"string"!=typeof e)&&!e.length},int:function(e){return"number"==typeof e&&e===(0|e)},uppercase:function(e){return"string"==typeof e&&1===[].concat(_toConsumableArray(e)).length&&[].concat(_toConsumableArray(e)).every(function(e){return e!==e.toLowerCase()})},lowercase:function(e){return"string"==typeof e&&1===[].concat(_toConsumableArray(e)).length&&[].concat(_toConsumableArray(e)).every(function(e){return e!==e.toUpperCase()})},whitespace:function(e){return"string"==typeof e&&!!e.match("^"+c+"$")},digit:function(e){return"string"==typeof e&&!!e.match("^\\d$")},alnum:function(e){return"string"==typeof e&&!!e.match("^"+u+"$")},anycase:function(e){return"string"==typeof e&&!!e.match("^"+l+"$")},linebreak:function(e){return"string"==typeof e&&!!e.match("^"+p+"$")},any:function(){return!0},const:function(){return!0}}),h(w)}),define("datatypes/typedvar",["utils/operationutils","datatypes/datatype","internaltypes/varref","internaltypes/twineerror"],function(e,t,n,r){var a=e.typeName,i=e.matches,o=e.toSource,s=e.unstorableValue,c=Object.freeze,u=Object.assign,l=Object.create,p=c({TwineScript_TypeName:"a typed variable name",get TwineScript_ObjectName(){return this.TwineScript_ToSource()},TwineScript_Print:function(){return"`[A typed variable name]`"},TwineScript_Unstorable:!0,TwineScript_Clone:function(){return u(l(p),{datatype:this.datatype.TwineScript_Clone(),varRef:this.varRef})},TwineScript_ToSource:function(){return o(this.datatype)+"-type "+this.varRef.TwineScript_ToSource()},TwineScript_GetProperty:function(e){return"name"===e?this.getName():this[e]},TwineScript_Properties:["datatype","name"],TwineScript_IsTypeOf:function(e){return i(this.datatype,e)},get:function(){var e;return(e=this.varRef).get.apply(e,arguments)},getName:function(){return this.varRef.getName()},defineType:function(){if("any"!==this.datatype.name)return this.varRef.defineType(this.datatype)},create:function(e,t){var n;if(n=r.containsError(t)||r.containsError(e)||t.error)return n;var i=s(e);return i&&!p.isPrototypeOf(i)?r.create("syntax","The -type syntax can't have "+a(i)+" to its left."):u(l(this),{datatype:e,varRef:t})}});return p}),define("macros",["jquery","utils/naturalsort","utils","utils/operationutils","datatypes/changercommand","datatypes/custommacro","datatypes/lambda","datatypes/hookset","datatypes/codehook","datatypes/typedvar","datatypes/datatype","internaltypes/changedescriptor","internaltypes/twineerror"],function(e,t,n,r,a,i,o,s,c,u,l,p,f){var d=n.insensitiveName,h=n.nth,y=n.plural,m=n.andList,g=n.lockProperty,v=(r.clone,r.objectName),b=r.typeName,w=r.singleTypeCheck,T=r.toSource,S=void 0,x={};function k(e,n,r){var a=n.fn,i=n.typeSignature,s=n.isChanger,u=void 0!==s&&s,l=r[0];r=function(e){return e.reduce(function(e,n){if(n&&!0===n.spreader){var r=n.value,a=f.containsError(r);if(a)e.push(a);else if(Array.isArray(r)||"string"==typeof r)for(var i=0;i<r.length;i++)e.push(r[i]);else r instanceof Set?e.push.apply(e,_toConsumableArray(Array.from(r).sort(t("en")))):e.push(f.create("operation","I can't spread out "+v(r)+", because it is not a string, dataset, or array."))}else e.push(n);return e},[])}(r.slice(1)),i=[].concat(i||[]);var p=!e,d=p?"":"("+(Array.isArray(e)&&e.length>1?e[0]:e)+":)";e=p?"this custom macro":"the "+d+" macro";var g=void 0;g=i.length>0?e+" must only be given "+m(i.map(b))+(i.length>1?", in that order":"."):e+" must not be given any data."+(p?"":" Just write "+d);for(var T=void 0,x=function(t,n){var a=i[t],s=r[t];if(f.containsError(s))return{v:s};if(c.isPrototypeOf(s)&&u)return{v:f.create("syntax","Please put this hook outside the parentheses of the changer macro, not inside it.","Hooks should appear after a macro"+(p?".":": "+d+"[Some text]"))};if(t>=i.length&&!T)return{v:f.create("datatype",r.length-i.length+" too many values were given to "+e+".",g)};if(a||(a=T),!a.innerType||"rest"!==a.pattern&&"zero or more"!==a.pattern||(T=a.innerType,"rest"===a.pattern&&(a=a.innerType)),!w(s,a)){if(void 0===s){var l=i.filter(function(e){return!("optional"===e.pattern||"zero or more"===e.pattern)}).length;return{v:f.create("datatype",e+" needs "+y(l-t,"more value")+".",g)}}return s&&s.TwineScript_Unstorable&&(a===S.TypeSignature.Any||a.innerType&&a.innerType===S.TypeSignature.Any)?{v:f.create("datatype",e+"'s "+h(t+1)+" value, "+v(s)+", is not valid data for this macro.",g)}:s&&o.isPrototypeOf(s)&&"lambda"===a.pattern?{v:f.create("datatype",e+"'s "+h(t+1)+" value (a lambda) should have "+m(["where","when","making","via","with"].filter(function(e){return a.clauses.includes(e)}).map(function(e){return"a '"+e+"' clause"}))+", not "+m(["where","when","making","via","with"].filter(function(e){return e in s}).map(function(e){return"a '"+e+"' clause"}))+".")}:"insensitive set"===a.pattern?{v:f.create("datatype",v(s)+" is not a valid name string for "+e+".","Only the following names are recognised (capitalisation and hyphens ignored): "+m(a.innerType)+".")}:{v:f.create("datatype",e+"'s "+h(t+1)+" value is "+v(s)+", but should be "+b(a)+".",a.message||g)}}},k=0,O=Math.max(r.length,i.length);k<O;k+=1){var j=x(k);if("object"===(void 0===j?"undefined":_typeof(j)))return j.v}return a.apply(void 0,[l].concat(_toConsumableArray(r)))}function O(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a={fn:t,typeSignature:n};r&&(a.isChanger=!0),Object.freeze(a),Array.isArray(e)?e.forEach(function(e){return g(x,d(e),a)}):g(x,d(e),a)}return S={has:function(e){return e=d(e),x.hasOwnProperty(e)},get:function(e){return e=d(e),x.hasOwnProperty(e)&&x[e]},add:function e(t,n,r){return O(t,n,r),e},addChanger:function e(t,n,r,i){return O(t,n,i,!0),a.register(Array.isArray(t)?t[0]:t,r),e},addCommand:function e(t,n,r,a){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return O(t,function(e,t,n,r){return function(a){for(var i=arguments.length,o=Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];var c=t.apply(void 0,o);if(c)return c;var u=p.create(),l=Object.assign({TwineScript_TypeID:"command",TwineScript_ObjectName:"a ("+e+":) command",TwineScript_TypeName:"a ("+e+":) command",TwineScript_Print:function(){return"`[A ("+e+":) command]`"},TwineScript_ToSource:function(){return"("+e+":"+o.map(T)+")"},TwineScript_is:function(e){return T(this)===T(e)}},r?{TwineScript_Attach:function(e,t){return u.section=e,t.run(u),l},TwineScript_Run:function(e){return n.apply(void 0,[u,e].concat(o))}}:{TwineScript_Run:function(e){return n.apply(void 0,[e].concat(o))}});return l}}([].concat(t)[0],n,r,i),a),e},TypeSignature:{optional:function(e){return{pattern:"optional",innerType:e}},zeroOrMore:function(e){return{pattern:"zero or more",innerType:e}},either:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return{pattern:"either",innerType:t}},rest:function(e){return{pattern:"rest",innerType:e}},insensitiveSet:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return{pattern:"insensitive set",innerType:t}},numberRange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return{pattern:"range",min:e,max:t,range:function(n){return"number"==typeof n&&!Number.isNaN(n)&&n>=e&&n<=t}}},nonNegativeInteger:{pattern:"range",integer:!0,min:0,max:1/0,range:function(e){return"number"==typeof e&&!Number.isNaN(e)&&e>=0&&!(e+"").includes(".")}},positiveInteger:{pattern:"range",integer:!0,min:1,max:1/0,range:function(e){return"number"==typeof e&&!Number.isNaN(e)&&e>=1&&!(e+"").includes(".")}},wrapped:function(e,t){return{pattern:"wrapped",innerType:e,message:t}},Any:{TwineScript_TypeName:"anything"},Everything:{TwineScript_TypeName:"everything"}},run:function(e,t){return S.has(e)?k(e,S.get(e),t):f.create("macrocall","I can't run the macro '"+e+"' because it doesn't exist.","Did you mean to run a macro? If you have a word written like (this:), it is regarded as a macro name.")},runCustom:function(e,t){return i.isPrototypeOf(e)?k("",e,t):f.create("macrocall","I can't call "+v(e)+" because it isn't a custom macro.")}},Object.assign(S.TypeSignature,{positiveNumber:S.TypeSignature.numberRange(Math.pow(2,-52),1/0),nonNegativeNumber:S.TypeSignature.numberRange(0,1/0),percent:S.TypeSignature.numberRange(0,1)}),Object.freeze(S)}),define("datatypes/varbind",["jquery","utils","utils/operationutils","internaltypes/varref","internaltypes/twineerror"],function(e,t,n,r,a){var i=n.objectName;return r.on("set",function(n,r){n.TwineScript_VariableStore&&e(t.storyElement).find("[data-2bind]").each(function(t,a){var i=(a=e(a)).data("twoWayBindEvent");"function"==typeof i&&i(a,n,r)})}),Object.freeze({TwineScript_TypeName:"a bound variable",TwineScript_ObjectName:"a bound variable",TwineScript_Unstorable:!0,TwineScript_ToSource:function(){return("two way"===this.bind?"2":"")+"bind "+this.varRef.TwineScript_ToSource()},set:function(e){var t,n=this.varRef.set(e);if(t=a.containsError(n))return t},create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"one way";return r.isPrototypeOf(e)?e.error?e.error:Object.assign(Object.create(this),{varRef:e,bind:t}):a.create("operation","I can only 'bind' a variable, not "+i(e)+".")}})}),define("datatypes/assignmentrequest",["utils/operationutils","datatypes/typedvar","datatypes/datatype","internaltypes/varref","internaltypes/twineerror"],function(e,t,n,r,a){var i=e.objectName,o=e.matches;return Object.freeze({assignmentRequest:!0,TwineScript_TypeName:"a 'to' or 'into' expression",TwineScript_ObjectName:"a 'to' or 'into' expression",TwineScript_Unstorable:!0,set:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=void 0,c=[],u=function e(s,c){var u,l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],p=[],f=void 0;if(f=c&&r.isPrototypeOf(c)?c.get():c,u=a.containsError(f))return u;if(Array.isArray(f)&&Array.isArray(s)){for(var d=0,h=0;d<s.length&&h<f.length;){var y=s[d],m=f[h];if(t.isPrototypeOf(y)&&y.datatype.rest||n.isPrototypeOf(y)&&y.rest){for(var g=h;h<f.length&&o(y,m);)m=f[h+=1];t.isPrototypeOf(y)?y.datatype=[y.datatype]:n.isPrototypeOf(y)&&(y=n.create("array")),p=p.concat(e(y,r.isPrototypeOf(c)?r.create(c,{first:g+1,last:h+1}):f.slice(g,h)))}else p=p.concat(e(y,r.isPrototypeOf(c)?r.create(c,h+1):m)),h+=1;d+=1}return d<s.length?l&&a.create("operation","I can't unpack this array because it needs "+(s.length-d)+" more value"+(s.length-d>0?"s":"")+"."):p}if(s instanceof Map&&f instanceof Map){var v=!0,b=!1,w=void 0;try{for(var T,S=s.entries()[Symbol.iterator]();!(v=(T=S.next()).done);v=!0){var x=_slicedToArray(T.value,2),k=x[0],O=x[1];if(!f.has(k))return l&&a.create("operation","I can't unpack this datamap because it needs a '"+k+"' data name.");p=p.concat(e(O,r.isPrototypeOf(c)?r.create(c,k):f.get(k)))}}catch(e){b=!0,w=e}finally{try{!v&&S.return&&S.return()}finally{if(b)throw w}}return p}if(t.isPrototypeOf(s)){if("function"==typeof s.datatype.destructure)return[{dest:s,value:f,src:c}].concat(s.datatype.destructure(f));if(!o(f,s.datatype))return[l&&a.create("operation","I can't unpack "+i(f)+" into "+s.varRef.TwineScript_ToSource()+" because it doesn't match "+i(s.datatype)+".")];p=p.concat(e(s.datatype,f))}return r.isPrototypeOf(s)||t.isPrototypeOf(s)?p.concat({dest:s,value:f,src:c}):"function"==typeof s.destructure?p.concat(s.destructure(f)):o(f,s)?p:l&&a.create("operation","I tried to unpack, but "+i(s)+" in the pattern didn't match "+i(f)+".")}(this.dest,this.src);if(s=a.containsError(u))return s;if(!u.length)return a.create("operation","I can't store a new value inside "+i(this.dest)+" that isn't in a variable.","You need a variable, or a data structure containing variables at certain positions, to store the value.");var l=!0,p=!1,f=void 0;try{for(var d,h=u.reverse()[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var y=d.value,m=y.dest,g=y.value,v=y.src;if(t.isPrototypeOf(m)){if(s=a.containsError(m.defineType()))return s;m=m.varRef}if(s=m.set(g),a.isPrototypeOf(s))return s;e&&v&&v.delete(),c.shift(i(m)+" is now "+i(g))}}catch(e){p=!0,f=e}finally{try{!l&&h.return&&h.return()}finally{if(p)throw f}}return c.join("; ")},create:function(e,t,n){return Object.assign(Object.create(this),{dest:e,src:t,operator:n})}})}),define("twinescript/operations",["jquery","state","datatypes/assignmentrequest","utils/operationutils","internaltypes/varref","datatypes/typedvar","datatypes/datatype","internaltypes/twineerror"],function(e,t,n,r,a,i,o,s){var c=r.isObject,u=r.collectionType,l=r.is,p=r.isA,f=r.clone,d=r.unique,h=r.contains,y=r.matches,m=r.objectName,g=void 0,v=0;function b(e,t,n,r){return n=n||"do this to",function(a,i){1===t.length&&(i=a);var o;return(o=s.containsError(a,i))?o:(void 0===a?"undefined":_typeof(a))!==e||(void 0===i?"undefined":_typeof(i))!==e?s.create("operation","I can only "+n+" "+e+"s, not "+m((void 0===a?"undefined":_typeof(a))!==e?a:i)+".",r):t(a,i)}}function w(e){return function(t,n){var r;if(r=s.containsError(t,n))return r;if((void 0===t?"undefined":_typeof(t))!==(void 0===n?"undefined":_typeof(n))||c(t)&&"TwineScript_TypeName"in t&&c(n)&&"TwineScript_TypeName"in n&&t.TwineScript_TypeName!==n.TwineScript_TypeName||u(t)!==u(n)){var a=m(t)+" isn't the same type of data as "+m(n);return s.create("operation",a[0].toUpperCase()+a.slice(1))}return e(t,n)}}function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function r(a,i){var o=void 0;if(o=s.containsError(a,i))return o;v=a;var c=a.determiner?[a,i]:i.determiner?[i,a]:[],u=_slicedToArray(c,2),l=u[0],p=u[1];if(l){var f=l.determiner;if("start"===f||"end"===f){if(t)return s.create("operation","I can't use '"+t+"' with the 'start' or 'end' of "+m(l)+".");if(p.determiner){if("start"===p.determiner||"end"===p.determiner)return s.create("operation","I can't compare one value's 'start' or 'end' with another value's 'start' or 'end'.","Please change one of them to use an exact range, such as '1stto4th' or '2ndlasttolast'.");var d=[p,l];l=d[0],p=d[1]}for(var h=l.string||l.array,y=0;y<h.length+1;y+=1){var g=y?"end"===f?h.slice(-y):h.slice(0,y):h.constructor(),b=l===a?r(g,i):r(a,g);if(o=s.containsError(b))return o;if(b!==n)return b}return n}var w="all"===f;return l.array.reduce(function(e,t){var n,o=l===a?r(t,i):r(a,t);return(n=s.containsError(e,o))?n:w?e&&o:e||o},w)}return e(a,i)}}function S(e,t){return T(function(t,n){var r=e(t,n);return s.containsError(r)?r:!r},t,!0)}var x="If one of these values is a number, you may want to write a check that it 'is not 0'. Also, if one is a string, you may want to write a check that it 'is not \"\" '.";return g={create:function(n){var r=Object.create(this);return r.Identifiers={TwineScript_Identifiers:!0,get it(){return v},get time(){return n.stackTop&&n.stackTop.evaluateOnly?s.create("operation","'time' can't be used in "+n.stackTop.evaluateOnly+"."):Date.now()-n.timestamp},get visits(){var e=n.stackTop.speculativePassage,r=function(n){return n===(e||t.passage)};return t.pastPassageNames().filter(r).length+t.mockVisits.filter(r).length+(!e||e===t.passage)},get visit(){return r.Identifiers.visits},get exits(){return n.stackTop&&n.stackTop.evaluateOnly?s.create("operation","'exit' and 'exits' can't be used in "+n.stackTop.evaluateOnly+"."):n.dom.find("tw-enchantment, tw-link").filter(function(t,n){return e(n).data("enchantmentEvent")||e(n).parent().data("linkPassageName")||e(n).parent().data("clickEvent")}).length},get exit(){return r.Identifiers.exits},get pos(){return n.stackTop&&!n.stackTop.evaluateOnly&&n.stackTop.lambdaPos?+n.stackTop.lambdaPos||1:s.create("operation","'pos' can only be used in lambdas that aren't 'when' lambdas.")}},r},elidedComparisonOperator:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return r.reduce(function(n,r){return"boolean"==typeof r?r:g[e](n,g[t](v,r))},"and"===e)},and:b("boolean",w(function(e,t){return e&&t}),"use 'and' to join",x),or:b("boolean",w(function(e,t){return e||t}),"use 'or' to join",x),not:b("boolean",function(e){return!e},"use 'not' to invert",x),"+":w(function(e,t){if(Array.isArray(e))return[].concat(_toConsumableArray(e),_toConsumableArray(t));var n=void 0;return e instanceof Map?(n=new Map(e),t.forEach(function(e,t){return n.set(t,e)}),n):e instanceof Set?new Set([].concat(_toConsumableArray(e),_toConsumableArray(t)).filter(d).map(f)):"function"==typeof e["TwineScript_+"]?e["TwineScript_+"](t):"string|number|boolean".includes(void 0===e?"undefined":_typeof(e))?e+t:s.create("operation","I can't use + on "+m(e)+".")}),"-":w(function(e,t){if(Array.isArray(e))return e.filter(function(e){return!t.some(function(t){return l(e,t)})});if(e instanceof Set){var n=[].concat(_toConsumableArray(t));return new Set([].concat(_toConsumableArray(e)).filter(function(e){return!n.some(function(t){return l(e,t)})}))}return"string"==typeof e?e.split(t).join(""):"number"==typeof e?e-t:s.create("operation","I can't use - on "+m(e)+".")}),"*":b("number",w(function(e,t){return e*t}),"multiply"),"/":b("number",w(function(e,t){return 0===t?s.create("operation","I can't divide "+m(e)+" by zero."):e/t}),"divide"),"%":b("number",w(function(e,t){return 0===t?s.create("operation","I can't modulo "+m(e)+" by zero."):e%t}),"modulus"),"<":T(b("number",w(function(e,t){return e<t}),"do < to"),"<"),">":T(b("number",w(function(e,t){return e>t}),"do > to"),">"),"<=":T(b("number",w(function(e,t){return e<=t}),"do <= to"),"<="),">=":T(b("number",w(function(e,t){return e>=t}),"do >= to"),">="),is:T(l),isNot:S(l),contains:T(h,"contains"),doesNotContain:S(h,"does not contain"),isIn:T(function(e,t){return h(t,e)},"is in"),isNotIn:S(function(e,t){return h(t,e)},"is not in"),isA:T(p,"is a"),isNotA:S(p,"is not a"),typifies:T(function(e,t){return p(t,e)}),untypifies:S(function(e,t){return p(t,e)}),matches:T(y),doesNotMatch:S(y),where:function(e,t,n){var r;return(r=s.containsError(e))?r:"boolean"!=typeof e?s.create("operation","This lambda's 'where' clause must evaluate to true or false, not "+m(e)+"."):e?t:n},makeSpreader:function(e){if(i.isPrototypeOf(e)||o.isPrototypeOf(e)){var t=f(e);return(i.isPrototypeOf(e)?t.datatype:t).rest=!0,t}return{value:e,spreader:!0,TwineScript_TypeName:"a spreaded '...' value",TwineScript_ObjectName:"a spreaded '...' value",TwineScript_Unstorable:!0}},makeAssignmentRequest:function(e,t,r){var a=s.containsError(e,t);return a||n.create(e,t,r)},setIt:function(e){return a.isPrototypeOf(e)||i.isPrototypeOf(e)?(v=e.get(),e):e},initialiseIt:function(e){v=e}},Object.freeze(g)}),define("twinescript/environ",["macros","state","utils","datatypes/colour","datatypes/hookset","datatypes/lambda","datatypes/datatype","datatypes/varbind","datatypes/codehook","datatypes/typedvar","internaltypes/varref","internaltypes/twineerror","twinescript/operations"],function(Macros,State,Utils,Colour,HookSet,Lambda,Datatype,VarBind,CodeHook,TypedVar,VarRef,TwineError,OperationsProto){return function(section){"object"===(void 0===section?"undefined":_typeof(section))&&section||Utils.impossible("TwineScript.environ","no Section argument was given!");var Operations=OperationsProto.create(section);return section.eval=function(){try{return eval(arguments[0])}catch(e){return e}},section}}),define("section",["jquery","utils","renderer","twinescript/environ","twinescript/operations","state","utils/operationutils","utils/renderutils","datatypes/changercommand","datatypes/hookset","datatypes/colour","datatypes/lambda","internaltypes/changedescriptor","internaltypes/varscope","internaltypes/twineerror","internaltypes/twinenotifier"],function(e,t,n,r,a,i,o,s,c,u,l,p,f,d,h,y){var m,g=o.printBuiltinValue,v=o.objectName,b=o.typeID,w=o.isObject,T=s.collapse;function S(e,n,r){if(n&&"object"===(void 0===n?"undefined":_typeof(n))&&c.isPrototypeOf(n)){if(r.data("originalSource",r.popAttr("source")),!this.renderInto(r.data("originalSource"),r,n)){var a=t.insensitiveName(e.attr("name"));if(["if","elseif","unless","else","testfalse"].includes(a)&&(e.addClass("false"),"elseif"!==a&&(this.stackTop.lastHookShown=!1)),r.data("live")){var i=r.data("live"),o=i.delay,s=i.event;(function(e,n){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;i&&t.assertMustHave(i,["when"]);var o=n.data("originalSource")||"",s=_slicedToArray(this.stack,1)[0].tempVariables,c=this.whenUnblocked.bind(this,function(){if(r.inDOM()){var t=i&&i.filter(r,[!0],s);h.containsError(t)?t.render(e.attr("title")).replaceAll(e):!i||t[0]?(r.renderInto(o,n,{append:"replace"}),t||n.find("tw-expression[name='stop']").length||r.inDOM()&&setTimeout(c,a)):setTimeout(c,a)}});setTimeout(c,a)}).call(this,e,r,o,s)}return}}else{if(!1===n)return r.attr("source")&&(r.data("originalSource",r.popAttr("source")),r.data("hidden",!0)),e.addClass("false"),void(this.stackTop.lastHookShown=!1);!0!==n&&e.replaceWith(h.create("datatype",v(n)+" cannot be attached to this hook.","Only Booleans and changers can be attached to hooks.").render(e.attr("title")))}this.stackTop.lastHookShown=!0}function x(t){var n=(t instanceof e?t[0]:t).nextSibling;if(n&&(n instanceof Text&&!n.textContent.trim()||["br","tw-consecutive-br"].includes((n.tagName||"").toLowerCase()))){var r=x(n),a=r.whitespace,i=r.nextElem;return{whitespace:e(n).add(a),nextElem:i}}return{whitespace:e(),nextElem:e(n)}}var k={add:[],remove:[]};return m={create:function(e){var n=Object.assign(Object.create(this),{timestamp:Date.now(),dom:e||t.storyElement,stack:[],enchantments:[],unblockCallbacks:[]});return n=r(n)},get stackTop(){return this.stack[0]},inDOM:function(){return e(t.storyElement).find(this.dom).length>0},evaluateTwineMarkup:function(t,n){var r=e("<p>");this.stack.unshift({desc:f.create({target:r,source:t,section:this,append:"append"}),tempVariables:this.stackTop.tempVariables,evaluateOnly:n,finalIter:!0}),this.execute();var a;return(a=r.find("tw-error")).length>0?a:r},speculate:function(e,t,n){this.stack.unshift({evaluateOnly:n,finalIter:!0,tempVariables:Object.assign(Object.create(d),{TwineScript_VariableStoreName:n}),speculativePassage:t});var r=void 0;return r=p.isPrototypeOf(e)?e.apply(this,{fail:!1,pass:!0}):this.eval(e),this.stack.shift(),r},renderInto:function(t,n,r){var a=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=f.create({target:n,source:t,section:this,append:"append"});if(r)if(c.isPrototypeOf(r)){var s=r.run(o);if(h.containsError(s))return s.render(n.attr("title")).replaceAll(n),!1}else Object.assign(o,r);if((n=o.target,this.stack.length>=50)&&this.stack.reduce(function(e,t){return e+!!t.finalIter},0)>=50)return h.create("infinite","Printing this expression may have trapped me in an infinite loop.").render(n.attr("title")).replaceAll(n),!1;var u=function(t,r,i){var o=n instanceof e&&n.is("tw-hook")&&n.parents("tw-collapsed,[collapsing=true]").length>0;a.stack.unshift({desc:t,finalIter:i,tempVariables:r,collapses:o,evaluateOnly:a.stackTop&&a.stackTop.evaluateOnly})};if(i||(i=Object.create(this.stack.length?this.stackTop.tempVariables:d)),!i.hasOwnProperty("TwineScript_VariableStoreName")){var l=n&&n.tag();i.TwineScript_VariableStoreName="tw-hook"===l?n.attr("name")?"?"+n.attr("name"):"an unnamed hook":"tw-expression"===l?"a "+n.attr("type")+" expression":"tw-passage"===l?"this passage":"an unknown scope"}return Object.keys(o.loopVars).length?function(){var e=Object.assign({},o.loopVars),t=Math.min.apply(Math,_toConsumableArray(Object.keys(e).map(function(t){return e[t].length})));if(y.create(t+" loop"+(1!==t?"s":"")).render().prependTo(n),t){for(var r=function(n){u(o,Object.keys(e).reduce(function(t,r){return t[r]=e[r][n],t},Object.create(i),n===t-1))},s=t-1;s>=0;s-=1)r(s);for(s=t-1;s>=0&&!a.stackTop.blocked;s-=1)a.execute()}}():(u(o,i,!0),this.execute()),0===this.stack.length&&this.updateEnchantments(),o.enabled},execute:function(){var n=this,r=this.stackTop,i=r.desc,o=r.dom,s=r.collapses,u=r.evaluateOnly;i&&!o&&(o=i.render(),this.stackTop.dom=o,this.stackTop.desc=void 0),o.findAndFilter("tw-hook,tw-expression").each(function(r,i){if(n.stackTop.blocked)return!1;switch((i=e(i)).tag()){case"tw-hook":var o=i.popAttr("source")||"";if(o&&i.data("originalSource",o),i.data("tempVariables",n.stackTop.tempVariables),i.popAttr("hidden")){i.data("hidden",!0);break}o&&n.renderInto(o,i);break;case"tw-expression":if(i.attr("blockers")){if(u)return void i.removeAttr("blockers").removeAttr("js").replaceWith(h.create("syntax","I can't use a macro like (prompt:) or (confirm:) in "+u+".","Please rewrite this without putting such macros here.").render(i.attr("title"),i));var s=[];try{s=JSON.parse(i.popAttr("blockers")),i.data("blockers",s)}catch(e){t.impossible("Section.execute","JSON.parse blockers failed.")}}if(i.data("blockers")){var p=i.data("blockers");if(p.length){n.stackTop.blocked=!0;var d=n.eval(p.shift());return h.containsError(d)&&(n.stackTop.blocked=!1,i.removeData("blockers").replaceWith(d.render(i.attr("title"),i))),!1}i.removeData("blockers")}i.attr("js")&&function(n){var r=this.eval(n.popAttr("js")||"");this.stackTop.evaluateOnly&&r&&(c.isPrototypeOf(r)||"function"==typeof r.TwineScript_Run)&&(r=h.create("syntax","I can't work out what "+this.stackTop.evaluateOnly+" should evaluate to, because it contains a "+(c.isPrototypeOf(r)?"changer.":"command."),"Please rewrite this without putting changers or commands here."));var i=void 0,o=void 0,s=e();for(o=n;c.isPrototypeOf(r);){var u=x(o);if(i=u.whitespace,(o=u.nextElem)[0]instanceof Text&&"+"===o[0].textContent.trim()){var p,d=o,m=x(d);if(p=m.whitespace,(o=m.nextElem).is("tw-expression")){var T=this.eval(o.popAttr("js"));if(h.containsError(T)){r=T;break}var k=a["+"](r,T);e(i).add(d).add(p).remove(),r=h.containsError(k)?h.create("operation","I can't combine "+v(r)+" with "+v(T)+".","function"==typeof T.TwineScript_Run?"If you want to attach this changer to "+v(T)+", remove the + between them.":"Changers can only be added to other changers."):k;continue}}if(o.is("tw-expression")){var O=this.eval(o.popAttr("js"));if(h.containsError(O)){r=O;break}if(O&&"object"===(void 0===O?"undefined":_typeof(O))&&"function"==typeof O.TwineScript_Attach){r=O.TwineScript_Attach(this,r);break}return c.isPrototypeOf(O)?void n.replaceWith(h.create("operation","Changers like ("+r.macroName+":) need to be combined using + between them.","Place the + between the changer macros, or the variables holding them. The + is absent only between a changer and its attached hook or command.").render(n.attr("title"))):void n.replaceWith(h.create("operation",v(O)+" can't have changers like ("+r.macroName+":) attached.","Changers placed just before hooks, links and commands will attempt to attach, but in this case it didn't work.").render(n.attr("title")))}if(o.is("tw-hook")){i.remove(),s=o;break}r.macroName||t.impossible("Section.runExpression","changer has no macroName");var j=n.attr("title")||"("+r.macroName+": ...)";return void n.replaceWith(h.create("syntax","The ("+r.macroName+":) changer should be stored in a variable or attached to a hook.","Macros like this should appear before a hook: "+j+"[Some text]").render(n.attr("title")))}n.attr("return",b(r)),s=s.length?s:x(n).nextElem.filter("tw-hook");var A=void 0;if(A=h.containsError(r))A instanceof Error&&(A=h.fromError(A)),n.replaceWith(A.render(n.attr("title"),n));else if(y.isPrototypeOf(r))n.append(r.render());else if(r&&"function"==typeof r.TwineScript_Run)if(r=r.TwineScript_Run(this),h.containsError(r))n.replaceWith(r.render(n.attr("title")));else if(f.isPrototypeOf(r)){if(r.data&&r.data.live)return void n.replaceWith(h.create("unimplemented","I currently can't attach (live:) or (event:) macros to commands - only hooks.").render(n.attr("title")));r.section=this,r.target=o,this.renderInto("",o,r)}else{if(w(r)&&r.blocked)return this.stackTop.blocked=r.blocked,void n.attr("js","section.blockedValue()");r&&t.impossible("Section.runExpression","TwineScript_Run() returned a non-ChangeDescriptor "+(void 0===r?"undefined":_typeof(r))+': "'+r+'"')}else!s.length&&("string"==typeof r||"number"==typeof r||r instanceof Map||r instanceof Set||Array.isArray(r)||l.isPrototypeOf(r))||r&&"function"==typeof r.TwineScript_Print&&!c.isPrototypeOf(r)?(r=g(r),h.containsError(r)?(r instanceof Error&&(r=h.fromError(r)),n.replaceWith(r.render(n.attr("title")))):"string"!=typeof r?t.impossible("printBuiltinValue() produced a non-string "+(void 0===r?"undefined":_typeof(r))):this.renderInto(r,n)):s.length?S.call(this,n,r,s):c.isPrototypeOf(r)||"boolean"==typeof r||t.impossible("Section.runExpression","The expression evaluated to an unknown value: "+r)}.call(n,i)}}),this.stackTop.blocked||(o.length&&s&&T(o),o.findAndFilter("tw-collapsed,[collapsing=true]").each(function(){T(e(this))}),this.stack.shift())},updateEnchantments:function(){this.enchantments.forEach(function(e){e.disenchant(),e.enchantScope()})},on:function(e,t){return k[e].push(t),this},addEnchantment:function(e){var t=this;this.enchantments.push(e),k.add.forEach(function(n){return n(t,e)})},removeEnchantment:function(e){var t=this,n=this.enchantments.indexOf(e);this.enchantments.splice(n,1),e.disenchant(),k.remove.forEach(function(n){return n(t,e)})},unblock:function(e){for(this.stack.length||t.impossible("Section.unblock","stack is empty"),this.stackTop.blocked=!1,void 0!==e&&(this.stackTop.blockedValues=(this.stackTop.blockedValues||[]).concat(e));this.stack.length&&!this.stackTop.blocked;)this.execute();if(!this.stack.length)for(;this.unblockCallbacks.length>0;){if(this.unblockCallbacks.shift()(),this.stackTop&&this.stackTop.blocked)return}},whenUnblocked:function(e){this.stack.length&&this.stackTop.blocked?this.unblockCallbacks=this.unblockCallbacks.concat(e):e()},blockedValue:function(){var e=this.stackTop;return e||t.impossible("Section.blockedValue","stack is empty"),e.blockedValues&&e.blockedValues.length||t.impossible("Section.blockedValue","blockedValues is missing or empty"),e.blockedValues.shift()}},Object.preventExtensions(m)}),define("engine",["jquery","utils","state","section","passages"],function(e,t,n,r,a){var i,o=t.escape,s=t.impossible,c=t.passageSelector,u=t.transitionOut,l=Object.create(null);function p(e,t){return"<tw-include type="+e+" name='"+o(t.get("name"))+"'>"+t.get("source")+"</tw-include>"}function f(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.assertOnlyHas(o,["stretch","transition"]);var f=a.get(i),d=t.storyElement,h=d.parent(),y=o.stretch,m=o.transition,g=(m=void 0===m?{}:m).depart,v=void 0===g?"instant":g,b=m.arrive,w=void 0===b?"dissolve":b,T=m.departOrigin,S=m.arriveOrigin,x=m.time;h.findAndFilter("tw-enchantment").each(function(t,n){var r=(n=e(n)).data("enchantedProperties");r&&d.css(r.reduce(function(e,t){return e[t]="",e},{})),n[0]===h[0]&&(h=d.unwrap().parent())}),a.hasValid(i)||s("Engine.showPassage","There's no passage with the name \""+i+'"!');var k,O,j,A,C=d.children(c).not(".transition-out, .transition-out *"),E=(f.get("tags")||[]).join(" "),_=(k=e("<tw-passage><tw-sidebar>"),O=k.children("tw-sidebar"),j=e('<tw-icon tabindex=0 alt="Undo" title="Undo">&#8630;</tw-icon>'),A=e('<tw-icon tabindex=0 alt="Redo" title="Redo">&#8631;</tw-icon>'),n.pastLength<=0&&j.css("visibility","hidden"),n.futureLength<=0&&A.css("visibility","hidden"),O.append(j,A),k);"function"==typeof T&&(T=T.call(C)),"function"==typeof S&&(S=S.call(_)),d.detach(),_.appendTo(d).attr({tags:E}),!y&&v&&(u(C,v,x,0,0,0,T),C.css("position","absolute")),d.attr({tags:E});var N=r.create(_),P=f.get("source");P=a.getTagged("header").map(p.bind(0,"header")).join("")+(l.debug?a.getTagged("debug-header").map(p.bind(0,"debug-header")).join(""):"")+P+a.getTagged("footer").map(p.bind(0,"footer")).join("")+(l.debug?a.getTagged("debug-footer").map(p.bind(0,"debug-footer")).join(""):""),n.pastLength<=0&&(l.debug&&(P=a.getTagged("debug-startup").map(p.bind(0,"debug-startup")).join("")+P),P=a.getTagged("startup").map(p.bind(0,"startup")).join("")+P),N.renderInto(P,_,{transition:w,transitionTime:x,transitionOrigin:S}),h.append(d.parents().length?d.parents().last():d),scroll(0,y?_.offset().top-.05*e(window).height():d.offset().top)}return i={goBack:function(e){n.rewind()&&f(n.passage,e)},goForward:function(e){n.fastForward()&&f(n.passage,e)},goToPassage:function(e,t){n.play(e),f(e,t)},toggleFullscreen:function(){var e=document.documentElement;document.fullscreenElement?document.exitFullscreen():document.msFullscreenElement?document.msExitFullscreen():(e.msRequestFullscreen||e.requestFullscreen).call(e)},showPassage:f,options:l},Object.freeze(i)}),define("debugmode/panel",["jquery"],function(e){return Object.freeze({create:function(t){var n=t.className,r=t.rowWrite,a=t.rowCheck,i=t.columnHead,o=t.tabName,s=t.tabUpdate,c=e("<div class='panel panel-"+n+"' hidden><table class='panel-rows'></table></div>"),u=e("<button class='tab tab-"+n+"'>0 "+o+"s</button>");return u.click(function(){u.toggleClass("enabled"),u.parent().siblings(".panel").attr("hidden",""),u.is(".enabled")&&(u.siblings(".tab:not(.tab-"+n+")").removeClass("enabled"),c.removeAttr("hidden"))}),s||(s=function(e){return u.text(e+" "+o+(1!==e?"s":""))}),Object.assign(Object.create(this),{tabName:o,tab:u,panel:c,panelRows:c.find(".panel-rows"),rowWrite:r,rowCheck:a,columnHead:i,tabUpdate:s})},update:function(t,n){var r=this.rowCheck,a=this.rowWrite,i=this.panelRows,o=this.columnHead,s=[],c=i.children();t.forEach(function(t){var n=c.filter(function(n,a){return r(t,e(a))}),o=a(t,n.length&&n);n.length||i.append(o),s.push.apply(s,_toConsumableArray(o.get()))}),c.filter(function(e,t){return!s.includes(t)&&!t.className.includes("panel-head")}).remove(),this.tabUpdate(n),n>0&&!i.find(".panel-head").length?i.prepend(o()):0===n&&i.find(".panel-head").remove()}})}),define("debugmode/mode",["jquery","utils","state","internaltypes/varref","internaltypes/twineerror","utils/operationutils","engine","passages","section","debugmode/panel"],function(e,t,n,r,a,i,o,s,c,u){var l=t.escape,p=t.nth,f=t.storyElement,d=t.debounce,h=i.objectName,y=i.isObject,m=i.toSource;return function(t,i){var g=e(document.documentElement),v=e("<tw-debugger>\n\t\t<div class='panel panel-errors' hidden><table></table></div>\n\t\t<div class='tabs'></div>\n\t\t<label style='user-select:none'>Turns: </label><select class='turns' disabled></select><button class='show-invisibles'>Debug View</button><button class='show-dom'>DOM View</button>\n\t\t<div class='resizer'>\n\t\t</tw-debugger>"),b=v.find(".tabs"),w=v.find(".show-dom"),T=v.find(".show-invisibles"),S=v.find(".turns");v.find(".resizer").mousedown(function(e){if(1!==e.which)return!0;e.stopPropagation();var t=e.pageX,n=v.width();g.on("mousemove.debugger-resizer",function(e){var r=e.pageX;v.width((n+t-r|0)+"px")}).on("mouseup.debugger-resizer",function(){g.off(".debugger-resizer")})}),T.click(function(){g.toggleClass("debug-mode").removeClass("dom-debug-mode"),T.toggleClass("enabled"),w.removeClass("enabled")}),w.click(function(){g.toggleClass("dom-debug-mode").removeClass("debug-mode"),w.toggleClass("enabled"),T.removeClass("enabled")}),n.timelinePassageNames().forEach(function(e,t){S.append("<option value="+t+">"+(t+1)+": "+e+"</option>")}),S.val(n.pastLength),n.pastLength>0&&S.removeAttr("disabled"),S.change(function(e){var t=e.target.value-n.pastLength;0!==t&&(n[t<0?"rewind":"fastForward"](Math.abs(t)),o.showPassage(n.passage))}),n.on("forward",function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=n.pastLength;a>=1&&S.removeAttr("disabled"),r?(S.find("[selected]").removeAttr("selected"),S.val(a)):(S.children().each(function(t,n){t>=a&&e(n).remove()}),S.append("<option value="+a+">"+(a+1)+": "+t+"</option>").val(a))}).on("back",function(){n.pastLength<=1&&S.attr("disabled"),S.find("[selected]").removeAttr("selected"),S.val(n.pastLength)}).on("load",function(e){S.empty(),S[e.length<=1?"attr":"removeAttr"]("disabled"),e.forEach(function(e,t){return S.append("<option value="+t+">"+(t+1)+": "+e.passage+"</option>")})});var x=new Set,k=u.create({className:"variables",tabName:"Variable",rowWrite:function(t,n){var r=t.name,a=t.dataset,i=t.path,o=t.value,s=t.tempScope,c=t.type,u=o&&o.length>48&&!o.TwineScript_DebugName,p=y(o)&&o.TwineScript_DebugName?o.TwineScript_DebugName():l(h(o).slice(0,48)+(u?"\u2026":"")),f="";i.length&&(f=i.reduce(function(e,t){return e+t+"'s "},"")),a&&(r="???");var d=c?m(c):"",g="object"===(void 0===o?"undefined":_typeof(o))||u;return n?(n.find(".variable-type").html(d?d+"-type ":""),f&&n.find(".variable-path").html((s?"_":"$")+l(f)),n.find(".variable-name").html((f?"":s?"_":"$")+l(r+"")),n.find(".temporary-variable-scope").html(s||""),n.find(".variable-value").html(p),n.find("tw-folddown")[g?"show":"hide"](),n.next(".panel-row-source td").html(g?l(m(o)):""),n.add(n.next(".panel-row-source"))):e('<div class="variable-row">').attr("data-name",r).attr("data-path",i+"").attr("data-scope",s||"").css("padding-left",Math.min(5,i.length)+"em").append("<td class='variable-type'>"+(d?d+"-type ":"")+"</td>","<td class='variable-name'>"+(f?"<span class='variable-path'>"+(s?"_":"$")+l(f)+"</span> ":"")+(f?"":s?"_":"$")+l(r+"")+"</td>","<td class='temporary-variable-scope'>"+(s||"")+"</td>","<td class='variable-value'>"+p+"</td><td class='panel-row-buttons'><tw-folddown tabindex=0 style='display:"+(g?"visible":"none")+"'>(source:) </tw-folddown></td>").add("<tr class='variable-row panel-row-source' style='display:none'><td colspan='5'>"+(g?l(m(o)):"")+"</td></tr>")},rowCheck:function(e,t){var n=e.name,r=e.path,a=e.tempScope;return t.attr("data-name")===n&&t.attr("data-path")===r+""&&t.attr("data-scope")===a},columnHead:function(){return'<tr class="panel-head"><th>Type</th><th>Name</th><th>Scope</th><th>Value</th></tr>'}}),O=d(function(){var e=[],t=n.variables,r=e.length;function a(t){if(!(e.length>500)){e.push(t);var n=t.path.concat(t.name),r=t.value,i=t.tempScope;Array.isArray(r)?r.forEach(function(e,t){return a({name:p(t+1),path:n,value:e,tempScope:i})}):r instanceof Map?[].concat(_toConsumableArray(r)).forEach(function(e){var t=_slicedToArray(e,2),r=t[0],o=t[1];return a({name:r,path:n,value:o,tempScope:i})}):r instanceof Set&&[].concat(_toConsumableArray(r)).forEach(function(e,t){return a({name:t,dataset:!0,path:n,value:e,tempScope:i})})}}for(var i in t)i.startsWith("TwineScript")||(r+=1,a({name:i,path:[],value:t[i],tempScope:"",type:t.TwineScript_TypeDefs&&t.TwineScript_TypeDefs[i]}));e.push.apply(e,_toConsumableArray(x)),r+=x.size,k.update(e,r),k.panel[(r?"remove":"add")+"Class"]("panel-variables-empty")}),j=void 0;r.on("set",function(e,t,r){if(e!==n.variables&&e.TwineScript_VariableStoreName&&!e.TwineScript_VariableStoreName.match(/#\d+$/)){var a=e.TwineScript_VariableStoreName,i=e.TwineScript_TypeDefs&&e.TwineScript_TypeDefs[t],o=[].concat(_toConsumableArray(x)).find(function(e){return e.name===t&&e.tempScope===a});o?o.value=r:x.add({name:t,path:[],value:r,tempScope:a,type:i})}O(),j()}).on("delete",function(){O(),j()}),k.panel.append("<div class='panel-variables-bottom'>\n\t\t\t<button class='panel-variables-copy'>Copy $ variables as (set:) call</button>\n\t\t\t<input class='clipboard' type=\"text\" style='opacity:0;pointer-events:none;position:absolute;'></input>\n\t\t</div>").removeAttr("hidden"),k.tab.addClass("enabled");var A=k.panel.find(".clipboard");g.on("click",".panel-variables-copy",function(){var e=[];for(var t in n.variables)t.startsWith("TwineScript")||e.push("$"+t+" to "+m(n.variables[t]));A.val("(set:"+e+")")[0].select(),document.execCommand("copy")});var C=u.create({className:"enchantments",tabName:"Enchantment",rowWrite:function(t,n){var r=t.scope,a=t.changer,i=t.name,o=t.localHook,s=void 0;return s=a?l(h(a)):"<em>enchanted via ("+i+":)</em>",n||e('<div class="enchantment-row">').data("enchantment",t).append("<td><span class='enchantment-name'>"+m(r)+(o?"</span><span class=enchantment-local>"+("function"==typeof o.TwineScript_ToSource?o.TwineScript_ToSource():o.attr("name")?"?"+o.attr("name"):"an unnamed hook"):"")+"</span></td><td class='enchantment-value'>"+s+"</td>"+(a?"<td class='panel-row-buttons'><tw-folddown tabindex=0>(source:)</tw-folddown></td>":"")).add(a?"<tr class='panel-row-source' style='display:none'><td colspan='3'>"+l(m(a))+"</td></tr>":"")},rowCheck:function(e,t){return t.data("enchantment")===e},columnHead:function(){return'<tr class="panel-head"><th>Scope</th><th>Value</th></div>'}}),E=d(function(e){C.update(e.enchantments,e.enchantments.length)});c.on("add",E).on("remove",E);var _=c.create(f),N=u.create({className:"storylets",tabName:"Storylet",rowWrite:function(t,n){var r=t.name,a=t.active,i=t.storyletSource,o=t.exclusive,s=t.urgent;return n?(n[(a?"remove":"add")+"Class"]("storylet-closed"),n):e('<tr class="storylet-row '+(a?"":"storylet-closed")+'">').attr("data-name",r).append("<td class='storylet-name'>"+r+"</td><td class='storylet-lambda'>"+i+"</td><td class='storylet-exclusive'>"+o+"</td><td class='storylet-urgent'>"+s+"</td>")},rowCheck:function(e,t){var n=e.name;return t.attr("data-name")===l(n+"")},columnHead:function(){return"<tr class=\"panel-head\"><th>Name</th><th>Condition</th><th class='storylet-exclusive'>Exclusivity</th><th class='storylet-urgent'>Urgency</th></tr>"}});N.tab.hide(),j=d(function(){var e=s.getStorylets(_),t=a.containsError(e),n=s.allStorylets();N.update(n.map(function(n){return{name:n.get("name"),storyletSource:n.get("storylet").TwineScript_ToSource(),active:!t&&e.some(function(e){return e.get("name")===n.get("name")}),exclusive:"number"==typeof n.get("exclusivity")?n.get("exclusivity"):0,urgent:"number"==typeof n.get("urgency")?n.get("urgency"):0}}),t?0:e.length),N.panel[(t?"add":"remove")+"Class"]("storylet-error");var r=n.some(function(e){return e.get("exclusivity")&&"number"==typeof e.get("exclusivity")}),i=n.some(function(e){return e.get("urgency")&&"number"==typeof e.get("urgency")});N.panel[(r?"add":"remove")+"Class"]("panel-exclusive"),N.panel[(i?"add":"remove")+"Class"]("panel-urgent"),n.length&&N.tab.show()});var P=u.create({className:"source",tabName:"Source",rowWrite:e.noop,rowCheck:e.noop,tabUpdate:e.noop,columnHead:e.noop});P.tab.text("Source");var I=u.create({className:"errors",tabName:"Error",rowWrite:e.noop,rowCheck:e.noop,columnHead:e.noop,tabUpdate:function(e){return I.tab.css({background:e?"rgba(230,101,204,0.3)":""}).text(e+" Error"+(1!==e?"s":""))}}),M=function(t,r){if("propagated"!==t.type){I.panelRows.children().length>500&&I.panelRows.children(":first-child").remove();var a=e('<tr class="error-row"><td class="error-passage">'+n.passage+'</td><td class="error-message">'+t.message+"</td></tr>");a.find(".error-message").attr("title",r),I.panelRows.append(a),I.tabUpdate(I.panelRows.children().length)}};function D(){if(x=new Set,O(),j(),C.panelRows.empty(),C.tabUpdate(0),n.passage){var e=s.get(n.passage);e&&P.panelRows.text(e.get("source"))}}a.on("error",M),v.prepend(k.panel,C.panel,I.panel,N.panel,P.panel),b.prepend(k.tab,C.tab,I.tab,N.tab,P.tab),n.on("forward",D).on("back",D).on("load",D),t&&(M(t,i),D()),e(document.body).append(v)}}),define("macrolib/values",["macros","utils","utils/operationutils","datatypes/colour","datatypes/gradient","datatypes/datatype","datatypes/hookset","internaltypes/twineerror"],function(e,t,n,r,a,i,o,s){var c=t.realWhitespace,u=t.nth,l=t.anyRealLetter,p=n.subset,f=n.objectName,d=n.clone,h=n.toSource,y=e.TypeSignature,m=y.rest,g=y.zeroOrMore,v=y.either,b=y.optional,w=y.insensitiveSet,T=y.numberRange,S=y.percent,x=y.nonNegativeInteger,k=y.positiveInteger,O=y.Any,j=Math.max,A=Math.min,C=Math.round,E=Math.floor,_=Math.ceil;function N(e){return function(){var t=e.apply(void 0,arguments);return"number"!=typeof t||isNaN(t)?s.create("macrocall","This mathematical expression doesn't compute!"):t}}e.add(["str","string","text"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.join("")},[g(e.TypeSignature.either(String,Number,Boolean,Array))])("source",function(e,t){return t&&"command"===t.TwineScript_TypeID&&!t.TwineScript_ToSource?s.create("datatype","I can't construct the source code of a command created by a custom macro."):h(t)},[O])("substring",function(e,t,n,r){return p(t,n,r)},[String,parseInt,parseInt])("lowercase",function(e,t){return t.toLowerCase()},[String])("uppercase",function(e,t){return t.toUpperCase()},[String])("lowerfirst",function(e,t){return t.replace(RegExp(l+"+"),function(e){return(e=Array.from(e))[0].toLowerCase()+e.slice(1).join("").toLowerCase()})},[String])("upperfirst",function(e,t){return t.replace(RegExp(l+"+"),function(e){return(e=Array.from(e))[0].toUpperCase()+e.slice(1).join("").toLowerCase()})},[String])("words",function(e,t){return t.split(RegExp(c+"+")).filter(Boolean)},[String])(["str-repeated","string-repeated"],function(e,t,n){return 0===n.length?s.create("macrocall","I can't repeat an empty string."):n.repeat(t)},[x,String])(["str-reversed","string-reversed"],function(e,t){return[].concat(_toConsumableArray(t)).reverse().join("")},[String])("joined",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return r.join(t)},[m(String)])("plural",function(e,t,n,r){return n&&""!==r?t+" "+(1!==Math.abs(t)?r||n+"s":n):s.create("macrocall","The (plural:) macro can't be given empty strings.")},[parseInt,String,b(String)])(["str-nth","string-nth"],function(e,t){return u(t)},[parseInt])(["num","number"],function(e,t){return Number.isNaN(+t)?s.create("macrocall","I couldn't convert "+f(t)+" to a number."):+t},[String])("datatype",function(e,t){return i.from(t)},[O])("datapattern",function(e,t){return function e(t){var n,r=void 0;return Array.isArray(t)?r=t.map(e):t instanceof Map?(r=new Map,[].concat(_toConsumableArray(t)).forEach(function(t){var n=_slicedToArray(t,2),a=n[0],i=n[1];return r.set(a,e(i))})):r=i.from(t),(n=s.containsError(r))?n:r}(t)},[O])(["rgb","rgba"],function(e){return r.create({r:arguments.length<=1?void 0:arguments[1],g:arguments.length<=2?void 0:arguments[2],b:arguments.length<=3?void 0:arguments[3],a:arguments.length<=4?void 0:arguments[4]})},[T(0,255),T(0,255),T(0,255),b(S)])(["hsl","hsla"],function(e,t,n,a,i){return(t=C(t)%360)<0&&(t+=360),r.create({h:t,s:n,l:a,a:i})},[Number,S,S,b(S)])(["lch","lcha"],function(e,t,n,a,i){return(a=C(a)%360)<0&&(a+=360),r.create({l:t,c:n,h:a,a:i})},[S,T(0,132),Number,b(S)])("complement",function(e,t){return t.LCHRotate(180)},[r])("palette",function(e,t,n){var a=n.toLCHA(),i=a.l,o={l:i<=.75?.75+i/3:.75-3*(1-i),c:80,h:a.h,a:1},s=void 0,c=void 0,u=void 0;return s=r.create(o),o.l+=i<=.75?-.1:.1,o.l<.5&&(o.l*=.5/o.l),c=r.create(o),o.l+=i<=.85?.15:-.15,u=r.create(o),"adjacent"===t?(c=(s=s.LCHRotate(-30)).LCHRotate(30),u=s.LCHRotate(60)):"triad"===t&&(u=s.LCHRotate(180),c=s.LCHRotate(140),s=s.LCHRotate(-140)),[n,s,c,u]},[w("mono","adjacent","triad"),r])("gradient",function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];if((t=C(t)%360)<0&&(t+=360),i.length<4)return s.create("datatype","(gradient:) must be given at least 2 colour-stop pairs of numbers and colours.");var c=void 0,u=[],l=i.reduce(function(e,t){if(s.containsError(e))return e;if(void 0===c)c=t;else{if("number"!=typeof c||!r.isPrototypeOf(t))return s.create("datatype","(gradient:) colour-stops should be pairs of numbers and colours, not colours and numbers.");u.push({stop:c,colour:d(t)}),c=void 0}return e},!0);return s.containsError(l)?l:void 0!==c?s.create("macrocall","This gradient has a colour-stop percent without a colour."):a.create(t,u)},[Number,m(v(S,r))])("stripes",function(e,t,n){for(var r=arguments.length,i=Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];(t=C(t)%360)<0&&(t+=360);var s=0,c=[];return i.forEach(function(e){c.push({stop:s,colour:d(e)}),s+=n,c.push({stop:s,colour:d(e)})}),a.create(t,c,!0)},[Number,k,r,m(r)])("hooks-named",function(e,t){return t?o.create({type:"name",data:t}):s.create("datatype","(hooks-named:) can't be given an empty string.")},[String])("cond",function(e){for(var t=0;t<(arguments.length<=1?0:arguments.length-1);t+=2){var n=arguments.length<=t+1?void 0:arguments[t+1];if(t===(arguments.length<=1?0:arguments.length-1)-1||s.containsError(n))return n;if("boolean"!=typeof n)return s.create("datatype","(cond:)'s "+u(t+1)+" value is "+f(n)+", but should be a boolean.");if(n)return arguments.length<=t+1+1?void 0:arguments[t+1+1]}return s.create("macrocall","An odd number of values must be given to (cond:), not "+(arguments.length<=1?0:arguments.length-1),"(cond:) must be given one or more pairs of booleans and values, as well as one final value.")},[Boolean,O,m(O)]),{weekday:[function(){return["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur"][(new Date).getDay()]+"day"},null],monthday:[function(){return(new Date).getDate()},null],currenttime:[function(){var e=new Date,t=e.getHours()<12;return(e.getHours()%12||12)+":"+((e.getMinutes()<10?"0":"")+e.getMinutes())+" "+(t?"A":"P")+"M"},null],currentdate:[function(){return(new Date).toDateString()},null],min:[A,m(Number)],max:[j,m(Number)],abs:[Math.abs,Number],sign:[Math.sign,Number],sin:[Math.sin,Number],cos:[Math.cos,Number],tan:[Math.tan,Number],floor:[E,Number],round:[C,Number],trunc:[function(e){return e>0?E(e):_(e)},Number],ceil:[_,Number],pow:[N(Math.pow),[Number,Number]],exp:[Math.exp,Number],sqrt:[N(Math.sqrt),Number],log:[N(Math.log),Number],log10:[N(Math.log10),Number],log2:[N(Math.log2),Number],random:[function(e,t){var n=void 0,r=void 0;return t?(n=A(e,t),r=j(e,t)):(n=0,r=e),r+=1,~~(Math.random()*(r-n))+n},[parseInt,e.TypeSignature.optional(parseInt)]],either:[function(){var e;return e=~~(Math.random()*arguments.length),arguments.length<=e?void 0:arguments[e]},m(O)],nth:[function(e){var t;return e<=0?s.create("datatype","(nth:)'s first value should be a positive whole number, not "+e):(t=(e-1)%(arguments.length<=1?0:arguments.length-1)+1,arguments.length<=t?void 0:arguments[t])},[parseInt,m(O)]],"":function(){var t=this;Object.keys(this).forEach(function(n){if(n){var r=t[n][0],a=t[n][1];e.add(n,function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return r.apply(void 0,n)},a)}})}}[""]()}),define("macrolib/commands",["jquery","macros","utils","state","passages","renderer","engine","internaltypes/twineerror","internaltypes/twinenotifier","datatypes/assignmentrequest","datatypes/hookset","datatypes/codehook","datatypes/lambda","datatypes/colour","datatypes/gradient","internaltypes/varref","datatypes/typedvar","datatypes/varbind","utils/operationutils","utils/renderutils"],function(e,t,n,r,a,i,o,s,c,u,l,p,f,d,h,y,m,g,v,b){var w=v.printBuiltinValue,T=v.objectName,S=v.clone,x=v.toSource,k=b.dialog,O=b.geomParse,j=b.geomStringRegExp,A=t.TypeSignature,C=A.Any,E=A.Everything,_=A.rest,N=A.either,P=A.optional,I=A.zeroOrMore,M=A.positiveInteger,D=A.positiveNumber,R=Object.assign,L=Math.floor,F=Math.ceil,q=Math.abs,V=Math.max,H=Math.min,z=e.noop;function W(e){return"("+e+" "+o.options.ifid+") "}["set","put","unpack"].forEach(function(e){return t.add(e,function(t){for(var n=0;n<(arguments.length<=1?0:arguments.length-1);n+=1){var r=arguments.length<=n+1?void 0:arguments[n+1];if("into"===r.operator&&"set"===e)return s.create("macrocall","Please say 'to' when using the (set:) macro.");if("to"===r.operator&&"set"!==e)return s.create("macrocall","Please say 'into' when using the (put:) or (unpack:) macro.");if((y.isPrototypeOf(r.dest)||m.isPrototypeOf(r.dest))===("unpack"===e))return s.create("macrocall","unpack"===e?"Please use the (unpack:) macro with arrays, datamaps or (p:) patterns containing variables to the right of 'into'.":"Please use the ("+e+":) macro with just single variables and typed variables to the "+("set"===e?"left of 'to'.":"right of 'into'."));var a=r.set();if(s.containsError(a))return a}return{TwineScript_TypeID:"instant",TwineScript_TypeName:"a ("+e+":) operation",TwineScript_ObjectName:"a ("+e+":) operation",TwineScript_Unstorable:!0,TwineScript_Print:function(){return o.options.debug,""}}},[_(u)])}),t.add("move",function(e){for(var t=0;t<(arguments.length<=1?0:arguments.length-1);t+=1){var n=arguments.length<=t+1?void 0:arguments[t+1];if("into"!==n.operator)return s.create("macrocall","Please say 'into' when using the (move:) macro.");var r=n.set(!0);if(s.containsError(r))return r}return{TwineScript_TypeID:"instant",TwineScript_TypeName:"a (move:) operation",TwineScript_ObjectName:"a (move:) operation",TwineScript_Unstorable:!0,TwineScript_Print:function(){return o.options.debug,""}}},[_(u)]),t.addCommand("display",function(e){if(!a.hasValid(e))return s.create("macrocall","I can't (display:) the passage '"+e+"' because it doesn't exist.")},function(e,t,r){return R(e,{source:n.unescape(a.get(r).get("source"))})},[String])("print",z,function(e,t,n){return R(e,{source:w(n)})},[C])(["verbatim-print","v6m-print"],z,function(e,t,n){return R(e,{verbatim:!0,source:w(n)})},[C])(["verbatim-source","v6m-source"],function(e){if(e&&"command"===e.TwineScript_TypeID&&!e.TwineScript_ToSource)return s.create("datatype","I can't construct the source code of a command created by a custom macro.")},function(e,t,n){return R(e,{verbatim:!0,source:w(x(n))})},[C])("go-to",function(e){if(!a.hasValid(e))return s.create("macrocall","I can't (go-to:) the passage '"+e+"' because it doesn't exist.")},function(e,t,n){return requestAnimationFrame(function(){return o.goToPassage(n,{transition:e.data.passageT8n})}),{blocked:!0}},[String])("undo",z,function(e){return r.pastLength<1?s.create("macrocall","I can't (undo:) on the first turn."):(requestAnimationFrame(function(){return o.goBack({transition:e.data.passageT8n})}),{blocked:!0})},[]),n.onStartup(function(){return e(n.storyElement).on("click.icon","tw-icon",function(t){var n=e(this),a=n.data("clickEvent"),i=n.attr("alt");a&&a(n),"Undo"===i&&(t.stopPropagation(),o.goBack()),"Redo"===i&&(t.stopPropagation(),o.goForward()),"Fullscreen"===i&&(t.stopPropagation(),o.toggleFullscreen()),"Restart"===i&&(r.hasSessionStorage&&sessionStorage.removeItem("Saved Session"),window.location.reload())})}),[["Undo","&#8630;",function(){return r.pastLength>0}],["Redo","&#8631;",function(){return r.futureLength>0}],["Fullscreen","&#9974;",function(){return document.fullscreenEnabled||document.msFullscreenEnabled}],["Restart","&#10226;",Object]].forEach(function(e){var n=_slicedToArray(e,3),r=n[0],a=n[1],i=n[2];t.addCommand("icon-"+r.toLowerCase(),function(e,t){if("string"==typeof e&&"string"==typeof t){var n=[].concat(_toConsumableArray(e)).length,a=[].concat(_toConsumableArray(t)).length;if(n>1&&a>1)return s.create("datatype","One of the two strings given to (icon-"+r.toLowerCase()+":) should be 1 character long, for its icon.");if(1===n&&1===a)return s.create("datatype","One of the two strings given to (icon-"+r.toLowerCase()+":) should be 2 or more characters long, for its label.")}},function(e,t,n,o){if("string"==typeof o&&1===[].concat(_toConsumableArray(o)).length||"string"==typeof n&&[].concat(_toConsumableArray(n)).length>1){var s=[o,n];n=s[0],o=s[1]}return R(e,{source:'<tw-icon tabindex=0 alt="'+r+'" '+(o?'data-label="'+o.replace('"',"&quot;")+'"':"")+' title="'+r+'" '+(i()?"":'style="visibility:hidden"')+">"+(n||a)+"</tw-icon>"})},[P(String),P(String)])}),t.addCommand("icon-counter",function(e,t,n){var r=" label string given to (icon-counter:) can't be empty or only whitespace.";return t&&t.trim()?"string"!=typeof n||n.trim()?void 0:s.create("datatype","The 2nd "+r):s.create("datatype","The 1st "+r)},function(e,t,r,a,i){e.attr.push({"data-2bind":!0}),e.data.twoWayBindEvent=function(t,n,o){if(r.varRef.matches(n,o)){var s=r.varRef.get();if("number"==typeof s)e.target.children("tw-icon").text(s>0?L(s):F(s)).attr("data-label",1!==q(s)&&void 0!==i?i:a)}};var o=r.varRef.get();return"number"!=typeof o?s.create("datatype","(icon-counter:) can only be bound to a variable holding a number, not "+T(o)+"."):R(e,{source:'<tw-icon data-label="'+n.escape(1!==q(o)&&void 0!==i?i:a)+'">'+(o>0?L(o):F(o))+"</tw-icon>"})},[g,String,P(String)]),t.addCommand("meter",function(e,t,n,r){return"string"!=typeof r||r.trim()?-1===n.search(j)||!n.includes("=")&&n.length>1?s.create("datatype",'The (meter:) macro requires a sizing line("==X==", "==X", "=XXXX=" etc.) be provided, not '+JSON.stringify(n)+"."):void 0:s.create("datatype","The label string given to (meter:) can't be empty or only whitespace.")},function(e,t,n,r,a,i,o){i&&"string"!=typeof i&&(o=i,i=void 0),o||(o=d.create({h:0,s:0,l:.5,a:.5})),d.isPrototypeOf(o)&&(o=h.create(90,[{colour:o,stop:0},{colour:o,stop:1}]));var c=O(a),u=c.marginLeft,l=c.size,p=u>0&&Math.ceil(u+l)<100,f=function(e){var t=V(0,H(1,e/r)),n=o.repeating?o:o.multiply(r/e);return"height:100%;background-repeat:no-repeat;background-image:"+(p?R(n,n.repeating?{}:{angle:270}).toLinearGradientString()+", ":"")+R(n,n.repeating?{}:{angle:p||0===u?90:270}).toLinearGradientString()+";background-size:"+(p?Array(2).fill(50*t+"%"):100*t+"%")+";background-position-x:"+(p?-100/(2-t)+100+"%,"+100/(2-t)+"%":0===u?"left":"right")+";text-align:"+(p?"center":0===u?"left":"right")};e.styles.push({"margin-left":u+"%",width:l+"%",height:"1.5em",display:"block"}),e.attr.push({"data-2bind":!0});var y=i&&t.stackTop.tempVariables;e.data.twoWayBindEvent=function(t,r,a){if(n.varRef.matches(r,a)){var o=n.varRef.get();if("number"==typeof o){var s=e.target.children("tw-meter");s.attr("style",f(o)),i&&e.section.renderInto("",null,{source:i,target:s,append:"replace",transitionDeferred:!1},y)}}};var m=n.varRef.get();return"number"!=typeof m?s.create("datatype","(meter:) can only be bound to a variable holding a number, not "+T(m)+"."):R(e,{source:'<tw-meter style="'+f(m)+'">'+(i||"")+"</tw-meter>"})},[g,D,String,P(N(String,d,h)),P(N(d,h))]),[["cycling-link"],["seq-link","sequence-link"]].forEach(function(e,n){return t.addCommand(e,function(){return""===(arguments.length<=0?void 0:arguments[0])?s.create("datatype","The first string in a ("+e[0]+":) can't be empty."):arguments.length<=(g.isPrototypeOf(arguments.length<=0?void 0:arguments[0])?2:1)?s.create("datatype","I need two or more strings to "+(n?"sequence":"cycle")+" through, not just '"+(t=arguments.length-1,arguments.length<=t?void 0:arguments[t])+"'."):void 0;var t},function(e,t){for(var r=arguments.length,a=Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];var o=void 0;g.isPrototypeOf(a[0])&&(o=a.shift());var c=0;if(o&&"two way"===o.bind){e.attr.push({"data-2bind":!0});var u=a.indexOf(o.varRef.get());u>-1&&(c=u)}var l=t.stackTop.tempVariables;function p(t,r){var i=c>=a.length-1&&n,u=""===a[c]?"":i?a[c]:"<tw-link>"+a[c]+"</tw-link>";if(i&&(e.data.clickEvent=void 0),o&&!r){var p=o.set(a[c]);if(s.containsError(p))return void t.replaceWith(p.render(a[c]))}var f=R({},e,{source:u,transitionDeferred:!1});e.section.renderInto("",null,f,l)}a[c]&&(e.data.clickEvent=function(e){c=(c+1)%a.length,p(e,!1)})&&(e.data.twoWayBindEvent=function(e,t,n){if(o.varRef.matches(t,n)){var r=o.varRef.get(),i=a.indexOf(r);i>-1&&i!==c&&(c=i,p(e,!0))}});var f="<tw-link>"+a[c]+"</tw-link>";if(o){var d=o.set(a[c]);if(s.containsError(d))return d}return R(e,{source:f,append:"replace",transitionDeferred:!0})},[N(g,String),_(String)])}),n.onStartup(function(){return e(n.storyElement).on("change.dropdown-macro","select",function(){var t=e(this),n=t.closest("tw-expression, tw-hook").data("dropdownEvent");n&&n(t)})}),t.addCommand("dropdown",function(e){var t;return""===(arguments.length<=1?void 0:arguments[1])||""===(t=(arguments.length<=1?0:arguments.length-1)-1+1,arguments.length<=t?void 0:arguments[t])?s.create("datatype","The first or last strings in a (dropdown:) can't be empty.","Because empty strings create separators within (dropdown:)s, having them at the start or end doesn't make sense."):(arguments.length<=1?0:arguments.length-1)<=1?s.create("datatype","I need two or more strings to create a (dropdown:) menu, not just "+(arguments.length<=1?0:arguments.length-1)+"."):void 0},function(t,r,a){for(var i=arguments.length,o=Array(i>3?i-3:0),c=3;c<i;c++)o[c-3]=arguments[c];var u=0;if("two way"===a.bind){t.attr.push({"data-2bind":!0});var l=o.indexOf(a.varRef.get());l>-1&&(u=l)}var p=Math.max.apply(Math,_toConsumableArray(o.map(function(e){return[].concat(_toConsumableArray(e)).length}))),f="<select>"+o.map(function(e,t){return"<option"+(t===u?" selected":"")+(""===e?" disabled":"")+">"+n.escape(e||"\u2500".repeat(p))+"</option>"}).join("\n")+"</select>";t.data.dropdownEvent=function(e){var t=e.val(),n=a.set(t);s.containsError(n)&&e.replaceWith(n.render(t))},t.data.twoWayBindEvent=function(e,t,n){if(a.varRef.matches(t,n)){var r=a.varRef.get(),i=o.indexOf(r);i>-1&&i!==u&&(e.find("select").val(r),u=i)}},t.styles.push({"background-color":function(){return n.parentColours(e(this)).backgroundColour}});var d=a.set(o[u]);return s.containsError(d)?d:R(t,{source:f,append:"replace"})},[g,String,_(String)]),n.onStartup(function(){return e(n.storyElement).on("input.checkbox-macro","input[type=checkbox]",function(){var t=e(this),n=t.closest("tw-expression").data("checkboxEvent");n&&n(t)})});var $=1;t.addCommand("checkbox",function(){},function(e,t,n,r){var a=!1,i="checkbox-"+ ++$;if("two way"===n.bind){e.attr.push({"data-2bind":!0});var o=n.varRef.get();"boolean"==typeof o&&(a=o),e.data.twoWayBindEvent=function(e,t,r){if(n.varRef.matches(t,r)){var a=n.varRef.get();"boolean"==typeof a&&e.children("input[type=checkbox]").prop("checked",a)}}}return e.data.checkboxEvent=function(e){var t=e.is(":checked"),r=n.set(t);s.containsError(r)&&e.replaceWith(r.render(""))},R(e,{source:'<input id="'+i+'" type="checkbox" '+(a?"checked":"")+'><label for="'+i+'">'+r+"</label>",append:"replace"})},[g,String]),n.onStartup(function(){return e(document).on("fullscreenchange",function(){e("input[type=checkbox][id^=fullscreen]",n.storyElement).each(function(t,n){(e(n).closest("tw-expression").data("fullscreenEvent")||Object)(n)})})}),t.addCommand("checkbox-fullscreen",function(){},function(t,n,r){var a="fullscreenCheckbox-"+ ++$;return t.data.fullscreenEvent=function(t){return e(t).prop("checked",!(!document.fullscreenElement&&!document.msFullscreenElement))},t.data.checkboxEvent=function(){return o.toggleFullscreen()},R(t,{source:'<input id="'+a+'" type="checkbox" '+(document.fullscreenEnabled||document.msFullscreenEnabled?" ":"disabled ")+(document.fullscreenElement||document.msFullscreenElement?"checked":"")+'><label for="'+a+'">'+r+"</label>",append:"replace"})},[String]),n.onStartup(function(){return e(n.storyElement).on("input.input-box-macro","textarea",function(){var t=e(this),n=t.closest("tw-expression").data("inputBoxEvent");n&&n(t)})}),["input-box","force-input-box"].forEach(function(e){return t.addCommand(e,function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=g.isPrototypeOf(n[0]),i="number"==typeof n[1+a],o="string"==typeof n[1+a+i],c=n[+a];if("string"!=typeof c||-1===c.search(j)||!c.includes("=")&&c.length>1)return s.create("datatype","The ("+e+':) macro requires a sizing line("==X==", "==X", "=XXXX=" etc.) be provided, not '+JSON.stringify(c)+".");if("force-input-box"===e&&!o)return s.create("datatype","The ("+e+":) macro requires a string of text to forcibly input.");var u=1+a+i+o;return n.length>u?s.create("datatype","An incorrect combination of values was given to this ("+e+":) macro."):void 0},function(t,r){for(var a=arguments.length,i=Array(a>2?a-2:0),o=2;o<a;o++)i[o-2]=arguments[o];var c="force-input-box"===e,u=g.isPrototypeOf(i[0]),l="number"==typeof i[1+u],p=u&&i[0],f=l?i[1+u]:3,d=O(i[+u]),h=d.marginLeft,y=d.size,m="string"==typeof i[1+u+l]?i[1+u+l]:"",v=c?"":m;if("two way"===p.bind){t.attr.push({"data-2bind":!0});var b=p.varRef.get();if("string"==typeof b){v=c?m.slice(0,b.length):b;var w=p.set(v);if(s.containsError(w))return w}t.data.twoWayBindEvent=function(e,t,n){if(p.varRef.matches(t,n)){var r=p.varRef.get();"string"==typeof r&&e.find("textarea").val(c?m.slice(0,r.length):r)}}}else if(p){var T=p.set(c?"":m);if(s.containsError(T))return T}!c&&p&&(t.data.inputBoxEvent=function(e){var t=e.val(),n=p.set(t);s.containsError(n)&&e.replaceWith(n.render(""))});var S='<textarea style="width:100%" rows='+f+">"+n.escape(v)+"</textarea>";if(c){var x=Array.from(m);t.data.inputBoxEvent=function(e){var t=e.val().length,n=x.slice(0,t).join("");if(e.val(n),p){var r=p.set(n);s.containsError(r)&&e.replaceWith(r.render(""))}return!0}}return t.styles.push({display:"block","margin-left":h+"%",width:y+"%","border-style":function(){return this.style.borderStyle||"solid"}}),R(t,{source:S,append:"replace"})},[N(g,String),P(N(M,String)),P(N(M,String)),P(String)])}),["show","rerun"].forEach(function(n){return t.addCommand(n,z,function(t,r){for(var a=arguments.length,i=Array(a>2?a-2:0),o=2;o<a;o++)i[o-2]=arguments[o];return i.forEach(function(a){return a.forEach(r,function(a){var i=a.data("hidden");if(void 0!==i!=("rerun"===n))if(a.removeData("hidden"),i instanceof e)a.empty().append(i);else{var o=a.data("tempVariables");r.renderInto("",null,R({},t,{append:"replace",source:a.data("originalSource")||"",target:a}),o&&Object.create(o))}})}),t},[_(l)])});var B=function(e){return["I can't use a dialog macro in "+e+".","Please rewrite this without putting such macros here."]};t.addCommand("hide",z,function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach(function(t){return t.forEach(e,function(e){Boolean(e.data("hidden"))||e.data("hidden",e.contents().detach())})})},[_(l)],!1)("stop",z,z,[],!1)("load-game",z,function(e,t){var n=localStorage.getItem(W("Saved Game")+t);if(!n)return s.create("saving","I can't find a save slot named '"+t+"'!");var a=r.deserialise(e,n);if(a instanceof Error){var i=k({message:"Sorry to interrupt... The story tried to load saved data, but there was a problem.\n"+a.message+"\n\nThat data might have been saved from a different version of this story. Should I delete it?\n(Type 'delete' and choose Yes to delete it.)\n\nEither way, the story will now continue without loading the data.",defaultValue:"",buttons:[{name:"Yes",confirm:!0,callback:function(){"delete"===i.find("input").last().val()&&localStorage.removeItem(W("Saved Game")+t),e.unblock("")}},{name:"No",cancel:!0,callback:function(){return e.unblock()}}]});return{blocked:i}}requestAnimationFrame(o.showPassage.bind(o,r.passage,!1))},[String],!1)("mock-visits",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!o.options.debug)return s.create("operation","(mock-visits:) cannot be used outside of debug mode.","This macro is not meant to be used outside of debugging your story.");var r=t.find(function(e){return!a.hasValid(e)});return r?s.create("datatype","I can't mock-visit '"+r+"' because no passage with that name exists."):void 0},function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];r.mockVisits=S(n)},[_(String)],!1)(["dialog","alert"],function(e,t){for(var r=arguments.length,a=Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];if(g.isPrototypeOf(e)){if("two way"===e.bind)return s.create("datatype","(dialog:) shouldn't be given two-way bound variables.");if(void 0===t)return s.create("datatype","(dialog:) needs a message string to display.")}else void 0!==t&&a.unshift(t);var o=a.findIndex(function(e){return""===e});if(o>-1)return s.create("datatype","(dialog:)'s "+n.nth(o+1)+" link text shouldn't be an empty string.")},function(e,t,n,r){for(var a=arguments.length,i=Array(a>4?a-4:0),o=4;o<a;o++)i[o-4]=arguments[o];return g.isPrototypeOf(n)||(void 0!==r&&i.unshift(r),r=n,n=void 0),i.length||(i=["OK"]),{blocked:k({section:t,message:r,cd:e,buttons:i.map(function(e){return{name:e,callback:function(){t.unblock(n&&n.set(e)||"")}}})})}},[N(g,String),I(String)])("open-url",z,function(e,t){window.open(t,"")},[String],!1)(["restart","reload"],z,function(){if(r.pastLength<1)return s.create("infinite","I mustn't (restart:) the story in the starting passage.");r.hasSessionStorage&&sessionStorage.removeItem("Saved Session"),window.location.reload()},[],!1)("goto-url",z,function(e,t){window.location.assign(t)},[String],!1)("ignore",z,z,[I(E)])("assert-exists",function(e){if(""===e)return s.create("datatype","(assert-exists:) mustn't be given an empty string.")},function(e,t,n){var r=0;return("string"==typeof n?l.create({type:"string",data:n}):n).forEach(t,function(){++r}),r?e:s.create("assertion","I didn't see any "+("string"==typeof n?"text occurrences of":"hooks matching")+" "+x(n)+" in this passage.")},[N(l,String)]),t.add("assert",function(e,t){return t?{TwineScript_TypeID:"instant",TwineScript_TypeName:"an (assert:) operation",TwineScript_ObjectName:"an (assert:) operation",TwineScript_Unstorable:!0,TwineScript_Print:function(){return""}}:R(s.create("assertion","An assertion failed: "),{appendTitleText:!0})},[Boolean])("save-game",function(e,t,n){if(n=n||"",!r.hasStorage)return!1;var a=r.serialise();if(s.containsError(a))return a;if(!1===a)return!1;try{return localStorage.setItem(W("Saved Game")+t,a),localStorage.setItem(W("Saved Game Filename")+t,n),!0}catch(e){return!1}},[String,P(String)])("prompt",function(e,t,n,r,a){if(e.stackTop&&e.stackTop.evaluateOnly)return s.create.apply(s,["macrocall"].concat(_toConsumableArray(B(e.stackTop.evaluateOnly))));if(""===a)return s.create("datatype","The text for (prompt:)'s confirm link can't be blank.");var i=k({section:e,message:t,defaultValue:n,buttons:[{name:a||"OK",confirm:!0,callback:function(){return e.unblock(i.find("input").last().val())}}].concat(""===r?[]:{name:r||"Cancel",cancel:!0,callback:function(){return e.unblock(n)}})});e.stackTop.blocked=i,setTimeout(function(){return i.find("input").last().focus()},100)},[String,String,P(String),P(String)])("confirm",function(e,t,n,r){if(e.stackTop&&e.stackTop.evaluateOnly)return s.create.apply(s,["macrocall"].concat(_toConsumableArray(B(e.stackTop.evaluateOnly))));if(""===r)return s.create("datatype","The text for (confirm:)'s confirm link can't be blank.");var a=k({section:e,message:t,defaultValue:!1,buttons:[{name:r||"OK",confirm:!0,callback:function(){return e.unblock(!0)}}].concat(""===n?[]:{name:n||"Cancel",cancel:!0,callback:function(){return e.unblock(!1)}})});e.stackTop.blocked=a},[String,P(String),P(String)])("page-url",function(){return window.location.href},[]),i.options.blockerMacros.push("prompt","confirm")}),define("macrolib/datastructures",["jquery","utils","utils/naturalsort","macros","utils/operationutils","state","engine","passages","datatypes/lambda","datatypes/datatype","datatypes/typedvar","internaltypes/varref","internaltypes/twineerror"],function(e,t,n,r,a,i,o,s,c,u,l,p,f){var d=t.shuffled,h=t.permutations,y=a.objectName,m=a.subset,g=a.collectionType,v=a.isValidDatamapName,b=a.is,w=a.unique,T=a.clone,S=a.range,x=r.TypeSignature,k=x.optional,O=x.rest,j=x.either,A=x.zeroOrMore,C=x.Any,E=x.nonNegativeInteger;r.add(["a","array"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n},A(j(l,C)))("range",function(e,t,n){return S(t,n)},[parseInt,parseInt])("subarray",function(e,t,n,r){return m(t,n,r)},[Array,parseInt,parseInt])("reversed",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reverse().map(T)},A(C))("shuffled",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return d.apply(void 0,n).map(T)},[C,O(C)])("sorted",function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return r.sort(n("en"))},[j(Number,String),O(j(Number,String))])("rotated",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return 0===(t*=-1)?f.create("macrocall","I can't rotate these values by 0 positions."):Math.abs(t)>=r.length?f.create("macrocall","I can't rotate these "+r.length+" values by "+t+" positions."):r.slice(t).concat(r.slice(0,t)).map(T)},[parseInt,C,O(C)])("rotated-to",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i=t.filter(e,r);if(f.containsError(i))return i;if(!i.length)return f.create("macrocall","None of these "+r.length+" values matched the lambda, so I can't rotate them.");var o=r.indexOf(i[0]);return r.slice(o).concat(r.slice(0,o)).map(T)},[c.TypeSignature("where"),C,O(C)])("repeated",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];for(var i=[];t-- >0;)i.push.apply(i,r);return i.map(T)},[E,O(C)])("interlaced",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var a=Math.min.apply(Math,_toConsumableArray(n.map(function(e){return e.length}))),i=[],o=0;o<a;o+=1)for(var s=0;s<n.length;s+=1)i.push(T(n[s][o]));return i},[Array,O(Array)])("permutations",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.length?h.apply(void 0,n):[]},[A(C)]),r.add("altered",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return r.map(function(n,r){return t.apply(e,{loop:n,pos:r+1})})},[c.TypeSignature("via"),A(C)])("find",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return t.filter(e,r)},[c.TypeSignature("where"),A(C)])(["all-pass","pass"],function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i=t.filter(e,r);return f.containsError(i)||i.length===r.length},[c.TypeSignature("where"),A(C)])("some-pass",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i=t.filter(e,r);return f.containsError(i)||i.length>0},[c.TypeSignature("where"),A(C)])("none-pass",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i=t.filter(e,r);return f.containsError(i)||0===i.length},[c.TypeSignature("where"),A(C)])("folded",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return"where"in t&&(r=t.filter(e,r)),f.containsError(r)||r.reduce(function(n,r,a){return t.apply(e,{making:n,loop:r,pos:a+1})})},[j(c.TypeSignature("where","via","making"),c.TypeSignature("via","making")),O(C)]),r.add("datanames",function(e,t){return Array.from(t.keys()).sort(n("en"))},[Map])("datavalues",function(e,t){return Array.from(t.entries()).sort(n("en",function(e){return String(e[0])})).map(function(e){return T(e[1])})},[Map])("dataentries",function(e,t){return Array.from(t.entries()).sort(function(e,t){return[e[0],t[0]].sort(n("en"))[0]===e[0]?-1:1}).map(function(e){return new Map([["name",e[0]],["value",T(e[1])]])})},[Map])("history",function(e,t){var n=i.mockVisits.concat(i.pastPassageNames());if(!t)return n;var r=t.filter(e,n.map(function(e){return s.get(e)}));return f.containsError(r)?r:r.map(function(e){return e.get("name")})},[k(c.TypeSignature("where"))])("passage",function(e,t){return T(s.get(t||i.passage))||f.create("macrocall","There's no passage named '"+t+"' in this story.")},[k(String)])("passages",function(e,t){var r=n("en"),a=[].concat(_toConsumableArray(s.values())).map(function(e){return T(e)}),i=t?t.filter(e,a):a,o=f.containsError(i);return o||i.sort(function(e,t){return r(e.get("name"),t.get("name"))})},[k(c.TypeSignature("where"))])("open-storylets",function(e,t){if(e.stackTop.evaluateOnly)return f.create("macrocall","(open-storylets:) can't be used in "+e.stackTop.evaluateOnly+".");var n=s.getStorylets(e,t),r=f.containsError(n);return r||n.map(T)},[k(c.TypeSignature("where"))])("savedgames",function(){function e(e){return"("+e+" "+o.options.ifid+") "}var t=0,n=void 0,r=new Map;do{if(!i.hasStorage)break;n=localStorage.key(t),t+=1;var a=e("Saved Game");n&&n.startsWith(a)&&(n=n.slice(a.length),r.set(n,localStorage.getItem(e("Saved Game Filename")+n)))}while(n);return r},[])(["datamap","dm"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=void 0,i=new Map,o=n.reduce(function(e,t){var n=void 0;if(f.containsError(e))return e;if(void 0===a)a=t;else{if(n=f.containsError(v(i,a)))return n;if(i.has(a))return f.create("macrocall","You used the same data name ("+y(a)+") twice in the same (datamap:) call.");i.set(a,T(t)),a=void 0}return e},!0);return f.containsError(o)?o:void 0!==a?f.create("macrocall","This datamap has a data name without a value."):i},A(j(l,C)))(["dataset","ds"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Set(n.filter(w).map(T))},A(C))("count",function e(t,n){for(var r=arguments.length,a=Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];if(a.length>1){var o,s=a.map(function(r){return e(t,n,r)});return(o=f.containsError(s))?o:s.reduce(function(e,t){return e+t},0)}var c=a[0];switch(g(n)){case"dataset":case"datamap":return f.create("macrocall","(count:) shouldn't be given a datamap or dataset.","You should use the 'contains' operator instead. For instance, write: $variable contains 'value'.");case"string":return"string"!=typeof c?f.create("macrocall",y(n)+" can't contain  "+y(c)+" because it isn't also a string."):c?n.split(c).length-1:0;case"array":return n.reduce(function(e,t){return e+b(t,c)},0);default:return f.create("macrocall",y(n)+" can't contain values, let alone "+y(c)+".")}},[C,O(C)])}),define("macrolib/stylechangers",["jquery","macros","utils","utils/renderutils","datatypes/colour","datatypes/hookset","datatypes/gradient","datatypes/changercommand","datatypes/lambda","internaltypes/changedescriptor","internaltypes/twineerror"],function(e,t,n,r,a,i,o,s,c,u,l){var p=r.geomParse,f=r.geomStringRegExp,d=Object.assign,h=t.TypeSignature,y=h.either,m=h.wrapped,g=h.optional,v=h.Any,b=h.Everything,w=h.zeroOrMore,T=h.rest,S=h.insensitiveSet,x=h.positiveNumber,k=h.positiveInteger,O=h.nonNegativeNumber,j=h.percent,A=[m(Boolean,'If you gave a number, you may instead want to check that the number is not 0. If you gave a string, you may instead want to check that the string is not "".')];n.onStartup(function(){return e(n.storyElement).on("mouseenter.hover-macro","[hover=false]",function(){var t=e(this),n=t.data("hoverChanger");t.data({mouseoutStyle:t.attr("style")||""}),u.create({target:t},n).update(),t.attr("hover",!0)}).on("mouseleave.hover-macro","[hover=true]",function(){var t=e(this),n=t.data("mouseoutStyle");t.attr("style",n).removeData("mouseoutStyle").attr("hover",!1)})});var C,E,_=S("instant","dissolve","fade","rumble","shudder","pulse","zoom","flicker","slideleft","slideright","slideup","slidedown","fadeleft","faderight","fadeup","fadedown","blur"),N=S("dotted","dashed","solid","double","groove","ridge","inset","outset","none");t.addChanger("if",function(e,t){return s.create("if",[t])},function(e,t){return e.enabled=e.enabled&&t},A)("unless",function(e,t){return s.create("unless",[t])},function(e,t){return e.enabled=e.enabled&&!t},A)("elseif",function(e,t){return"lastHookShown"in e.stack[0]?s.create("elseif",[!1===e.stack[0].lastHookShown&&!!t]):l.create("macrocall","There's no (if:) or something else before this to do (else-if:) with.")},function(e,t){return e.enabled=e.enabled&&t},A)("else",function(e){return"lastHookShown"in e.stack[0]?s.create("else",[!1===e.stack[0].lastHookShown]):l.create("macrocall","There's nothing before this to do (else:) with.")},function(e,t){return e.enabled=e.enabled&&t},null)("hidden",function(){return s.create("hidden")},function(e){return e.enabled=!1},null)(["verbatim","v6m"],function(){return s.create("verbatim")},function(e){return e.verbatim=!0},null)("live",function(e,t){return s.create("live",[t])},function(e,t){e.enabled=!1,e.data.live={delay:t}},g(Number))("event",function(e,t){return s.create("event",[t])},function(e,t){e.enabled=!1,e.data.live={event:t}},c.TypeSignature("when"))("more",function(){return s.create("more")},function(e){e.enabled=!1,e.data.live={event:{when:!0,filter:function(e){return 0!==e.eval("Operations").Identifiers.exits?[]:[!0]}}}},null)("after",function(e,t,n){return s.create("after",[t].concat(void 0!==n?[n]:[]))},function(e,t,r){e.enabled=!1,e.data.live={event:{when:!0,filter:function(e){return n.anyInputDown()&&r&&(t-=r),e.eval("Operations").Identifiers.time>t?[!0]:[]}}}},[x,g(O)])("hook",function(e,t){return t?s.create("hook",[t]):l.create("datatype","(hook:) names can't be empty strings.")},function(e,t){return e.attr.push({name:t})},[String])(["for","loop"],function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return t.loop?s.create("for",[t].concat(r)):l.create("datatype","The lambda provided to (for:) must refer to a temp variable, not just 'it'.")},function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i,o=t.filter(e.section,r);if(i=l.containsError(o))return i;e.loopVars[t.loop.getName()]=o||[]},[c.TypeSignature("where"),w(v)])(["transition","t8n"],function(e,t){return s.create("transition",[n.insensitiveName(t)])},function(t,r){return t.transition=r,"zoom"===r&&(t.transitionOrigin=function(){var t=e(this).offset(),r=t.left,a=t.top;return n.mouseCoords.x-r+"px "+(n.mouseCoords.y-a)+"px"}),t},[_])(["transition-time","t8n-time"],function(e,t){return s.create("transition-time",[t])},function(e,t){return e.transitionTime=t,e.data.passageT8n=d(e.data.passageT8n||{},{time:t}),e},[x])(["transition-delay","t8n-delay"],function(e,t){return s.create("transition-delay",[t])},function(e,t){return e.transitionDelay=t,e},[O])(["transition-skip","t8n-skip"],function(e,t){return s.create("transition-skip",[t])},function(e,t){return e.transitionSkip=t,e},[x])(["transition-depart","t8n-depart"],function(e,t){return s.create("transition-depart",[n.insensitiveName(t)])},function(t,r){return t.data.passageT8n=d(t.data.passageT8n||{},{depart:r}),"zoom"===r&&(t.data.passageT8n.departOrigin=function(){var t=e(this).offset(),r=t.left,a=t.top;return n.mouseCoords.x-r+"px "+(n.mouseCoords.y-a)+"px"}),t},[_])(["transition-arrive","t8n-arrive"],function(e,t){return s.create("transition-arrive",[n.insensitiveName(t)])},function(t,r){return t.data.passageT8n=d(t.data.passageT8n||{},{arrive:r}),"zoom"===r&&(t.data.passageT8n.arriveOrigin=function(){var t=e(this),r=t.offset(),a=r.left,i=r.top,o=t.height();return{"transform-origin":100*(n.mouseCoords.x-a)/t.width()+"% "+100*(n.mouseCoords.y-i)/o+"%",height:o+"px"}}),t},[_])("button",function(){return s.create("button",[])},function(e){return e.attr.push({class:function(){return this.className+(this.classList.contains("enchantment-button")?"":" ".repeat(this.className.length>0)+"enchantment-button")}}),e},[])(["border","b4r"],function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return s.create("border",r.map(n.insensitiveName))},function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return t.styles.push({display:function(){var t=e(this).css("display");return r.every(function(e){return"none"===e})||!t.includes("inline")?t:"inline-block"},"border-style":r.join(" "),"border-width":function(){return this.style.borderWidth||"2px"}}),t},[N].concat(_toConsumableArray(Array(3).fill(g(N)))))(["border-size","b4r-size"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return s.create("border-size",n)},function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.styles.push({"border-width":n.map(function(e){return e+"px"}).join(" ")}),e},[O].concat(_toConsumableArray(Array(3).fill(g(O)))))("corner-radius",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return s.create("corner-radius",n)},function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.styles.push({"border-radius":n.map(function(e){return e+"px"}).join(" "),padding:function(){return this.style.padding||n.map(function(e){return e+"px"}).join(" ")}}),e},[O].concat(_toConsumableArray(Array(3).fill(g(O)))))(["border-colour","b4r-colour","border-color","b4r-color"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return s.create("border-colour",n.map(function(e){return a.isPrototypeOf(e)?e.toRGBAString(e):e}))},function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.styles.push({"border-color":n.join(" ")}),e},[y(String,a)].concat(_toConsumableArray(Array(3).fill(g(y(String,a))))))("opacity",function(e,t){return s.create("opacity",[t])},function(e,t){return e.styles.push({opacity:t})},[j])("font",function(e,t){return s.create("font",[t])},function(e,t){return e.styles.push({"font-family":t}),e},[String])("align",function(e,t){var n=void 0,r=t.indexOf("><");if(!/^(==+>|<=+|=+><=+|<==+>)$/.test(t))return l.create("datatype",'The (align:) macro requires an alignment arrow ("==>", "<==", "==><=" etc.) be provided, not "'+t+'"');if(~r){var a=Math.round(r/(t.length-2)*50);n=d({"text-align":"center","max-width":"50%"},25===a?{"margin-left":"auto","margin-right":"auto"}:{"margin-left":a+"%"})}else n="<"===t[0]&&">"===t.slice(-1)?{"text-align":"justify","max-width":"50%"}:t.includes(">")?{"text-align":"right"}:{"text-align":"left"};return n.display="inline-block",s.create("align",[n])},function(e,t){e.styles.push(t)},[String])(["text-colour","text-color","color","colour"],function(e,t){return s.create("text-colour",[t])},function(e,t){return a.isPrototypeOf(t)&&(t=t.toRGBAString(t)),e.styles.push({color:t}),e},[y(String,a)])(["text-size","size"],function(e,t){return s.create("text-size",[t])},function(e,t){return e.styles.push({"font-size":24*t+"px","line-height":36*t+"px"}),e},[O])("text-indent",function(e,t){return s.create("text-indent",[t])},function(e,t){return e.styles.push({"text-indent":t+"px",display:"inline-block"}),e},[O])(["text-rotate-z","text-rotate"],function(e,t){return s.create("text-rotate-z",[t])},function(t,n){return t.styles.push({display:"inline-block",transform:function(){var t=e(this).css("transform")||"";return"none"===t&&(t=""),t+" rotate("+n+"deg)"}}),t},[Number])("text-rotate-y",function(e,t){return s.create("text-rotate-y",[t])},function(t,n){return t.styles.push({display:"inline-block",transform:function(){var t=e(this).css("transform")||"";return"none"===t&&(t=""),t+" perspective(50vw) rotateY("+n+"deg)"}}),t},[Number])("text-rotate-x",function(e,t){return s.create("text-rotate-x",[t])},function(t,n){return t.styles.push({display:"inline-block",transform:function(){var t=e(this).css("transform")||"";return"none"===t&&(t=""),t+" perspective(50vw) rotateX("+n+"deg)"}}),t},[Number])(["background","bg"],function(e,t){return s.create("background",[t])},function(t,r){var i=void 0;return a.isPrototypeOf(r)?r=r.toRGBAString(r):o.isPrototypeOf(r)&&(r=r.toLinearGradientString(r)),i=a.isHexString(r)||a.isCSS3Function(r)?{"background-color":r}:r.startsWith("linear-gradient(")||r.startsWith("repeating-linear-gradient(")?{"background-image":r}:{"background-size":"cover","background-image":"url("+r+")"},t.styles.push(i,{display:function(){var t=e(this);return!t.children().length||n.childrenProbablyInline(t)?e(this).css("display"):"block"}}),t},[y(String,a,o)]).apply(void 0,_toConsumableArray((C={color:function(){return"transparent"}},E=d(Object.create(null),{none:{},bold:{"font-weight":"bold"},italic:{"font-style":"italic"},underline:{"text-decoration":"underline"},doubleunderline:{"text-decoration":"underline","text-decoration-style":"double"},wavyunderline:{"text-decoration":"underline","text-decoration-style":"wavy"},strike:{"text-decoration":"line-through"},doublestrike:{"text-decoration":"line-through","text-decoration-style":"double"},wavystrike:{"text-decoration":"line-through","text-decoration-style":"wavy"},superscript:{"vertical-align":"super","font-size":".83em"},subscript:{"vertical-align":"sub","font-size":".83em"},blink:{animation:"fade-in-out 1s steps(1,end) infinite alternate"},shudder:{animation:"shudder linear 0.1s 0s infinite"},mark:{"background-color":"hsla(60, 100%, 50%, 0.6)"},condense:{"letter-spacing":"-0.08em"},expand:{"letter-spacing":"0.1em"},outline:[{"text-shadow":function(){var t=e(this).css("color");return"-1px -1px 0 "+t+", 1px -1px 0 "+t+",-1px  1px 0 "+t+", 1px  1px 0 "+t}},{color:function(){return n.parentColours(e(this)).backgroundColour}}],shadow:{"text-shadow":function(){return"0.08em 0.08em 0.08em "+e(this).css("color")}},emboss:{"text-shadow":function(){return"0.04em 0.04em 0em "+e(this).css("color")}},smear:[{"text-shadow":function(){var t=e(this).css("color");return"0em   0em 0.02em "+t+",-0.2em 0em  0.5em "+t+", 0.2em 0em  0.5em "+t}},C],blur:[{"text-shadow":function(){return"0em 0em 0.08em "+e(this).css("color")}},C],blurrier:[{"text-shadow":function(){return"0em 0em 0.2em "+e(this).css("color")},"user-select":"none"},C],mirror:{display:"inline-block",transform:"scaleX(-1)"},upsidedown:{display:"inline-block",transform:"scaleY(-1)"},fadeinout:{animation:"fade-in-out 2s ease-in-out infinite alternate"},rumble:{animation:"rumble linear 0.1s 0s infinite"},sway:{animation:"sway linear 2.5s 0s infinite"},buoy:{animation:"buoy linear 2.5s 0s infinite"},fidget:{animation:function(){return"fidget step-end 60s "+60*-Math.random()+"s infinite"+(Math.random()<.5?" reverse":"")}}}),["text-style",function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return s.create("text-style",r.map(n.insensitiveName))},function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var a=0;a<n.length;a+=1)"none"===n[a]?e.styles=[]:e.styles=e.styles.concat(E[n[a]]);return e},[T(S.apply(void 0,_toConsumableArray(Object.keys(E))))]])))("collapse",function(){return s.create("collapse")},function(e){return e.attr.push({collapsing:!0}),e},[])("hover-style",function(e,t){var n=u.create(),r=(t.run(n),n.summary());return r+""=="styles"||r.every(function(e){return"styles"===e||"attr"===e})&&n.attr.every(function(e){return Object.keys(e)+""=="style"})?s.create("hover-style",[t]):l.create("datatype","The changer given to (hover-style:) must only change the hook's style.")},function(e,t){return e.data.hoverChanger=t,e.attr.push({hover:function(e,t){return void 0!==t&&t}}),e},[s])("css",function(e,t){return t.trim().endsWith(";")||(t+=";"),s.create("css",[t])},function(t,n){return t.attr.push({style:function(){return(e(this).attr("style")||"")+n}}),t},[String])("test-true",function(){return s.create("test-true",[])},function(e){return e.enabled=!0},w(b))("test-false",function(){return s.create("test-false",[])},function(e){return e.enabled=!1},w(b)),t.addCommand("animate",e.noop,function(e,t,r,a,i){r.forEach(t,function(t){var r=void 0;if("zoom"===name){var o=t.offset(),s=o.left,c=o.top;r=n.mouseCoords.x-s+"px "+(n.mouseCoords.y-c)+"px"}n.transitionIn(t,a,e.transitionTime||i,e.transitionDelay,e.transitionSkip,0,r)})},[T(i),S.apply(void 0,_toConsumableArray(_.innerType.filter(function(e){return"instant"!==e}))),g(x)]),["box","float-box"].forEach(function(r){return t.addChanger(r,function(e,t,n){var a=-1===t.search(f)||t.length>1&&!t.includes("="),i="float-box"===r&&(-1===n.search(f)||n.length>1&&!n.includes("="));return a||i?l.create("datatype","The ("+r+':) macro requires a sizing line("==X==", "==X", "=XXXX=" etc.) be provided, not "'+(a?t:n)+'".'):s.create(r,[t,n].filter(function(e){return void 0!==e}))},function(t,a,i){var o,s=p(a),c=s.marginLeft,u=s.size,l=void 0;if("float-box"===r){var f=p(i);l=f.marginLeft,i=f.size}var h="box"===r?"%":"vw",y=(_defineProperty(o={display:"block",width:u+h,"max-width":u+h},"box"===r?"margin-left":"left",c+h),_defineProperty(o,"box-sizing","content-box"),_defineProperty(o,"overflow-y","auto"),_defineProperty(o,"padding",function(){var t=e(this).css("padding");return t&&"0px"!==t?t:"1em"}),o);return void 0!==i&&(y.height=i+("box"===r?"em":"vh")),"float-box"===r&&d(y,{position:"fixed",top:l+"vh","background-color":function(){return n.parentColours(e(this)).backgroundColour}}),t.styles.push(y),t},[String,"box"===r?g(k):String])})}),define("internaltypes/enchantment",["jquery","utils","internaltypes/changedescriptor","datatypes/changercommand","utils/operationutils","internaltypes/twineerror","utils/renderutils"],function(e,t,n,r,a,i,o){var s=a.objectName,c=o.collapse,u={create:function(n){return t.assertOnlyHas(n,["scope","localHook","section","attr","data","changer","functions","lambda","name"]),Object.assign(Object.create(this),{enchantments:e()},n)},enchantScope:function(){var a=this,o=this.attr,u=this.data,l=this.functions,p=this.section,f=this.scope,d=this.localHook,h=this.lambda,y=[];f.forEach(p,function(m,g){if(!d||(d.jquery?d:d.hooks(p)).has(m[0]).length){var v=void 0;if(h)if(v=h.apply(p,{loop:f.TwineScript_GetProperty(g),pos:g+1}),i.containsError(v))m.replaceWith(v.render("")),h=v=null;else if(r.isPrototypeOf(v)){var b=v.summary();(b.includes("newTargets")||b.includes("target"))&&(m.replaceWith(i.create("macrocall","The changer produced by the 'via' lambda given to enchantment macros can't include a revision or enchantment changer like (replace:) or (click:).").render("")),h=v=null)}else m.replaceWith(i.create("macrocall","The 'via' lambda given to enchantment macros must return a changer, not "+s(v)+".").render("")),h=v=null;else v=a.changer;var w=!o&&!u&&(!v||v.summary().every(function(e){return e.startsWith("transition")})),T=w?m:m.wrap("<tw-enchantment>").parent();if(o&&T.attr(o),u&&T.data(u),l&&l.forEach(function(e){return e(T)}),v){var S=n.create({section:p,target:T});if(v.run(S),S.update(),m.is(t.storyElement)){var x=Object.keys(Object.assign.apply(Object,[{}].concat(_toConsumableArray(S.styles))));m.css(x.reduce(function(e,t){return"background-color"===t||"background-image"===t?e.background="transparent":e[t]="inherit",e},{})),T.data({enchantedProperties:x})}else if(m.is("tw-passage")&&S.styles.some(function(e){return"margin-left"in e||"margin"in e||"margin-right"in e})){var k="padding-left",O="padding-right";t.storyElement.css(k,"0px").css(O,"0px"),T.data({enchantedProperties:[k,O]})}}m.is(t.storyElement)&&T.css({width:"100%",height:"100%"}),"true"===T.attr("collapsing")&&(T.find("[collapsing=false]").each(function(){e(this).removeAttr("collapsing")}),c(T)),w||y.push(T)}}),this.enchantments=e(y)},disenchant:function(){this.enchantments.each(function(){e(this).contents().unwrap();var n=e(this).data("enchantedProperties");n&&t.storyElement.css(n.reduce(function(e,t){return e[t]="",e},{}))})}};return Object.freeze(u)}),define("macrolib/enchantments",["jquery","utils","utils/operationutils","engine","state","passages","macros","datatypes/hookset","datatypes/changercommand","datatypes/lambda","internaltypes/changedescriptor","internaltypes/enchantment","internaltypes/twineerror"],function(e,t,n,r,a,i,o,s,c,u,l,p,f){var d=n.is,h=o.TypeSignature,y=h.either,m=h.rest,g=h.optional;function v(e,t){if(c.isPrototypeOf(t)){var n=t.summary();if(["newTargets","target","appendSource","functions"].some(function(e){return n.includes(e)}))return f.create("datatype","The changer given to ("+e+":) can't include a revision or enchantment changer like (replace:) or (click:).")}}["enchant","change"].forEach(function(e){o.addCommand(e,function(t,n){var r=v(e,n);if(r)return r},function(t,n,r){var a;n=s.from(n);var i=[];if(c.isPrototypeOf(r)){var o=l.create({section:t});if(r.run(o),(o.innerEnchantments||[]).length>0){var u=o.innerEnchantments.map(function(e){return e(n)});i.push.apply(i,_toConsumableArray(u))}}return i.push(p.create((_defineProperty(a={scope:n},c.isPrototypeOf(r)?"changer":"lambda",r),_defineProperty(a,"section",t),a))),i.forEach(function(n){"enchant"===e?(t.addEnchantment(n),t.updateEnchantments()):n.enchantScope()}),""},[y(s,String),y(c,u.TypeSignature("via"))],!1)}),o.addChanger("enchant-in",function(e,t,n){var r=v("enchant-in",n);return r||c.create("enchant-in",[t,n])},function(e,t,n){return e.innerEnchantments=(e.innerEnchantments||[]).concat(function(r){var a;return p.create((_defineProperty(a={scope:s.from(t),localHook:r},c.isPrototypeOf(n)?"changer":"lambda",n),_defineProperty(a,"section",e.section),a))}),e},[y(s,String),y(c,u.TypeSignature("via"))]),[["link-style",s.create({type:"name",data:"link"})],["line-style",s.create({type:"base",data:s.create({type:"name",data:"page"})},"lines",void 0)],["char-style",s.create({type:"base",data:s.create({type:"name",data:"page"})},"chars",void 0)]].forEach(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];o.addChanger(n,function(e,t){var r=v(n,t);return r||c.create(n,[t])},function(e,t){return e.innerEnchantments=(e.innerEnchantments||[]).concat(function(n){var a;return p.create((_defineProperty(a={scope:r,localHook:n},c.isPrototypeOf(t)?"changer":"lambda",t),_defineProperty(a,"section",e.section),a))}),e},[y(c,u.TypeSignature("via"))])});var b=["replace","append","prepend"];function w(n,a){return t.onStartup(function(){var r=n.classList.replace(/ /g,"."),a=n.blockClassList?n.blockClassList.replace(/ /g,"."):"",i="."+r+(a?",."+a:"");t.storyElement.on(n.event.map(function(e){return e+".enchantment"}).join(" "),i,function(){var t=e(Array.from(e(this).parents(i).add(this)).sort(function(e,t){return 8&e.compareDocumentPosition(t)?1:-1})[0]),n=t.data("enchantmentEvent");n&&n(t)})}),[function(e,t,n){if(!t)return f.create("datatype","A string given to this ("+a+":) macro was empty.");if(n){var r=v(a,n);if(r)return r}return c.create(a,[s.from(t)].concat(n?[n]:[]))},function(e,t,i){e.enabled=!1,e.transitionDeferred=!0,n.rerender&&(e.newTargets=(e.newTargets||[]).concat({target:t,append:n.rerender}));var o=e.section&&e.section.stackTop?e.section.stackTop.tempVariables:Object.create(null),s=p.create(_defineProperty({functions:[function(e){e.attr("class",e.children().is("tw-story, tw-sidebar, tw-passage")||"block"===e.children().css("display")?n.blockClassList:n.classList)}],attr:(n.classList+"").match(/\b(?:link|enchantment-clickblock)\b/)?{tabIndex:"0"}:{},data:{enchantmentEvent:function(){e.section.stackTop&&e.section.stackTop.blocked||(n.once&&e.section.removeEnchantment(s),n.goto?r.goToPassage(n.goto,{transition:n.transition}):n.undo?r.goBack({transition:n.transition}):e.section.renderInto(e.source,null,Object.assign({},e,{enabled:!0,transitionDeferred:!1}),o))}},scope:t,section:e.section,name:a},c.isPrototypeOf(i)?"changer":"lambda",i));return e.section&&(e.section.addEnchantment(s),s.enchantScope()),e},[y(s,String),g(y(c,u.TypeSignature("via")))]]}b.forEach(function(t){o.addChanger(t,function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.every(Boolean)?c.create(t,r.map(s.from)):f.create("datatype","A string given to this ("+t+":) macro was empty.")},function(n){for(var r,a=arguments.length,i=Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return e(n.target).parents().filter("tw-collapsed,[collapsing=true]").length>0||n.attr.some(function(e){return e.collapsing})||(n.attr=[].concat(_toConsumableArray(n.attr),[{collapsing:!1}])),n.newTargets=n.newTargets||[],(r=n.newTargets).push.apply(r,_toConsumableArray(i.filter(function(e){return!n.newTargets.some(function(n){var r=n.target,a=n.append;return d(e,r)&&t===a})}).map(function(e){return{target:e,append:t,before:!0}}))),n},m(y(s,String)))(t+"-with",function(e,n){return c.create(t+"-with",[n])},function(e,n){return e.appendSource=(e.appendSource||[]).concat({source:n,append:t}),e},String)});var T="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,S=[{name:"click",enchantDesc:{event:["click"],once:!0,rerender:"",classList:"link enchantment-link",blockClassList:"enchantment-clickblock"}},{name:"mouseover",enchantDesc:{event:["mouseenter",T?"click":""].filter(Boolean),once:!0,rerender:"",classList:"enchantment-mouseover",blockClassList:"enchantment-mouseoverblock"}},{name:"mouseout",enchantDesc:{event:["mouseleave",T?"click":""].filter(Boolean),once:!0,rerender:"",classList:"enchantment-mouseout",blockClassList:"enchantment-mouseoutblock"}}];S.forEach(function(e){return o.addChanger.apply(o,[e.name].concat(_toConsumableArray(w(e.enchantDesc,e.name))))}),t.onStartup(function(){S.forEach(function(n){var r=n.enchantDesc;r.blockClassList&&t.storyElement.on(r.event.map(function(e){return e+".enchantment"}).join(" "),function(){var t=e(Array.from(e(this).parents("."+r.blockClassList.replace(/ /g,"."))).sort(function(e,t){return 8&e.compareDocumentPosition(t)?1:-1})[0]),n=t.data("enchantmentEvent");n&&n(t)})})}),b.forEach(function(e){S.forEach(function(t){var n=Object.assign({},t.enchantDesc,{rerender:e}),r=t.name+"-"+e;o.addChanger.apply(o,[r].concat(_toConsumableArray(w(n,r))))})}),S.forEach(function(e){["goto","undo"].forEach(function(t){var n=e.name+"-"+t;o.addCommand(n,function(e,r){return!e||!r&&"goto"===t?f.create("datatype","A string given to this ("+n+":) macro was empty."):"goto"!==t||i.hasValid(r)?void 0:f.create("macrocall","I can't ("+n+":) the passage '"+r+"' because it doesn't exist.")},function(r,i,o,c){if("undo"===t&&a.pastLength<1)return f.create("macrocall","I can't (undo:) on the first turn.");var u=w(Object.assign({},e.enchantDesc,{transition:r.data.passageT8n},"undo"===t?{undo:!0}:{goto:c}),n);return(0,_slicedToArray(u,2)[1])({section:i},s.from(o)),Object.assign(r,{source:""})},[y(s,String)].concat("undo"===t?[]:String))})})}),define("macrolib/metadata",["macros","renderer","utils/operationutils","datatypes/lambda","internaltypes/twineerror"],function(e,t,n,r,a){var i=n.clone,o=n.objectName,s=n.isValidDatamapName,c=e.TypeSignature,u=c.zeroOrMore,l=c.Any,p=t.options.metadataMacros,f=function(e){return{TwineScript_TypeName:"a ("+e+":) macro",TwineScript_ObjectName:"a ("+e+":) macro",TwineScript_Unstorable:!0,TwineScript_Print:function(){return""}}};[["storylet",r.TypeSignature("when")],["urgency",Number],["exclusivity",Number]].forEach(function(t){var n=_slicedToArray(t,2),r=n[0],a=n[1];e.add(r,function(e,t){return e.stackTop.speculativePassage?t:f(r)},a),p.push(r)}),e.add("metadata",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var c=void 0,u=new Map,l=n.reduce(function(e,t){var n=void 0;if(a.containsError(e))return e;if(void 0===c)c=t;else{if(n=a.containsError(s(u,c)))return n;if(u.has(c))return a.create("macrocall","You used the same data name ("+o(c)+") twice in the same (metadata:) call.");u.set(c,i(t)),c=void 0}return e},!0);return a.containsError(l)?l:void 0!==c?a.create("macrocall","This (metadata:) macro has a data name without a value."):e.stackTop.speculativePassage?u:f("storylet")},u(l)),p.push("metadata")}),define("macrolib/patterns",["jquery","macros","utils","utils/operationutils","datatypes/datatype","datatypes/typedvar","internaltypes/twineerror"],function(e,t,n,r,a,i,o){var s=n.anyRealLetter,c=n.anyUppercase,u=n.anyLowercase,l=n.anyCasedLetter,p=n.realWhitespace,f=n.impossible,d=r.objectName,h=r.toSource,y=t.TypeSignature,m=y.rest,g=y.either,v=y.optional,b=y.nonNegativeInteger,w=Object.assign,T=Object.create,S=m(g(String,a,i)),x=function e(t){var n,r=t.name,y=t.fullArgs,m=t.args,g=t.makeRegExpString,v=void 0===g?function(e){return e.join("")}:g,b=t.insensitive,S=void 0!==b&&b,x=t.canContainTypedVars,k=void 0===x||x,O=t.canBeUsedAlone,j=void 0===O||O,A=m||y,C=A.map(function e(t){if(i.isPrototypeOf(t)){if(!k)return o.create("operation","Optional string patterns, like ("+r+":)"+("p-many"===r?" with min 0":"")+", can't have typed variables inside them.");var n=e(t.datatype);return o.containsError(n)?n:"("+n+")"}if(a.isPrototypeOf(t)){if(!k&&"typedVars"in t&&t.typedVars().length)return o.create("operation","("+r+":) can't have typed variables inside its pattern.");if(t.regExp)return(t.rest?"(?:":"")+(S?t.insensitive().regExp:t.regExp)+(t.rest?")*":"");var h=t.name,y=t.rest?"*":"";return"alnum"===h?s+y:"whitespace"===h?p+y:"uppercase"===h?(S?l:c)+y:"lowercase"===h?(S?l:u)+y:"anycase"===h?l+y:"digit"===h?"\\d"+y:"linebreak"===h?"(?:\\r|\\n|\\r\\n)"+y:"str"===h?".*?":["even","odd","int","num"].includes(h)?o.create("datatype","Please use string datatypes like 'digit' in ("+r+":) instead of number datatypes."):o.create("datatype","The ("+r+":) macro must only be given string-related datatypes, not "+d(t)+".")}return"string"==typeof t?(t=t.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),S&&(t=t.replace(RegExp("("+c+"|"+u+")","g"),function(e){return"["+e.toUpperCase()+e.toLowerCase()+"]"})),t):(f("createPattern","mapper() was given a non-string non-datatype "+t),"")});if(n=o.containsError(C))return n;var E=v(C),_=w(T(a),{name:r,regExp:E,insensitive:function(){return S?_:e({name:r,fullArgs:y,args:A.map(function(e){return a.isPrototypeOf(e)&&"function"==typeof e.insensitive?e.insensitive():e}),makeRegExpString:v,insensitive:!0,canContainTypedVars:k,canBeUsedAlone:j})},typedVars:function(){return A.reduce(function(t,n){return i.isPrototypeOf(n)&&(t=t.concat(S?i.create(e({name:"p-ins",fullArgs:[n.datatype],insensitive:!0}),n.varRef):n),n=n.datatype),a.isPrototypeOf(n)&&"function"==typeof n.typedVars&&(t=t.concat(n.typedVars())),t},[])},destructure:function(t){if("string"!=typeof t)return[o.create("operation","I can't unpack "+d(t)+" into "+this.TwineScript_ToSource()+" because it isn't a string.")];var n=this.typedVars();if(!n.length)return[];var r=(RegExp("^"+(this.rest?"(?:":"")+E+(this.rest?")*":"")+"$").exec(t)||[]).slice(1);return r.length?r.map(function(t,r){var a=n[r];if(a)return a.datatype.rest&&!a.datatype.regExp&&((a=a.TwineScript_Clone()).datatype=e({name:"p",fullArgs:[a.datatype]})),{dest:a,value:t||"",src:void 0}}).filter(Boolean):[o.create("operation","I can't unpack "+d(t)+" because it doesn't match the pattern "+this.TwineScript_ToSource()+".")]},TwineScript_IsTypeOf:function(e){return j?"string"==typeof e&&!!e.match("^"+(this.rest?"(?:":"")+E+(this.rest?")*":"")+"$"):o.create("operation","A ("+r+":) datatype must only be used with a (p:) macro.")},TwineScript_toTypeSignatureObject:function(){var e=this;return{pattern:"range",name:r,range:function(t){return e.TwineScript_IsTypeOf(t)}}},TwineScript_ToSource:function(){return(this.rest?"...":"")+"("+r+":"+y.map(h)+")"}});return Object.defineProperty(_,"TwineScript_ObjectName",{get:function(){return"a ("+r+":) datatype"}}),_};t.add(["p","pattern"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return x({name:"p",fullArgs:n})},S)(["p-either","pattern-either"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return x({name:"p-either",fullArgs:n,canContainTypedVars:!1,makeRegExpString:function(e){return"(?:"+e.join("|")+")"}})},S)(["p-opt","pattern-opt","p-optional","pattern-optional"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return x({name:"p-opt",fullArgs:n,canContainTypedVars:!1,makeRegExpString:function(e){return"(?:"+e.join("")+")?"}})},S)(["p-not","pattern-not"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.find(function(e){return"string"==typeof e?1!==[].concat(_toConsumableArray(e)).length:e.rest||e.regExp||["str","empty"].includes(e.name)})?o.create("datatype","(p-not:) should only be given single character"):x({name:"p-not",fullArgs:n,canContainTypedVars:!1,makeRegExpString:function(e){return"[^"+e.map(function(e){return e.startsWith("[")&&e.endsWith("]")?e.slice(1,-1):e}).join("")+"]"}})},S)(["p-many","pattern-many"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var s=n.slice(),c=void 0,u=void 0;if("number"==typeof n[0]&&(c=n.shift(),u="number"==typeof n[0]?n.shift():1/0),void 0!==u&&u<c)return o.create("datatype","The (p-many:) macro needs to be given string patterns, not just min and max numbers.");if(!n.length)return o.create("datatype","The (p-many:) macro needs to be given string patterns, not just min and max numbers.");var l=n.find(function(e){return"string"!=typeof e&&!a.isPrototypeOf(e)&&!i.isPrototypeOf(e)});return l?o.create("datatype","This (p-many:) macro can only be given a min and max number followed by datatypes or strings, but was also given "+d(l)+"."):x({name:"p-many",args:n,fullArgs:s,canContainTypedVars:c>0,makeRegExpString:function(e){return"(?:"+e.join("")+")"+(void 0!==c?"{"+c+(u===1/0?",":u!==c?","+u:"")+"}":"+")}})},[m(g(b,String,a,i))])(["p-ins","pattern-ins","p-insensitive","pattern-insensitive"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return x({name:"p-ins",fullArgs:n,insensitive:!0})},S)(["split","splitted"],function(e,t,n){if(t=x({name:"split",fullArgs:[t],canContainTypedVars:!1}),o.containsError(t))return t;if(!n)return[""];if(!t.regExp)return[].concat(_toConsumableArray(n));for(var r=RegExp(t.regExp),a=[],i=void 0;n&&(i=r.exec(n));){if(i.index+i[0].length===0)return a;a.push(n.slice(0,i.index)),n=n.slice(i.index+i[0].length)}return a.concat(n||[])},[g(String,a),String])("trimmed",function(e,t,n){return void 0===n||a.isPrototypeOf(t)&&"whitespace"===t.name?t.trim():(t=x({name:"trimmed",fullArgs:[t],canContainTypedVars:!1}),o.containsError(t)?t:t.regExp?n.replace(RegExp("^("+t.regExp+")*|("+t.regExp+")*$","g"),""):n)},[g(String,a),v(String)])}),define("macrolib/links",["jquery","macros","utils","state","passages","engine","datatypes/changercommand","internaltypes/changedescriptor","datatypes/hookset","datatypes/lambda","internaltypes/twineerror"],function(e,t,n,r,a,i,o,s,c,u,l){var p=t.TypeSignature,f=p.optional,d=p.rest,h=p.either,y=["Links can't have empty strings for their displayed text.","In the link syntax, a link's displayed text is inside the [[ and ]], and on the non-pointy side of the -> or <- arrow if it's there."],m=Object.assign;function g(e,t,r){r=r||t;var i=a.hasValid(t)&&t===r,o=e.evaluateTwineMarkup(n.unescape(r),"a link's passage name"),s=void 0;if(i){var c=o.children().length>0?"`".repeat((r.match(/`+/)||[]).reduce(function(e,t){return Math.max(e,t.length+1)},1)):"";t=c+"\0".repeat(!!c)+t+"\0".repeat(!!c)+c}else o.findAndFilter("tw-error").length&&(s=o.findAndFilter("tw-error").data("TwineError")),r=o.text();return{text:t,passage:r,error:s}}n.onStartup(function(){e(n.storyElement).on("click.passage-link","tw-link",function(t){var n=e(this),r=n.closest("tw-expression"),a=n.closest("tw-expression, tw-hook"),o=a.data("clickEvent"),s=a.data("section");if(!(s&&s.stackTop&&s.stackTop.blocked)||s.stackTop.blocked instanceof e&&s.stackTop.blocked.find(n).length){if(o){if(n.find("tw-error").length>0)return;return t.stopPropagation(),void o(n)}var c=r.data("linkPassageName"),u=Object.assign({},r.data("passageT8n")||{});return r.find("tw-enchantment").each(function(t,n){Object.assign(u,e(n).data("passageT8n")||{})}),c?(t.stopPropagation(),void i.goToPassage(c,{transition:u})):n.is("[undo]")?(t.stopPropagation(),void i.goBack({transition:u})):n.is("[fullscreen]")?(t.stopPropagation(),void i.toggleFullscreen()):void 0}}),e(document).on("fullscreenchange",function(){e("tw-link[fullscreen]",n.storyElement).each(function(t,n){(e(n).closest("tw-expression, tw-hook").data("fullscreenEvent")||Object)(n)})})}),[["link","link-replace"],["link-reveal"],["link-repeat"],["link-rerun"]].forEach(function(e){return t.addChanger(e,function(t,n,r){if(!n)return l.create("datatype",y[0]);if(r){var a=r.summary();if(["newTargets","target","appendSource","functions"].some(function(e){return a.includes(e)}))return l.create("datatype","The changer given to ("+e[0]+":) can't include a revision or enchantment changer like (replace:) or (click:).")}return o.create(e[0],[n].concat(r||[]))},function(t,n,r){var a=e[0],i=t.section&&t.section.stackTop?t.section.stackTop.tempVariables:Object.create(null),o=s.create({source:"<tw-link tabindex=0>"+n+"</tw-link>",target:function(){return t.target},append:"replace",data:{section:t.section,clickEvent:function(e){t.enablers=t.enablers.filter(function(e){return e.descriptor!==o}),"link-reveal"===a&&e.contents().unwrap();var n=e.parentsUntil(":not(tw-enchantment)").parent();if(n.length||(n=e.parent()),"link-rerun"===a){var r=e.parentsUntil(":not(tw-enchantment)");e.detach(),r.remove()}"link"!==a&&"link-rerun"!==a||n.empty(),t.section.renderInto("",null,t,i),"link-rerun"===a&&n.prepend(e)}}});return t.enablers=(t.enablers||[]).concat({descriptor:o,changer:r}),t},[String,f(o)])}),t.addCommand("link-goto",function(e){if(!e)return l.create.apply(l,["datatype"].concat(y))},function(e,t,i,o){var s,c=g(t,i,o);if(i=c.text,o=c.passage,s=c.error)return s;if(e.transition){var u="transition";return l.create("datatype","Please attach ("+u+"-depart:) or ("+u+"-arrive:) to a passage link, not ("+u+":).")}var p=void 0;return a.hasValid(o)||(p='<tw-broken-link passage-name="'+n.escape(o)+'">'+i+"</tw-broken-link>"),p=p||"<tw-link tabindex=0 "+(r.passageNameVisited(o)>0?'class="visited" ':"")+">"+i+"</tw-link>",e.data.linkPassageName=o,e.data.section=t,m(e,{source:p,transitionDeferred:!0})},[String,f(String)])("link-storylet",function(){var e,t=(e=1===arguments.length||"string"!=typeof(arguments.length<=0?void 0:arguments[0])?0:1,arguments.length<=e?void 0:arguments[e]);if(!t||"string"==typeof t)return l.create("datatype","(link-storylet:) should be given one index number or one 'where' lambda, after the optional link text string.")},function(e,t){var n,i,o,s=(n=2+(1==(arguments.length<=2?0:arguments.length-2)?0:3==(arguments.length<=2?0:arguments.length-2)||"string"==typeof(arguments.length<=2?void 0:arguments[2])?1:2),arguments.length<=n?void 0:arguments[n]),c="string"==typeof(arguments.length<=2?void 0:arguments[2])&&(arguments.length<=2?void 0:arguments[2]),p=(i=(arguments.length<=2?0:arguments.length-2)-1+2,(arguments.length<=i?void 0:arguments[i])!==s&&(o=(arguments.length<=2?0:arguments.length-2)-1+2,arguments.length<=o?void 0:arguments[o]));if(e.transition){var f="transition";return l.create("datatype","Please attach ("+f+"-depart:) or ("+f+"-arrive:) to (link-storylet:), not ("+f+":).")}var d=u.isPrototypeOf(s),h=a.getStorylets(t,d&&s),y=l.containsError(h);if(y)return y;var g=h[d?0:s<0?h.length+s:s-1],v=void 0;if(g)g=g.get("name"),c=c||g,v=v||"<tw-link tabindex=0 "+(r.passageNameVisited(g)>0?'class="visited" ':"")+">"+c+"</tw-link>",e.data.linkPassageName=g,e.data.section=t;else{if(!p)return e;v=p}return m(e,{source:v,transitionDeferred:!0})},[h(parseInt,String,u.TypeSignature("where")),f(h(parseInt,String,u.TypeSignature("where"))),f(String)])("link-undo",function(e){if(!e)return l.create("datatype",y[0])},function(e,t,n){return r.pastLength<1?l.create("macrocall","I can't use (link-undo:) on the first turn."):(e.data.section=t,m(e,{source:"<tw-link tabindex=0 undo>"+n+"</tw-link>",transitionDeferred:!0}))},[String])("link-show",function(e){if(!e)return l.create("datatype",y[0])},function(t,n,r){for(var a=arguments.length,i=Array(a>3?a-3:0),o=3;o<a;o++)i[o-3]=arguments[o];return t.data.section=n,t.data.clickEvent=function(r){r.contents().unwrap(),i.forEach(function(r){return r.forEach(n,function(r){var a=r.data("originalSource")||"",i=r.data("hidden");if(i)if(r.removeData("hidden"),i instanceof e)r.empty().append(i);else{var o=r.data("tempVariables");n.renderInto("",null,m({},t,{source:a,target:r,transitionDeferred:!1}),o&&Object.create(o))}})})},m(t,{source:"<tw-link tabindex=0>"+r+"</tw-link>",transitionDeferred:!0})},[String,d(c)])("link-fullscreen",function(e,t){if(!e||!t)return l.create("datatype",y[0])},function(e,t,n,r){var a=function(){return document.fullscreenEnabled||document.msFullscreenEnabled?"<tw-link tabindex=0 fullscreen>"+(document.fullscreenElement||document.msFullscreenElement?r:n)+"</tw-link>":r?"<tw-broken-link>"+r+"</tw-broken-link>":""},i=t.stackTop.tempVariables;return e.data.section=t,e.data.fullscreenEvent=function(){(document.fullscreenEnabled||document.msFullscreenEnabled)&&e.data.section.whenUnblocked(function(){var t=m({},e,{append:"replace",source:a(),transitionDeferred:!1});e.section.renderInto("",null,t,i)})},m(e,{source:a(),transitionDeferred:!0})},[String,String,f(String)]),t.addChanger(["link-reveal-goto"],function(e,t,n,r){if(!t)return l.create.apply(l,["datatype"].concat(y));if(o.isPrototypeOf(n)){if(o.isPrototypeOf(r))return l.create("datatype","You mustn't give two changers to (link-reveal-goto:)");r=n,n=void 0}if(r){var a=r.summary();if(["newTargets","target","appendSource","functions"].some(function(e){return a.includes(e)}))return l.create("datatype","The changer given to (link-reveal-goto:) can't include a revision or enchantment changer like (replace:) or (click:).")}var i=g(e,t,n);return t=i.text,n=i.passage,i.error||o.create("link-reveal-goto",[t,n,r].filter(function(e){return void 0!==e}))},function(e,t,o,c){if(a.hasValid(o)){var u=r.passageNameVisited(o),l=e.section&&e.section.stackTop?e.section.stackTop.tempVariables:Object.create(null),p=s.create({source:"<tw-link tabindex=0 "+(u>0?'class="visited" ':"")+">"+t+"</tw-link>",target:e.target,append:"replace",data:{section:e.section,append:"replace",clickEvent:function(t){e.enablers=e.enablers.filter(function(e){return e.descriptor!==p}),t.contents().unwrap(),e.section.renderInto("",null,e,l),e.section.whenUnblocked(function(){return i.goToPassage(o,{transition:e.data.passageT8n})})}}});return e.enablers=(e.enablers||[]).concat({descriptor:p,changer:c}),e}e.source='<tw-broken-link passage-name="'+n.escape(o)+'">'+t+"</tw-broken-link>"},[String,f(h(o,String)),f(o)])}),define("macrolib/custommacros",["utils","macros","state","utils/operationutils","datatypes/changercommand","datatypes/custommacro","datatypes/codehook","datatypes/typedvar","internaltypes/twineerror"],function(e,t,n,r,a,i,o,s,c){var u=t.add,l=t.addChanger,p=t.addCommand,f=t.TypeSignature,d=f.rest,h=f.either,y=f.Any,m=r.objectName;u("macro",function(t){for(var r=arguments.length,a=Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];var u=void 0,l=[];for(u=0;u<a.length;u+=1){var p=u===a.length-1;if(s.isPrototypeOf(a[u])===p)return c.create("datatype","The "+(p?"":e.nth(a.length-u+1)+"-")+"last value given to (macro:) should be a "+(p?"code hook":"datatyped variable")+", not "+m(a[u]));if(!p){var f="A custom macro";if(a[u].varRef.object===n.variables)return c.create("datatype",f+"'s typed variables must be temp variables (with a '_'), not global variables (with a '$').","Write them with a _ symbol at the start instead of a $ symbol.");if(a[u].varRef.propertyChain.length>1)return c.create("datatype",f+"'s typed variables can't be properties inside a data structure.");if(a[u].datatype.rest&&u!==a.length-2)return c.create("datatype",f+" can only have one spread variable, and it must be its last variable.");var d=a[u].varRef.propertyChain[0];if(l.includes(d))return c.create("datatype",f+"'s typed variables can't both be named '"+d+"'.");l.push(d)}}return i.create(a.slice(0,-1),a[a.length-1])},[d(h(s,o))]);var g=function(e,t,n){if(!t.some(function(e){if("function"==typeof e.output)return e.output(n),!0}))return c.create("macrocall","("+e+":) should only be used inside a code hook passed to (macro:).")};p(["output-data","out-data"],function(){},function(e,t){var n=e.stack;return g("output-data",n,t)||{blocked:!0}},[y],!1),l(["output","out"],function(e){return Object.assign(a.create("output",[e]))},function(e,t){var n=t.stack,r=t.stackTop;return e.loopVars=Object.keys(r.tempVariables).reduce(function(e,t){return e[t]=[r.tempVariables[t]],e},{}),g("output",n,e),r.blocked=!0,e},[]),p("error",function(e){if(!e)return c.create("datatype","This (error:) macro was given an empty string.")},function(e,t){var n=e.stack;return g("error",n,c.create("user",t))||{blocked:!0}},[String],!1)}),define("repl",["utils","engine","markup","twinescript/compiler","twinescript/environ"],function(e,t,n,r,a){e.onStartup(function(){return setTimeout(function(){t.options.debug&&(window.REPL=function(e){var t=r(n.lex("(print:"+e+")"));console.log(t);var i=a({}).eval(t);return i.TwineScript_Run?i.TwineScript_Run().source:i},window.LEX=function(e){var t=n.lex(e);return 1===t.length?t[0]:t})})})}),require.config({paths:{jquery:"../node_modules/jquery/dist/jquery",almond:"../node_modules/almond/almond","es6-shim":"../node_modules/es6-shim/es6-shim",jqueryplugins:"utils/jqueryplugins",markup:"./markup/markup",lexer:"./markup/lexer",patterns:"./markup/patterns"},deps:["es6-shim","jqueryplugins"]}),require(["jquery","debugmode/mode","renderer","state","section","engine","passages","utils","utils/renderutils","internaltypes/varscope","internaltypes/twineerror","macros","macrolib/values","macrolib/commands","macrolib/datastructures","macrolib/stylechangers","macrolib/enchantments","macrolib/metadata","macrolib/patterns","macrolib/links","macrolib/custommacros","repl"],function($,DebugMode,Renderer,State,Section,Engine,Passages,Utils,_ref118,VarScope,TwineError){var dialog=_ref118.dialog;function __HarloweEval(text){return eval(text+"")}var _installHandlers=function(){$(document.documentElement).on("keydown",function(e){13===e.which&&"0"===e.target.getAttribute("tabindex")&&$(e.target).trigger("click")}),Engine.options.debug?DebugMode():TwineError.on("error",function(e,t){return!$("tw-debugger").length&&DebugMode(e,t)}),_installHandlers=null},oldOnError;function printJSError(e){var t=e.name+": "+e.message;if(e.stack){var n=e.stack.split("\n"),r=n.findIndex(function(e){return e.includes("__HarloweEval")});t+="\n"+n.slice(0,r).join("\n").replace(/\([^\)]+\)/g,"")}return"<div style='font-family:monospace;overflow-y:scroll;max-height:30vh'>```"+t+"```</div>"}oldOnError=window.onerror,window.onerror=function(e,t,n,r,a){window.onerror=oldOnError,Utils.storyElement.parent().append(dialog({message:"Sorry to interrupt, but this page's code has got itself in a mess.\n\n"+printJSError(a)+"\n(This is probably due to a bug in the Harlowe game engine.)"})),"function"==typeof oldOnError&&oldOnError.apply(void 0,arguments)},Utils.onStartup(function(){var e=$("tw-storydata");if(0!==e.length){var t=e.attr("options");t&&t.split(/\s/).forEach(function(e){Renderer.options[e]=Engine.options[e]=!0});var n=e.attr("startnode");Renderer.options.ifid=Engine.options.ifid=e.attr("ifid"),n||(n=[].reduce.call($("tw-passagedata"),function(e,t){var n=t.getAttribute("pid");return n<e?n:e},1/0)),n=$("tw-passagedata[pid="+n+"]").attr("name"),_installHandlers();var r=!1;$("[role=script]").each(function(e){try{__HarloweEval($(this).html())}catch(t){r||(r=!0,dialog({parent:Utils.storyElement.parent(),message:"There is a problem with this story's "+Utils.nth(e+1)+" script:\n\n"+printJSError(t)}))}}),$("[role=stylesheet]").each(function(e){$(document.head).append('<style data-title="Story stylesheet '+(e+1)+'">'+$(this).html())});var a=Section.create();a.stack=[{tempVariables:Object.create(VarScope)}];var i=Passages.loadMetadata(a);if(i.length){var o=dialog({parent:Utils.storyElement.parent(),message:"These errors occurred when running the `(metadata:)` macro calls in this story's passages:<p></p>"});i.forEach(function(e){return o.find("p").append(e.render(""))})}var s=!Engine.options.debug&&State.hasSessionStorage&&sessionStorage.getItem("Saved Session");s&&!0===State.deserialise(a,s)?Engine.showPassage(State.passage,!1):Engine.goToPassage(n)}})}),define("harlowe",function(){}),require(["harlowe"])}();
</script>

</body>
</html>
